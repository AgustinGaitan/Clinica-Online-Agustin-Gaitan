(self.webpackChunkclinica_online_agustin_gaitan=self.webpackChunkclinica_online_agustin_gaitan||[]).push([[179],{8255:Pt=>{function Ke(Z){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+Z+"'");throw _.code="MODULE_NOT_FOUND",_})}Ke.keys=()=>[],Ke.resolve=Ke,Ke.id=8255,Pt.exports=Ke},8583:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{mr:()=>Me,ez:()=>Qs,K0:()=>Ue,Do:()=>Qe,Nd:()=>bi,V_:()=>ne,Ye:()=>ye,S$:()=>be,mk:()=>is,sg:()=>hi,O5:()=>Wr,tP:()=>kr,b0:()=>Ve,lw:()=>Ie,rS:()=>Mi,EM:()=>us,JF:()=>Ri,PM:()=>Qi,w_:()=>me,bD:()=>as,q:()=>X,Mx:()=>mt,HT:()=>Te});var _=Z(3018);let c=null;function X(){return c}function Te(F){c||(c=F)}class me{}const Ue=new _.OlP("DocumentToken");let Ie=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,_.Yz7)({factory:ue,token:F,providedIn:"platform"}),F})();function ue(){return(0,_.LFG)(W)}const ne=new _.OlP("Location Initialized");let W=(()=>{class F extends Ie{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(L){const J=X().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",L,!1),()=>J.removeEventListener("popstate",L)}onHashChange(L){const J=X().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",L,!1),()=>J.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,J,we){pe()?this._history.pushState(L,J,we):this.location.hash=we}replaceState(L,J,we){pe()?this._history.replaceState(L,J,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return F.\u0275fac=function(L){return new(L||F)(_.LFG(Ue))},F.\u0275prov=(0,_.Yz7)({factory:de,token:F,providedIn:"platform"}),F})();function pe(){return!!window.history.pushState}function de(){return new W((0,_.LFG)(Ue))}function Ae(F,z){if(0==F.length)return z;if(0==z.length)return F;let L=0;return F.endsWith("/")&&L++,z.startsWith("/")&&L++,2==L?F+z.substring(1):1==L?F+z:F+"/"+z}function Je(F){const z=F.match(/#|\?|$/),L=z&&z.index||F.length;return F.slice(0,L-("/"===F[L-1]?1:0))+F.slice(L)}function Be(F){return F&&"?"!==F[0]?"?"+F:F}let be=(()=>{class F{historyGo(L){throw new Error("Not implemented")}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275prov=(0,_.Yz7)({factory:ae,token:F,providedIn:"root"}),F})();function ae(F){const z=(0,_.LFG)(Ue).location;return new Ve((0,_.LFG)(Ie),z&&z.origin||"")}const Me=new _.OlP("appBaseHref");let Ve=(()=>{class F extends be{constructor(L,J){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==J&&(J=this._platformLocation.getBaseHrefFromDOM()),null==J)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=J}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Ae(this._baseHref,L)}path(L=!1){const J=this._platformLocation.pathname+Be(this._platformLocation.search),we=this._platformLocation.hash;return we&&L?`${J}${we}`:J}pushState(L,J,we,ze){const ht=this.prepareExternalUrl(we+Be(ze));this._platformLocation.pushState(L,J,ht)}replaceState(L,J,we,ze){const ht=this.prepareExternalUrl(we+Be(ze));this._platformLocation.replaceState(L,J,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var J,we;null===(we=(J=this._platformLocation).historyGo)||void 0===we||we.call(J,L)}}return F.\u0275fac=function(L){return new(L||F)(_.LFG(Ie),_.LFG(Me,8))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})(),Qe=(()=>{class F extends be{constructor(L,J){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(L){const J=Ae(this._baseHref,L);return J.length>0?"#"+J:J}pushState(L,J,we,ze){let ht=this.prepareExternalUrl(we+Be(ze));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.pushState(L,J,ht)}replaceState(L,J,we,ze){let ht=this.prepareExternalUrl(we+Be(ze));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.replaceState(L,J,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var J,we;null===(we=(J=this._platformLocation).historyGo)||void 0===we||we.call(J,L)}}return F.\u0275fac=function(L){return new(L||F)(_.LFG(Ie),_.LFG(Me,8))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})(),ye=(()=>{class F{constructor(L,J){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const we=this._platformStrategy.getBaseHref();this._platformLocation=J,this._baseHref=Je(Gt(we)),this._platformStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,J=""){return this.path()==this.normalize(L+Be(J))}normalize(L){return F.stripTrailingSlash(function(F,z){return F&&z.startsWith(F)?z.substring(F.length):z}(this._baseHref,Gt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,J="",we=null){this._platformStrategy.pushState(we,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Be(J)),we)}replaceState(L,J="",we=null){this._platformStrategy.replaceState(we,"",L,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Be(J)),we)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var J,we;null===(we=(J=this._platformStrategy).historyGo)||void 0===we||we.call(J,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)}))}_notifyUrlChangeListeners(L="",J){this._urlChangeListeners.forEach(we=>we(L,J))}subscribe(L,J,we){return this._subject.subscribe({next:L,error:J,complete:we})}}return F.\u0275fac=function(L){return new(L||F)(_.LFG(be),_.LFG(Ie))},F.normalizeQueryParams=Be,F.joinWithSlash=Ae,F.stripTrailingSlash=Je,F.\u0275prov=(0,_.Yz7)({factory:rt,token:F,providedIn:"root"}),F})();function rt(){return new ye((0,_.LFG)(be),(0,_.LFG)(Ie))}function Gt(F){return F.replace(/\/index.html$/,"")}var He=(()=>((He=He||{})[He.Zero=0]="Zero",He[He.One=1]="One",He[He.Two=2]="Two",He[He.Few=3]="Few",He[He.Many=4]="Many",He[He.Other=5]="Other",He))();const Fn=_.kL8;class Hn{}let Cr=(()=>{class F extends Hn{constructor(L){super(),this.locale=L}getPluralCategory(L,J){switch(Fn(J||this.locale)(L)){case He.Zero:return"zero";case He.One:return"one";case He.Two:return"two";case He.Few:return"few";case He.Many:return"many";default:return"other"}}}return F.\u0275fac=function(L){return new(L||F)(_.LFG(_.soG))},F.\u0275prov=_.Yz7({token:F,factory:F.\u0275fac}),F})();function mt(F,z){z=encodeURIComponent(z);for(const L of F.split(";")){const J=L.indexOf("="),[we,ze]=-1==J?[L,""]:[L.slice(0,J),L.slice(J+1)];if(we.trim()===z)return decodeURIComponent(ze)}return null}let is=(()=>{class F{constructor(L,J,we,ze){this._iterableDiffers=L,this._keyValueDiffers=J,this._ngEl=we,this._renderer=ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(J=>this._toggleClass(J.key,J.currentValue)),L.forEachChangedItem(J=>this._toggleClass(J.key,J.currentValue)),L.forEachRemovedItem(J=>{J.previousValue&&this._toggleClass(J.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(J=>{if("string"!=typeof J.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(J.item)}`);this._toggleClass(J.item,!0)}),L.forEachRemovedItem(J=>this._toggleClass(J.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(J=>this._toggleClass(J,!0)):Object.keys(L).forEach(J=>this._toggleClass(J,!!L[J])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(J=>this._toggleClass(J,!1)):Object.keys(L).forEach(J=>this._toggleClass(J,!1)))}_toggleClass(L,J){(L=L.trim())&&L.split(/\s+/g).forEach(we=>{J?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return F.\u0275fac=function(L){return new(L||F)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class or{constructor(z,L,J,we){this.$implicit=z,this.ngForOf=L,this.index=J,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class F{constructor(L,J,we){this._viewContainer=L,this._template=J,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;if(!this._differ&&L)try{this._differ=this._differs.find(L).create(this.ngForTrackBy)}catch(J){throw new Error(`Cannot find a differ supporting object '${L}' of type '${function(F){return F.name||typeof F}(L)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const J=[];L.forEachOperation((we,ze,ht)=>{if(null==we.previousIndex){const N=this._viewContainer.createEmbeddedView(this._template,new or(null,this._ngForOf,-1,-1),null===ht?void 0:ht),M=new Pr(we,N);J.push(M)}else if(null==ht)this._viewContainer.remove(null===ze?void 0:ze);else if(null!==ze){const N=this._viewContainer.get(ze);this._viewContainer.move(N,ht);const M=new Pr(we,N);J.push(M)}});for(let we=0;we<J.length;we++)this._perViewChange(J[we].view,J[we].record);for(let we=0,ze=this._viewContainer.length;we<ze;we++){const ht=this._viewContainer.get(we);ht.context.index=we,ht.context.count=ze,ht.context.ngForOf=this._ngForOf}L.forEachIdentityChange(we=>{this._viewContainer.get(we.currentIndex).context.$implicit=we.item})}_perViewChange(L,J){L.context.$implicit=J.item}static ngTemplateContextGuard(L,J){return!0}}return F.\u0275fac=function(L){return new(L||F)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();class Pr{constructor(z,L){this.record=z,this.view=L}}let Wr=(()=>{class F{constructor(L,J){this._viewContainer=L,this._context=new yr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Pe("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Pe("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,J){return!0}}return F.\u0275fac=function(L){return new(L||F)(_.Y36(_.s_b),_.Y36(_.Rgc))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class yr{constructor(){this.$implicit=null,this.ngIf=null}}function Pe(F,z){if(z&&!z.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,_.AaK)(z)}'.`)}let kr=(()=>{class F{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(L){if(L.ngTemplateOutlet){const J=this._viewContainerRef;this._viewRef&&J.remove(J.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?J.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(L){return new(L||F)(_.Y36(_.s_b))},F.\u0275dir=_.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[_.TTD]}),F})();const gr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Mi=(()=>{class F{transform(L){if(null==L)return null;if("string"!=typeof L)throw function(F,z){return Error(`InvalidPipeArgument: '${z}' for pipe '${(0,_.AaK)(F)}'`)}(F,L);return L.replace(gr,J=>J[0].toUpperCase()+J.substr(1).toLowerCase())}}return F.\u0275fac=function(L){return new(L||F)},F.\u0275pipe=_.Yjl({name:"titlecase",type:F,pure:!0}),F})(),bi=(()=>{class F{constructor(L){this.differs=L,this.keyValues=[],this.compareFn=Io}transform(L,J=Io){if(!L||!(L instanceof Map)&&"object"!=typeof L)return null;this.differ||(this.differ=this.differs.find(L).create());const we=this.differ.diff(L),ze=J!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(ht=>{this.keyValues.push(function(F,z){return{key:F,value:z}}(ht.key,ht.currentValue))})),(we||ze)&&(this.keyValues.sort(J),this.compareFn=J),this.keyValues}}return F.\u0275fac=function(L){return new(L||F)(_.Y36(_.aQg,16))},F.\u0275pipe=_.Yjl({name:"keyvalue",type:F,pure:!1}),F})();function Io(F,z){const L=F.key,J=z.key;if(L===J)return 0;if(void 0===L)return 1;if(void 0===J)return-1;if(null===L)return 1;if(null===J)return-1;if("string"==typeof L&&"string"==typeof J)return L<J?-1:1;if("number"==typeof L&&"number"==typeof J)return L-J;if("boolean"==typeof L&&"boolean"==typeof J)return L<J?-1:1;const we=String(L),ze=String(J);return we==ze?0:we<ze?-1:1}let Qs=(()=>{class F{}return F.\u0275fac=function(L){return new(L||F)},F.\u0275mod=_.oAB({type:F}),F.\u0275inj=_.cJS({providers:[{provide:Hn,useClass:Cr}]}),F})();const as="browser";function Qi(F){return"server"===F}let us=(()=>{class F{}return F.\u0275prov=(0,_.Yz7)({token:F,providedIn:"root",factory:()=>new Ni((0,_.LFG)(Ue),window)}),F})();class Ni{constructor(z,L){this.document=z,this.window=L,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const L=function(F,z){const L=F.getElementById(z)||F.getElementsByName(z)[0];if(L)return L;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const J=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let we=J.currentNode;for(;we;){const ze=we.shadowRoot;if(ze){const ht=ze.getElementById(z)||ze.querySelector(`[name="${z}"]`);if(ht)return ht}we=J.nextNode()}}return null}(this.document,z);L&&(this.scrollToElement(L),this.attemptFocus(L))}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=z)}}scrollToElement(z){const L=z.getBoundingClientRect(),J=L.left+this.window.pageXOffset,we=L.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(J-ze[0],we-ze[1])}attemptFocus(z){return z.focus(),this.document.activeElement===z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function cs(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Ri{}},3018:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{deG:()=>ta,tb:()=>sE,AFp:()=>nE,ip1:()=>tw,CZH:()=>Rf,hGG:()=>BA,z2F:()=>Bg,sBO:()=>MI,Sil:()=>Ug,_Vd:()=>Tf,EJc:()=>aE,SBq:()=>Oc,qLn:()=>tt,vpe:()=>Nc,gxx:()=>Ec,tBr:()=>Nu,XFs:()=>st,OlP:()=>Ii,zs3:()=>_i,ZZ4:()=>By,aQg:()=>jy,soG:()=>Jy,YKP:()=>G0,v3s:()=>vA,h0i:()=>ih,PXZ:()=>fA,R0b:()=>ou,FiY:()=>ia,Lbi:()=>iE,g9A:()=>rE,Qsj:()=>gI,FYo:()=>Uy,JOm:()=>Ua,Tiy:()=>Sv,q3G:()=>mi,tp0:()=>Ya,EAV:()=>CA,Rgc:()=>Ag,dDg:()=>dE,DyG:()=>xu,q4F:()=>xv,GfV:()=>U0,s_b:()=>$y,ifc:()=>Qn,eFA:()=>mE,G48:()=>oA,Gpc:()=>Be,X6Q:()=>uw,_c5:()=>RA,VLi:()=>sA,c2e:()=>oE,zSh:()=>Vd,wAp:()=>kn,vHH:()=>Ve,EiD:()=>bl,mCW:()=>Vu,qzn:()=>Lu,JVY:()=>pl,pB0:()=>Hf,eBb:()=>Di,L6k:()=>zs,LAX:()=>gh,cg1:()=>vv,Tjo:()=>OA,kL8:()=>a0,yhl:()=>Gi,dqk:()=>ge,sIi:()=>$d,CqO:()=>fg,QGY:()=>hg,F4k:()=>vy,RDi:()=>L,AaK:()=>de,z3N:()=>sa,qOj:()=>Hl,TTD:()=>fi,_Bn:()=>P0,xp6:()=>cm,uIk:()=>tu,ekj:()=>Ef,Suo:()=>Rb,Xpm:()=>ln,lG2:()=>Hr,Yz7:()=>Nn,cJS:()=>Gn,oAB:()=>ni,Yjl:()=>_n,Y36:()=>Jd,_UZ:()=>gy,GkF:()=>_y,qZA:()=>dg,TgZ:()=>Xd,EpF:()=>cv,n5z:()=>un,Ikx:()=>_v,LFG:()=>Li,$8M:()=>bn,NdJ:()=>eh,CRH:()=>Pb,oxw:()=>by,ALo:()=>Ab,lcZ:()=>Sb,Q6J:()=>yf,s9C:()=>wf,DdM:()=>wb,VKq:()=>bb,iGM:()=>Ob,MAs:()=>Tc,CHM:()=>Do,LSH:()=>Hc,kYT:()=>mr,YNc:()=>ff,W1O:()=>Vb,_uU:()=>it,Oqu:()=>ft,hij:()=>Ot,AsE:()=>yn,Gf:()=>Nb});var _=Z(9765),c=Z(5319),X=Z(7574),se=Z(6682),Te=Z(2441);var Ie=Z(1307);function ue(){return new _.xQ}function W(t){for(let n in t)if(t[n]===W)return n;throw Error("Could not find renamed property on target object.")}function pe(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function de(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(de).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ae(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Je=W({__forward_ref__:W});function Be(t){return t.__forward_ref__=Be,t.toString=function(){return de(this())},t}function be(t){return ae(t)?t():t}function ae(t){return"function"==typeof t&&t.hasOwnProperty(Je)&&t.__forward_ref__===Be}class Ve extends Error{constructor(n,r){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,r)),this.code=n}}function rt(t){return"string"==typeof t?t:null==t?"":String(t)}function qt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rt(t)}function He(t,n){const r=n?` in ${n}`:"";throw new Ve("201",`No provider for ${qt(t)} found${r}`)}function Vt(t,n){null==t&&function(t,n,r,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fn(t){return fr(t,cn)||fr(t,mn)}function fr(t,n){return t.hasOwnProperty(n)?t[n]:null}function jn(t){return t&&(t.hasOwnProperty(Sn)||t.hasOwnProperty(Ft))?t[Sn]:null}const cn=W({\u0275prov:W}),Sn=W({\u0275inj:W}),mn=W({ngInjectableDef:W}),Ft=W({ngInjectorDef:W});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let pn;function zn(t){const n=pn;return pn=t,n}function Ln(t,n,r){const o=Fn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&st.Optional?null:void 0!==n?n:void He(de(t),"Injector")}function Ut(t){return{toString:t}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),Qn=(()=>((Qn=Qn||{})[Qn.Emulated=0]="Emulated",Qn[Qn.None=2]="None",Qn[Qn.ShadowDom=3]="ShadowDom",Qn))();const Jt="undefined"!=typeof globalThis&&globalThis,zr="undefined"!=typeof window&&window,ve="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge=Jt||"undefined"!=typeof global&&global||zr||ve,xt={},yt=[],Bn=W({\u0275cmp:W}),Zn=W({\u0275dir:W}),Cn=W({\u0275pipe:W}),Dr=W({\u0275mod:W}),nn=W({\u0275loc:W}),xn=W({\u0275fac:W}),Or=W({__NG_ELEMENT_ID__:W});let ns=0;function ln(t){return Ut(()=>{const r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,l=t.features,p=t.pipes;return o.id+=ns++,o.inputs=pr(t.inputs,r),o.outputs=pr(t.outputs),l&&l.forEach(m=>m(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(Si):null,o.pipeDefs=p?()=>("function"==typeof p?p():p).map(di):null,o})}function Si(t){return Mn(t)||function(t){return t[Zn]||null}(t)}function di(t){return function(t){return t[Cn]||null}(t)}const xi={};function ni(t){return Ut(()=>{const n={type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xi[t.id]=t.type),n})}function mr(t,n){return Ut(()=>{const r=Nr(t,!0);r.declarations=n.declarations||yt,r.imports=n.imports||yt,r.exports=n.exports||yt})}function pr(t,n){if(null==t)return xt;const r={};for(const o in t)if(t.hasOwnProperty(o)){let u=t[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,n&&(n[u]=l)}return r}const Hr=ln;function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[Bn]||null}function Nr(t,n){const r=t[Dr]||null;if(!r&&!0===n)throw new Error(`Type ${de(t)} does not have '\u0275mod' property.`);return r}function $r(t){return Array.isArray(t)&&"object"==typeof t[1]}function On(t){return Array.isArray(t)&&!0===t[1]}function ii(t){return 0!=(8&t.flags)}function ji(t){return 2==(2&t.flags)}function Ur(t){return 1==(1&t.flags)}function Ir(t){return null!==t.template}function Ki(t){return 0!=(512&t[2])}function qr(t,n){return t.hasOwnProperty(xn)?t[xn]:null}class Yr{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function fi(){return Qi}function Qi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oi),Qr}function Qr(){const t=us(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===xt)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Oi(t,n,r,o){const u=us(t)||function(t,n){return t[Jr]=n}(t,{previous:xt,current:null}),l=u.current||(u.current={}),p=u.previous,m=this.declaredInputs[r],I=p[m];l[m]=new Yr(I&&I.currentValue,n,p===xt),t[o]=n}fi.ngInherit=!0;const Jr="__ngSimpleChanges__";function us(t){return t[Jr]||null}let z;function L(t){z=t}function ze(t){return!!t.listen}const N={createRenderer:(t,n)=>void 0!==z?z:"undefined"!=typeof document?document:void 0};function T(t){for(;Array.isArray(t);)t=t[0];return t}function wt(t,n){return T(n[t])}function Zt(t,n){return T(n[t.index])}function Br(t,n){return t.data[n]}function Mr(t,n){return t[n]}function dr(t,n){const r=n[t];return $r(r)?r:r[0]}function pi(t){return 4==(4&t[2])}function Pi(t){return 128==(128&t[2])}function jr(t,n){return null==n?null:t[n]}function Js(t){t[18]=0}function Vo(t,n){t[5]+=n;let r=t,o=t[3];for(;null!==o&&(1===n&&1===r[5]||-1===n&&0===r[5]);)o[5]+=n,r=o,o=o[3]}const rn={lFrame:K(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sa(){return rn.bindingsEnabled}function dt(){return rn.lFrame.lView}function Wn(){return rn.lFrame.tView}function Do(t){return rn.lFrame.contextLView=t,t[8]}function Lr(){let t=Xs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xs(){return rn.lFrame.currentTNode}function ds(t,n){const r=rn.lFrame;r.currentTNode=t,r.isParent=n}function ws(){return rn.lFrame.isParent}function Us(){rn.lFrame.isParent=!1}function to(){return rn.isInCheckNoChangesMode}function ki(t){rn.isInCheckNoChangesMode=t}function Xr(){const t=rn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Gr(){return rn.lFrame.bindingIndex}function ar(){return rn.lFrame.bindingIndex++}function Fi(t){const n=rn.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Xo(t,n){const r=rn.lFrame;r.bindingIndex=r.bindingRootIndex=t,po(n)}function po(t){rn.lFrame.currentDirectiveIndex=t}function xo(){return rn.lFrame.currentQueryIndex}function no(t){rn.lFrame.currentQueryIndex=t}function la(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function hs(t,n,r){if(r&st.SkipSelf){let u=n,l=t;for(;!(u=u.parent,null!==u||r&st.Host||(u=la(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;n=u,t=l}const o=rn.lFrame=k();return o.currentTNode=n,o.lView=t,!0}function go(t){const n=k(),r=t[1];rn.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function k(){const t=rn.lFrame,n=null===t?null:t.child;return null===n?K(t):n}function K(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function b(){const t=rn.lFrame;return rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const H=b;function oe(){const t=b();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sn(){return rn.lFrame.selectedIndex}function Xn(t){rn.lFrame.selectedIndex=t}function er(){const t=rn.lFrame;return Br(t.tView,t.selectedIndex)}function yo(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:I,ngAfterViewChecked:O,ngOnDestroy:j}=l;p&&(t.contentHooks||(t.contentHooks=[])).push(-r,p),m&&((t.contentHooks||(t.contentHooks=[])).push(r,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(r,m)),I&&(t.viewHooks||(t.viewHooks=[])).push(-r,I),O&&((t.viewHooks||(t.viewHooks=[])).push(r,O),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(r,O)),null!=j&&(t.destroyHooks||(t.destroyHooks=[])).push(r,j)}}function Zs(t,n,r){_r(t,n,3,r)}function jo(t,n,r,o){(3&t[2])===r&&_r(t,n,r,o)}function fs(t,n){let r=t[2];(3&r)===n&&(r&=2047,r+=1,t[2]=r)}function _r(t,n,r,o){const l=null!=o?o:-1,p=n.length-1;let m=0;for(let I=void 0!==o?65535&t[18]:0;I<p;I++)if("number"==typeof n[I+1]){if(m=n[I],null!=o&&m>=o)break}else n[I]<0&&(t[18]+=65536),(m<l||-1==l)&&(A(t,r,n,I),t[18]=(4294901760&t[18])+I+2),I++}function A(t,n,r,o){const u=r[o]<0,l=r[o+1],m=t[u?-r[o]:r[o]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(m)}finally{}}}else try{l.call(m)}finally{}}const S=-1;class ${constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Zr(t,n,r){const o=ze(t);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const p=r[u++],m=r[u++],I=r[u++];o?t.setAttribute(n,m,I,p):n.setAttributeNS(p,m,I)}else{const p=l,m=r[++u];ha(p)?o&&t.setProperty(n,p,m):o?t.setAttribute(n,p,m):n.setAttribute(p,m),u++}}return u}function qa(t){return 3===t||4===t||6===t}function ha(t){return 64===t.charCodeAt(0)}function xa(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?r=u:0===r||_o(t,r,u,null,-1===r||2===r?n[++o]:null)}}return t}function _o(t,n,r,o,u){let l=0,p=t.length;if(-1===n)p=-1;else for(;l<t.length;){const m=t[l++];if("number"==typeof m){if(m===n){p=-1;break}if(m>n){p=l-1;break}}}for(;l<t.length;){const m=t[l];if("number"==typeof m)break;if(m===r){if(null===o)return void(null!==u&&(t[l+1]=u));if(o===t[l+1])return void(t[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==p&&(t.splice(p,0,n),l=p+1),t.splice(l++,0,r),null!==o&&t.splice(l++,0,o),null!==u&&t.splice(l++,0,u)}function ea(t){return t!==S}function Ma(t){return 32767&t}function oi(t,n){let r=function(t){return t>>16}(t),o=n;for(;r>0;)o=o[15],r--;return o}let vo=!0;function Ms(t){const n=vo;return vo=t,n}let br=0;function Mo(t,n){const r=wn(t,n);if(-1!==r)return r;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Yt(o.data,t),Yt(n,null),Yt(o.blueprint,null));const u=Na(t,n),l=t.injectorIndex;if(ea(u)){const p=Ma(u),m=oi(u,n),I=m[1].data;for(let O=0;O<8;O++)n[l+O]=m[p+O]|I[p+O]}return n[l+8]=u,l}function Yt(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wn(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Na(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,u=n;for(;null!==u;){const l=u[1],p=l.type;if(o=2===p?l.declTNode:1===p?u[6]:null,null===o)return S;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return S}function St(t,n,r){!function(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Or)&&(o=r[Or]),null==o&&(o=r[Or]=br++);const u=255&o;n.data[t+(u>>5)]|=1<<u}(t,n,r)}function gt(t,n,r){if(r&st.Optional)return t;He(n,"NodeInjector")}function D(t,n,r,o){if(r&st.Optional&&void 0===o&&(o=null),0==(r&(st.Self|st.Host))){const u=t[9],l=zn(void 0);try{return u?u.get(n,o,r&st.Optional):Ln(n,o,r&st.Optional)}finally{zn(l)}}return gt(o,n,r)}function w(t,n,r,o=st.Default,u){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Or)?t[Or]:void 0;return"number"==typeof n?n>=0?255&n:R:n}(r);if("function"==typeof l){if(!hs(n,t,o))return o&st.Host?gt(u,r,o):D(n,r,o,u);try{const p=l(o);if(null!=p||o&st.Optional)return p;He(r)}finally{H()}}else if("number"==typeof l){let p=null,m=wn(t,n),I=S,O=o&st.Host?n[16][6]:null;for((-1===m||o&st.SkipSelf)&&(I=-1===m?Na(t,n):n[m+8],I!==S&&Ht(o,!1)?(p=n[1],m=Ma(I),n=oi(I,n)):m=-1);-1!==m;){const j=n[1];if(at(l,m,j.data)){const te=U(m,n,r,p,o,O);if(te!==v)return te}I=n[m+8],I!==S&&Ht(o,n[1].data[m+8]===O)&&at(l,m,n)?(p=j,m=Ma(I),n=oi(I,n)):m=-1}}}return D(n,r,o,u)}const v={};function R(){return new Lt(Lr(),dt())}function U(t,n,r,o,u,l){const p=n[1],m=p.data[t+8],j=Y(m,p,r,null==o?ji(m)&&vo:o!=p&&0!=(3&m.type),u&st.Host&&l===m);return null!==j?ce(n,p,j,m):v}function Y(t,n,r,o,u){const l=t.providerIndexes,p=n.data,m=1048575&l,I=t.directiveStart,j=l>>20,ie=u?m+j:t.directiveEnd;for(let _e=o?m:m+j;_e<ie;_e++){const xe=p[_e];if(_e<I&&r===xe||_e>=I&&xe.type===r)return _e}if(u){const _e=p[I];if(_e&&Ir(_e)&&_e.type===r)return I}return null}function ce(t,n,r,o){let u=t[r];const l=n.data;if(function(t){return t instanceof $}(u)){const p=u;p.resolving&&function(t,n){throw new Ve("200",`Circular dependency in DI detected for ${t}`)}(qt(l[r]));const m=Ms(p.canSeeViewProviders);p.resolving=!0;const I=p.injectImpl?zn(p.injectImpl):null;hs(t,o,st.Default);try{u=t[r]=p.factory(void 0,l,t,o),n.firstCreatePass&&r>=o.directiveStart&&function(t,n,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const p=Qi(n);(r.preOrderHooks||(r.preOrderHooks=[])).push(t,p),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,p)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-t,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(t,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(t,l))}(r,l[r],n)}finally{null!==I&&zn(I),Ms(m),p.resolving=!1,H()}}return u}function at(t,n,r){return!!(r[n+(t>>5)]&1<<t)}function Ht(t,n){return!(t&st.Self||t&st.Host&&n)}class Lt{constructor(n,r){this._tNode=n,this._lView=r}get(n,r){return w(this._tNode,this._lView,n,void 0,r)}}function un(t){return Ut(()=>{const n=t.prototype.constructor,r=n[xn]||Ar(n),o=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==o;){const l=u[xn]||Ar(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function Ar(t){return ae(t)?()=>{const n=Ar(be(t));return n&&n()}:qr(t)}function bn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(qa(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===n)return r[u+1];u+=2}}}return null}(Lr(),t)}const Xi="__parameters__";function Vn(t,n,r){return Ut(()=>{const o=function(t){return function(...r){if(t){const o=t(...r);for(const u in o)this[u]=o[u]}}}(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const p=new u(...l);return m.annotation=p,m;function m(I,O,j){const te=I.hasOwnProperty(Xi)?I[Xi]:Object.defineProperty(I,Xi,{value:[]})[Xi];for(;te.length<=j;)te.push(null);return(te[j]=te[j]||[]).push(p),I}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class Ii{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Nn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ta=new Ii("AnalyzeForEntryComponents"),xu=Function;function io(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?(n===t&&(n=t.slice(0,r)),io(o,n)):n!==t&&n.push(o)}return n}function so(t,n){t.forEach(r=>Array.isArray(r)?so(r,n):n(r))}function Ho(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function na(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function x(t,n,r){let o=Q(t,n);return o>=0?t[1|o]=r:(o=~o,function(t,n,r,o){let u=t.length;if(u==n)t.push(r,o);else if(1===u)t.push(o,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function V(t,n){const r=Q(t,n);if(r>=0)return t[1|r]}function Q(t,n){return function(t,n,r){let o=0,u=t.length>>r;for(;u!==o;){const l=o+(u-o>>1),p=t[l<<r];if(n===p)return l<<r;p>n?u=l:o=l+1}return~(u<<r)}(t,n,1)}const oo={},Fa="__NG_DI_FLAG__",Ds="ngTempTokenPath",ya=/\n/gm,$o="__source",Wa=W({provide:String,useValue:W});let Ka;function La(t){const n=Ka;return Ka=t,n}function td(t,n=st.Default){if(void 0===Ka)throw new Error("inject() must be called from an injection context");return null===Ka?Ln(t,void 0,n):Ka.get(t,n&st.Optional?null:void 0,n)}function Li(t,n=st.Default){return(pn||td)(be(t),n)}function Ns(t){const n=[];for(let r=0;r<t.length;r++){const o=be(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=st.Default;for(let p=0;p<o.length;p++){const m=o[p],I=Ou(m);"number"==typeof I?-1===I?u=m.token:l|=I:u=m}n.push(Li(u,l))}else n.push(Li(o))}return n}function dc(t,n){return t[Fa]=n,t.prototype[Fa]=n,t}function Ou(t){return t[Fa]}function nd(t,n,r,o){const u=t[Ds];throw n[$o]&&u.unshift(n[$o]),t.message=function(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=de(n);if(Array.isArray(n))u=n.map(de).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let m=n[p];l.push(p+":"+("string"==typeof m?JSON.stringify(m):de(m)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${t.replace(ya,"\n  ")}`}("\n"+t.message,u,r,o),t.ngTokenPath=u,t[Ds]=null,t}const Nu=dc(Vn("Inject",t=>({token:t})),-1),ia=dc(Vn("Optional"),8),Ya=dc(Vn("SkipSelf"),4);let Ja;function uu(t){var n;return(null===(n=function(){if(void 0===Ja&&(Ja=null,ge.trustedTypes))try{Ja=ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ja}())||void 0===n?void 0:n.createHTML(t))||t}class cu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bc extends cu{getTypeName(){return"HTML"}}class ph extends cu{getTypeName(){return"Style"}}class Fu extends cu{getTypeName(){return"Script"}}class gs extends cu{getTypeName(){return"URL"}}class Er extends cu{getTypeName(){return"ResourceURL"}}function sa(t){return t instanceof cu?t.changingThisBreaksApplicationSecurity:t}function Lu(t,n){const r=Gi(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===n}function Gi(t){return t instanceof cu&&t.getTypeName()||null}function pl(t){return new Bc(t)}function zs(t){return new ph(t)}function Di(t){return new Fu(t)}function gh(t){return new gs(t)}function Hf(t){return new Er(t)}class $f{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(uu(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class cd{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(n){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=uu(n),r;const o=this.inertDocument.createElement("body");return o.innerHTML=uu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const r=n.attributes;for(let u=r.length-1;0<u;u--){const p=r.item(u).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&n.removeAttribute(p)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const mh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vu(t){return(t=String(t)).match(mh)||t.match(Vr)?t:"unsafe:"+t}function Oo(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function va(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Uu=Oo("area,br,col,hr,img,wbr"),ld=Oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dd=Oo("rp,rt"),ml=va(Uu,va(ld,Oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),va(dd,Oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),va(dd,ld)),yl=Oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hd=Oo("srcset"),fd=va(yl,hd,Oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vl=Oo("script,style,template");class Rs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(n){const r=n.nodeName.toLowerCase();if(!ml.hasOwnProperty(r))return this.sanitizedSomething=!0,!vl.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),p=l.name,m=p.toLowerCase();if(!fd.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let I=l.value;yl[m]&&(I=Vu(I)),hd[m]&&(t=I,I=(t=String(t)).split(",").map(n=>Vu(n.trim())).join(", ")),this.buf.push(" ",p,'="',pc(I),'"')}var t;return this.buf.push(">"),!0}endElement(n){const r=n.nodeName.toLowerCase();ml.hasOwnProperty(r)&&!Uu.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(pc(n))}checkClobberedElement(n,r){if(r&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return r}}const wl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yh=/([^\#-~ |!])/g;function pc(t){return t.replace(/&/g,"&amp;").replace(wl,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(yh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qo;function bl(t,n){let r=null;try{qo=qo||function(t){const n=new cd(t);return function(){try{return!!(new window.DOMParser).parseFromString(uu(""),"text/html")}catch(t){return!1}}()?new $f(n):n}(t);let o=n?String(n):"";r=qo.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=qo.getInertBodyElement(o)}while(o!==l);return uu((new Rs).sanitizeChildren(Zc(r)||r))}finally{if(r){const o=Zc(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Zc(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function Hc(t){const n=function(){const t=dt();return t&&t[12]}();return n?n.sanitize(mi.URL,t)||"":Lu(t,"URL")?sa(t):Vu(rt(t))}const wh="__ngContext__";function es(t,n){t[wh]=n}function ao(t){const n=function(t){return t[wh]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function B(t){return t.ngOriginalError}function Se(t,...n){t.error(...n)}class tt{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n),o=this._findContext(n),u=(t=n)&&t.ngErrorLogger||Se;var t;u(this._console,"ERROR",n),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?n.ngDebugContext||this._findContext(B(n)):null}_findOriginalError(n){let r=n&&B(n);for(;r&&B(r);)r=B(r);return r||null}}const bd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ge))();function yi(t){return t instanceof Function?t():t}var Ua=(()=>((Ua=Ua||{})[Ua.Important=1]="Important",Ua[Ua.DashCase=2]="DashCase",Ua))();function Ed(t,n){return undefined(t,n)}function pu(t){const n=t[3];return On(n)?n[3]:n}function Ih(t){return Qg(t[13])}function Cd(t){return Qg(t[4])}function Qg(t){for(;null!==t&&!On(t);)t=t[4];return t}function zc(t,n,r,o,u){if(null!=o){let l,p=!1;On(o)?l=o:$r(o)&&(p=!0,o=o[0]);const m=T(o);0===t&&null!==r?null==u?Sh(n,r,m):Ea(n,r,m,u||null,!0):1===t&&null!==r?Ea(n,r,m,u||null,!0):2===t?function(t,n,r){const o=xh(t,n);o&&function(t,n,r,o){ze(t)?t.removeChild(n,r,o):n.removeChild(r)}(t,o,n,r)}(n,m,p):3===t&&n.destroyNode(m),null!=l&&function(t,n,r,o,u){const l=r[7];l!==T(r)&&zc(n,t,o,l,u);for(let m=10;m<r.length;m++){const I=r[m];Kc(I[1],I,t,n,o,l)}}(n,t,l,r,u)}}function Dh(t,n,r){return ze(t)?t.createElement(n,r):null===r?t.createElement(n):t.createElementNS(r,n)}function $u(t,n){const r=t[9],o=r.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,Vo(u,-1)),r.splice(o,1)}function _c(t,n){if(t.length<=10)return;const r=10+n,o=t[r];if(o){const u=o[17];null!==u&&u!==t&&$u(u,o),n>0&&(t[r-1][4]=o[4]);const l=na(t,10+n);!function(t,n){Kc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const p=l[19];null!==p&&p.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Jf(t,n){if(!(256&n[2])){const r=n[11];ze(r)&&r.destroyNode&&Kc(t,n,r,3,null,null),function(t){let n=t[13];if(!n)return qu(t[1],t);for(;n;){let r=null;if($r(n))r=n[13];else{const o=n[10];o&&(r=o)}if(!r){for(;n&&!n[4]&&n!==t;)$r(n)&&qu(n[1],n),n=n[3];null===n&&(n=t),$r(n)&&qu(n[1],n),r=n&&n[4]}n=r}}(n)}}function qu(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const u=n[r[o]];if(!(u instanceof $)){const l=r[o+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const m=u[l[p]],I=l[p+1];try{I.call(m)}finally{}}else try{l.call(u)}finally{}}}}(t,n),function(t,n){const r=t.cleanup,o=n[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const p=r[l+1],m="function"==typeof p?p(n):T(n[p]),I=o[u=r[l+2]],O=r[l+3];"boolean"==typeof O?m.removeEventListener(r[l],I,O):O>=0?o[u=O]():o[u=-O].unsubscribe(),l+=2}else{const p=o[u=r[l+1]];r[l].call(p)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&ze(n[11])&&n[11].destroy();const r=n[17];if(null!==r&&On(n[3])){r!==n[3]&&$u(r,n);const o=n[19];null!==o&&o.detachView(t)}}}function Xf(t,n,r){return function(t,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[0];if(2&o.flags){const u=t.data[o.directiveStart].encapsulation;if(u===Qn.None||u===Qn.Emulated)return null}return Zt(o,r)}(t,n.parent,r)}function Ea(t,n,r,o,u){ze(t)?t.insertBefore(n,r,o,u):n.insertBefore(r,o,u)}function Sh(t,n,r){ze(t)?t.appendChild(n,r):n.appendChild(r)}function ep(t,n,r,o,u){null!==o?Ea(t,n,r,o,u):Sh(t,n,r)}function xh(t,n){return ze(t)?t.parentNode(n):n.parentNode}let Wc=function(t,n,r){return 40&t.type?Zt(t,r):null};function Oh(t,n,r,o){const u=Xf(t,o,n),l=n[11],m=function(t,n,r){return Wc(t,n,r)}(o.parent||n[6],o,n);if(null!=u)if(Array.isArray(r))for(let I=0;I<r.length;I++)ep(l,u,r[I],m,!1);else ep(l,u,r,m,!1)}function Td(t,n){if(null!==n){const r=n.type;if(3&r)return Zt(n,t);if(4&r)return Sl(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Td(t,o);{const u=t[n.index];return On(u)?Sl(-1,u):T(u)}}if(32&r)return Ed(n,t)()||T(t[n.index]);{const o=zu(t,n);return null!==o?Array.isArray(o)?o[0]:Td(pu(t[16]),o):Td(t,n.next)}}return null}function zu(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Sl(t,n){const r=10+t+1;if(r<n.length){const o=n[r],u=o[1].firstChild;if(null!==u)return Td(o,u)}return n[7]}function Nh(t,n,r,o,u,l,p){for(;null!=r;){const m=o[r.index],I=r.type;if(p&&0===n&&(m&&es(T(m),o),r.flags|=4),64!=(64&r.flags))if(8&I)Nh(t,n,r.child,o,u,l,!1),zc(n,t,u,m,l);else if(32&I){const O=Ed(r,o);let j;for(;j=O();)zc(n,t,u,j,l);zc(n,t,u,m,l)}else 16&I?xl(t,n,o,r,u,l):zc(n,t,u,m,l);r=p?r.projectionNext:r.next}}function Kc(t,n,r,o,u,l){Nh(r,o,t.firstChild,n,u,l,!1)}function xl(t,n,r,o,u,l){const p=r[16],I=p[6].projection[o.projection];if(Array.isArray(I))for(let O=0;O<I.length;O++)zc(n,t,u,I[O],l);else Nh(t,n,I,p[3],u,l,!0)}function im(t,n,r){ze(t)?t.setAttribute(n,"style",r):n.style.cssText=r}function Ph(t,n,r){ze(t)?""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r):n.className=r}function kh(t,n,r){let o=t.length;for(;;){const u=t.indexOf(n,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||t.charCodeAt(u+l)<=32)return u}r=u+1}}const sm="ng-template";function om(t,n,r){let o=0;for(;o<t.length;){let u=t[o++];if(r&&"class"===u){if(u=t[o],-1!==kh(u.toLowerCase(),n,0))return!0}else if(1===u){for(;o<t.length&&"string"==typeof(u=t[o++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function rp(t){return 4===t.type&&t.value!==sm}function ip(t,n,r){return n===(4!==t.type||r?t.value:sm)}function m_(t,n,r){let o=4;const u=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(qa(t[n]))return n;return t.length}(u);let p=!1;for(let m=0;m<n.length;m++){const I=n[m];if("number"!=typeof I){if(!p)if(4&o){if(o=2|1&o,""!==I&&!ip(t,I,r)||""===I&&1===n.length){if(Ba(o))return!1;p=!0}}else{const O=8&o?I:n[++m];if(8&o&&null!==t.attrs){if(!om(t.attrs,O,r)){if(Ba(o))return!1;p=!0}continue}const te=y_(8&o?"class":I,u,rp(t),r);if(-1===te){if(Ba(o))return!1;p=!0;continue}if(""!==O){let ie;ie=te>l?"":u[te+1].toLowerCase();const _e=8&o?ie:null;if(_e&&-1!==kh(_e,O,0)||2&o&&O!==ie){if(Ba(o))return!1;p=!0}}}}else{if(!p&&!Ba(o)&&!Ba(I))return!1;if(p&&Ba(I))continue;p=!1,o=I|1&o}}return Ba(o)||p}function Ba(t){return 0==(1&t)}function y_(t,n,r,o){if(null===n)return-1;let u=0;if(o||!r){let l=!1;for(;u<n.length;){const p=n[u];if(p===t)return u;if(3===p||6===p)l=!0;else{if(1===p||2===p){let m=n[++u];for(;"string"==typeof m;)m=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=l?1:2}return-1}return function(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function sp(t,n,r=!1){for(let o=0;o<n.length;o++)if(m_(t,n[o],r))return!0;return!1}function Dd(t,n){return t?":not("+n.trim()+")":n}function am(t){let n=t[0],r=1,o=2,u="",l=!1;for(;r<t.length;){let p=t[r];if("string"==typeof p)if(2&o){const m=t[++r];u+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?u+="."+p:4&o&&(u+=" "+p);else""!==u&&!Ba(p)&&(n+=Dd(l,u),u=""),o=p,l=l||!Ba(o);r++}return""!==u&&(n+=Dd(l,u)),n}const $n={};function cm(t){Fh(Wn(),dt(),sn()+t,to())}function Fh(t,n,r,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Zs(n,l,r)}else{const l=t.preOrderHooks;null!==l&&jo(n,l,0,r)}Xn(r)}function Lh(t,n){return t<<17|n<<2}function Ca(t){return t>>17&32767}function ks(t){return 2|t}function Wu(t){return(131068&t)>>2}function up(t,n){return-131069&t|n<<2}function cp(t){return 1|t}function _m(t,n){const r=t.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const p=t.data[l];no(u),p.contentQueries(2,n[l],l)}}}function Yc(t,n,r,o,u,l,p,m,I,O){const j=n.blueprint.slice();return j[0]=u,j[2]=140|o,Js(j),j[3]=j[15]=t,j[8]=r,j[10]=p||t&&t[10],j[11]=m||t&&t[11],j[12]=I||t&&t[12]||null,j[9]=O||t&&t[9]||null,j[6]=l,j[16]=2==n.type?t[16]:j,j}function Ku(t,n,r,o,u){let l=t.data[n];if(null===l)l=function(t,n,r,o,u){const l=Xs(),p=ws(),I=t.data[n]=function(t,n,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,r,n,o,u);return null===t.firstChild&&(t.firstChild=I),null!==l&&(p?null==l.child&&null!==I.parent&&(l.child=I):null===l.next&&(l.next=I)),I}(t,n,r,o,u),rn.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const p=function(){const t=rn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return ds(l,!0),l}function Qc(t,n,r,o){if(0===r)return-1;const u=n.length;for(let l=0;l<r;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return u}function yu(t,n,r){go(n);try{const o=t.viewQuery;null!==o&&Ld(1,o,r);const u=t.template;null!==u&&vm(t,n,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_m(t,n),t.staticViewQueries&&Ld(2,t.viewQuery,r);const l=t.components;null!==l&&function(t,n){for(let r=0;r<n.length;r++)P_(t,n[r])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,oe()}}function wc(t,n,r,o){const u=n[2];if(256==(256&u))return;go(n);const l=to();try{Js(n),function(t){rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&vm(t,n,r,2,o);const p=3==(3&u);if(!l)if(p){const O=t.preOrderCheckHooks;null!==O&&Zs(n,O,null)}else{const O=t.preOrderHooks;null!==O&&jo(n,O,0,null),fs(n,0)}if(function(t){for(let n=Ih(t);null!==n;n=Cd(n)){if(!n[2])continue;const r=n[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&Vo(l,1),u[2]|=1024}}}(n),function(t){for(let n=Ih(t);null!==n;n=Cd(n))for(let r=10;r<n.length;r++){const o=n[r],u=o[1];Pi(o)&&wc(u,o,u.template,o[8])}}(n),null!==t.contentQueries&&_m(t,n),!l)if(p){const O=t.contentCheckHooks;null!==O&&Zs(n,O)}else{const O=t.contentHooks;null!==O&&jo(n,O,1),fs(n,1)}!function(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)Xn(~u);else{const l=u,p=r[++o],m=r[++o];Xo(p,l),m(2,n[l])}}}finally{Xn(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let r=0;r<n.length;r++)R_(t,n[r])}(n,m);const I=t.viewQuery;if(null!==I&&Ld(2,I,o),!l)if(p){const O=t.viewCheckHooks;null!==O&&Zs(n,O)}else{const O=t.viewHooks;null!==O&&jo(n,O,2),fs(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Vo(n[3],-1))}finally{oe()}}function D_(t,n,r,o){const u=n[10],l=!to(),p=pi(n);try{l&&!p&&u.begin&&u.begin(),p&&yu(t,n,o),wc(t,n,r,o)}finally{l&&!p&&u.end&&u.end()}}function vm(t,n,r,o,u){const l=sn(),p=2&o;try{Xn(-1),p&&n.length>20&&Fh(t,n,20,to()),r(o,u)}finally{Xn(l)}}function yp(t,n,r){if(ii(n)){const u=n.directiveEnd;for(let l=n.directiveStart;l<u;l++){const p=t.data[l];p.contentQueries&&p.contentQueries(1,r[l],l)}}}function $h(t,n,r){!Sa()||(function(t,n,r,o){const u=r.directiveStart,l=r.directiveEnd;t.firstCreatePass||Mo(r,n),es(o,n);const p=r.initialInputs;for(let m=u;m<l;m++){const I=t.data[m],O=Ir(I);O&&Dm(n,r,I);const j=ce(n,t,m,r);es(j,n),null!==p&&O_(0,m-u,j,I,0,p),O&&(dr(r.index,n)[8]=j)}}(t,n,r,Zt(r,n)),128==(128&r.flags)&&function(t,n,r){const o=r.directiveStart,u=r.directiveEnd,p=r.index,m=rn.lFrame.currentDirectiveIndex;try{Xn(p);for(let I=o;I<u;I++){const O=t.data[I],j=n[I];po(I),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Yh(O,j)}}finally{Xn(-1),po(m)}}(t,n,r))}function _p(t,n,r=Zt){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const p=o[l+1],m=-1===p?r(n,t):t[p];t[u++]=m}}}function qh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Gh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Gh(t,n,r,o,u,l,p,m,I,O){const j=20+o,te=j+u,ie=function(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:$n);return r}(j,te),_e="function"==typeof O?O():O;return ie[1]={type:t,blueprint:ie,template:r,queries:null,viewQuery:m,declTNode:n,data:ie.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:I,consts:_e,incompleteFirstPass:!1}}function zh(t,n,r,o){const u=Jh(n);null===r?u.push(o):(u.push(r),t.firstCreatePass&&Xh(t).push(o,u.length-1))}function Wh(t,n,r){for(let o in t)if(t.hasOwnProperty(o)){const u=t[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(n,u):r[o]=[n,u]}return r}function Wo(t,n,r,o,u,l,p,m){const I=Zt(n,r);let j,O=n.inputs;!m&&null!=O&&(j=O[o])?(ef(t,r,j,o,u),ji(n)&&function(t,n){const r=dr(n,t);16&r[2]||(r[2]|=64)}(r,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),u=null!=p?p(u,n.value||"",o):u,ze(l)?l.setProperty(I,o,u):ha(o)||(I.setProperty?I.setProperty(o,u):I[o]=u))}function Nd(t,n,r,o){let u=!1;if(Sa()){const l=function(t,n,r){const o=t.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const p=o[l];sp(r,p.selectors,!1)&&(u||(u=[]),St(Mo(r,n),t,p.type),Ir(p)?(Im(t,r),u.unshift(p)):u.push(p))}return u}(t,n,r),p=null===o?null:{"":-1};if(null!==l){u=!0,Ip(r,t.data.length,l.length);for(let j=0;j<l.length;j++){const te=l[j];te.providersResolver&&te.providersResolver(te)}let m=!1,I=!1,O=Qc(t,n,l.length,null);for(let j=0;j<l.length;j++){const te=l[j];r.mergedAttrs=xa(r.mergedAttrs,te.hostAttrs),Tp(t,r,n,O,te),M_(O,te,p),null!==te.contentQueries&&(r.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(r.flags|=128);const ie=te.type.prototype;!m&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(r.index),m=!0),!I&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(r.index),I=!0),O++}!function(t,n){const o=n.directiveEnd,u=t.data,l=n.attrs,p=[];let m=null,I=null;for(let O=n.directiveStart;O<o;O++){const j=u[O],te=j.inputs,ie=null===l||rp(n)?null:N_(te,l);p.push(ie),m=Wh(te,O,m),I=Wh(j.outputs,O,I)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=m,n.outputs=I}(t,r)}p&&function(t,n,r){if(n){const o=t.localNames=[];for(let u=0;u<n.length;u+=2){const l=r[n[u+1]];if(null==l)throw new Ve("301",`Export of name '${n[u+1]}' not found!`);o.push(n[u],l)}}}(r,o,p)}return r.mergedAttrs=xa(r.mergedAttrs,r.attrs),u}function Kh(t,n,r,o,u,l){const p=l.hostBindings;if(p){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~n.index;(function(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=I&&m.push(I),m.push(o,u,p)}}function Yh(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Im(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function M_(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;Ir(n)&&(r[""]=t)}}function Ip(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function Tp(t,n,r,o,u){t.data[o]=u;const l=u.factory||(u.factory=qr(u.type)),p=new $(l,Ir(u),null);t.blueprint[o]=p,r[o]=p,Kh(t,n,0,o,Qc(t,r,u.hostVars,$n),u)}function Dm(t,n,r){const o=Zt(n,t),u=qh(r),l=t[10],p=Pd(t,Yc(t,u,null,r.onPush?64:16,o,n,l,l.createRenderer(o,r),null,null));t[n.index]=p}function Xa(t,n,r,o,u,l){const p=Zt(t,n);!function(t,n,r,o,u,l,p){if(null==l)ze(t)?t.removeAttribute(n,u,r):n.removeAttribute(u);else{const m=null==p?rt(l):p(l,o||"",u);ze(t)?t.setAttribute(n,u,m,r):r?n.setAttributeNS(r,u,m):n.setAttribute(u,m)}}(n[11],p,l,t.value,r,o,u)}function O_(t,n,r,o,u,l){const p=l[n];if(null!==p){const m=o.setInput;for(let I=0;I<p.length;){const O=p[I++],j=p[I++],te=p[I++];null!==m?o.setInput(r,te,O,j):r[j]=te}}}function N_(t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,t[u],n[o+1])),o+=2}else o+=2;else o+=4}return r}function Qh(t,n,r,o){return new Array(t,!0,!1,n,null,0,o,r,null,null)}function R_(t,n){const r=dr(n,t);if(Pi(r)){const o=r[1];80&r[2]?wc(o,r,o.template,r[8]):r[5]>0&&Rd(r)}}function Rd(t){for(let o=Ih(t);null!==o;o=Cd(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const p=l[1];wc(p,l,p.template,l[8])}else l[5]>0&&Rd(l)}const r=t[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=dr(r[o],t);Pi(u)&&u[5]>0&&Rd(u)}}function P_(t,n){const r=dr(n,t),o=r[1];(function(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])})(o,r),yu(o,r,r[8])}function Pd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function kd(t){for(;t;){t[2]|=64;const n=pu(t);if(Ki(t)&&!n)return t;t=n}return null}function Fd(t,n,r){const o=n[10];o.begin&&o.begin();try{wc(t,n,t.template,r)}catch(u){throw Rp(n,u),u}finally{o.end&&o.end()}}function Sm(t){!function(t){for(let n=0;n<t.components.length;n++){const r=t.components[n],o=ao(r),u=o[1];D_(u,o,u.template,r)}}(t[8])}function Ld(t,n,r){no(0),n(t,r)}const Np=(()=>Promise.resolve(null))();function Jh(t){return t[7]||(t[7]=[])}function Xh(t){return t.cleanup||(t.cleanup=[])}function Rp(t,n){const r=t[9],o=r?r.get(tt,null):null;o&&o.handleError(n)}function ef(t,n,r,o,u){for(let l=0;l<r.length;){const p=r[l++],m=r[l++],I=n[p],O=t.data[p];null!==O.setInput?O.setInput(I,u,o,m):I[m]=u}}function Yu(t,n,r){const o=wt(n,t);!function(t,n,r){ze(t)?t.setValue(n,r):n.textContent=r}(t[11],o,r)}function Bl(t,n,r){let o=r?t.styles:null,u=r?t.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const m=n[p];"number"==typeof m?l=m:1==l?u=Ae(u,m):2==l&&(o=Ae(o,m+": "+n[++p]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=u:t.classesWithoutHost=u}const Ec=new Ii("INJECTOR",-1);class xm{get(n,r=oo){if(r===oo){const o=new Error(`NullInjectorError: No provider for ${de(n)}!`);throw o.name="NullInjectorError",o}return r}}const Vd=new Ii("Set Injector scope."),Xc={},F_={};let Ud;function Mm(){return void 0===Ud&&(Ud=new xm),Ud}function Om(t,n=null,r=null,o){return new Fp(t,r,n||Mm(),o)}class Fp{constructor(n,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&so(r,m=>this.processProvider(m,n,r)),so([n],m=>this.processInjectorType(m,[],l)),this.records.set(Ec,jl(void 0,this));const p=this.records.get(Vd);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof n?null:de(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,r=oo,o=st.Default){this.assertNotDestroyed();const u=La(this),l=zn(void 0);try{if(!(o&st.SkipSelf)){let m=this.records.get(n);if(void 0===m){const I=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Ii)&&Fn(n);m=I&&this.injectableDefInScope(I)?jl(tf(n),Xc):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(o&st.Self?Mm():this.parent).get(n,r=o&st.Optional&&r===oo?null:r)}catch(p){if("NullInjectorError"===p.name){if((p[Ds]=p[Ds]||[]).unshift(de(n)),u)throw p;return nd(p,n,"R3InjectorError",this.source)}throw p}finally{zn(l),La(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,u)=>n.push(de(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,r,o){if(!(n=be(n)))return!1;let u=jn(n);const l=null==u&&n.ngModule||void 0,p=void 0===l?n:l,m=-1!==o.indexOf(p);if(void 0!==l&&(u=jn(l)),null==u)return!1;if(null!=u.imports&&!m){let j;o.push(p);try{so(u.imports,te=>{this.processInjectorType(te,r,o)&&(void 0===j&&(j=[]),j.push(te))})}finally{}if(void 0!==j)for(let te=0;te<j.length;te++){const{ngModule:ie,providers:_e}=j[te];so(_e,xe=>this.processProvider(xe,ie,_e||yt))}}this.injectorDefTypes.add(p);const I=qr(p)||(()=>new p);this.records.set(p,jl(I,Xc));const O=u.providers;if(null!=O&&!m){const j=n;so(O,te=>this.processProvider(te,j,O))}return void 0!==l&&void 0!==n.providers}processProvider(n,r,o){let u=Cc(n=be(n))?n:be(n&&n.provide);const l=nf(t=n)?jl(void 0,t.useValue):jl(Rm(t),Xc);var t;if(Cc(n)||!0!==n.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=jl(void 0,Xc,!0),p.factory=()=>Ns(p.multi),this.records.set(u,p)),u=n,p.multi.push(n)}this.records.set(u,l)}hydrate(n,r){return r.value===Xc&&(r.value=F_,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(t=r.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const r=be(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function tf(t){const n=Fn(t),r=null!==n?n.factory:qr(t);if(null!==r)return r;if(t instanceof Ii)throw new Error(`Token ${de(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=function(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(n,"?");throw new Error(`Can't resolve all parameters for ${de(t)}: (${o.join(", ")}).`)}const r=function(t){const n=t&&(t[cn]||t[mn]);if(n){const r=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),n}return null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Error("unreachable")}function Rm(t,n,r){let o;if(Cc(t)){const u=be(t);return qr(u)||tf(u)}if(nf(t))o=()=>be(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Ns(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>Li(be(t.useExisting));else{const u=be(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return qr(u)||tf(u);o=()=>new u(...Ns(t.deps))}return o}function jl(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function nf(t){return null!==t&&"object"==typeof t&&Wa in t}function Cc(t){return"function"==typeof t}const jp=function(t,n,r){return function(t,n=null,r=null,o){const u=Om(t,n,r,o);return u._resolveInjectorDefTypes(),u}({name:r},n,t,r)};let _i=(()=>{class t{static create(r,o){return Array.isArray(r)?jp(r,o,""):jp(r.providers,r.parent,r.name||"")}}return t.THROW_IF_NOT_FOUND=oo,t.NULL=new xm,t.\u0275prov=Nn({token:t,providedIn:"any",factory:()=>Li(Ec)}),t.__NG_ELEMENT_ID__=-1,t})();function _u(t,n){yo(ao(t)[1],Lr())}function Hl(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let u;if(Ir(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(r){o.push(u);const p=t;p.inputs=lf(t.inputs),p.declaredInputs=lf(t.declaredInputs),p.outputs=lf(t.outputs);const m=u.hostBindings;m&&W_(t,m);const I=u.viewQuery,O=u.contentQueries;if(I&&z_(t,I),O&&Kp(t,O),pe(t.inputs,u.inputs),pe(t.declaredInputs,u.declaredInputs),pe(t.outputs,u.outputs),Ir(u)&&u.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let p=0;p<l.length;p++){const m=l[p];m&&m.ngInherit&&m(t),m===Hl&&(r=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const u=t[o];u.hostVars=n+=u.hostVars,u.hostAttrs=xa(u.hostAttrs,r=xa(r,u.hostAttrs))}}(o)}function lf(t){return t===xt?{}:t===yt?[]:t}function z_(t,n){const r=t.viewQuery;t.viewQuery=r?(o,u)=>{n(o,u),r(o,u)}:n}function Kp(t,n){const r=t.contentQueries;t.contentQueries=r?(o,u,l)=>{n(o,u,l),r(o,u,l)}:n}function W_(t,n){const r=t.hostBindings;t.hostBindings=r?(o,u)=>{n(o,u),r(o,u)}:n}let Yp=null;function zi(){if(!Yp){const t=ge.Symbol;if(t&&t.iterator)Yp=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<n.length;++r){const o=n[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Yp=o)}}}return Yp}class eu{constructor(n){this.wrapped=n}static wrap(n){return new eu(n)}static unwrap(n){return eu.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof eu}}function $d(t){return!!Jp(t)&&(Array.isArray(t)||!(t instanceof Map)&&zi()in t)}function Jp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vu(t,n,r){return t[n]=r}function Ko(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function tu(t,n,r,o){const u=dt();return Ko(u,ar(),n)&&(Wn(),Xa(er(),u,t,n,r,o)),tu}function Yo(t,n,r,o){return Ko(t,ar(),r)?n+rt(r)+o:$n}function Za(t,n,r,o,u,l){const m=function(t,n,r,o){const u=Ko(t,n,r);return Ko(t,n+1,o)||u}(t,Gr(),r,u);return Fi(2),m?n+rt(r)+o+rt(u)+l:$n}function ff(t,n,r,o,u,l,p,m){const I=dt(),O=Wn(),j=t+20,te=O.firstCreatePass?function(t,n,r,o,u,l,p,m,I){const O=n.consts,j=Ku(n,t,4,p||null,jr(O,m));Nd(n,r,j,jr(O,I)),yo(n,j);const te=j.tViews=Gh(2,j,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O);return null!==n.queries&&(n.queries.template(n,j),te.queries=n.queries.embeddedTView(j)),j}(j,O,I,n,r,o,u,l,p):O.data[j];ds(te,!1);const ie=I[11].createComment("");Oh(O,I,ie,te),es(ie,I),Pd(I,I[j]=Qh(ie,I,ie,te)),Ur(te)&&$h(O,I,te),null!=p&&_p(I,te,m)}function Tc(t){return Mr(rn.lFrame.contextLView,20+t)}function Jd(t,n=st.Default){const r=dt();return null===r?Li(t,n):w(Lr(),r,be(t),n)}function yf(t,n,r){const o=dt();return Ko(o,ar(),n)&&Wo(Wn(),er(),o,t,n,o[11],r,!1),yf}function lg(t,n,r,o,u){const p=u?"class":"style";ef(t,r,n.inputs[p],p,o)}function Xd(t,n,r,o){const u=dt(),l=Wn(),p=20+t,m=u[11],I=u[p]=Dh(m,n,rn.lFrame.currentNamespace),O=l.firstCreatePass?function(t,n,r,o,u,l,p){const m=n.consts,O=Ku(n,t,2,u,jr(m,l));return Nd(n,r,O,jr(m,p)),null!==O.attrs&&Bl(O,O.attrs,!1),null!==O.mergedAttrs&&Bl(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(p,l,u,0,n,r,o):l.data[p];ds(O,!0);const j=O.mergedAttrs;null!==j&&Zr(m,I,j);const te=O.classes;null!==te&&Ph(m,I,te);const ie=O.styles;null!==ie&&im(m,I,ie),64!=(64&O.flags)&&Oh(l,u,I,O),0===rn.lFrame.elementDepthCount&&es(I,u),rn.lFrame.elementDepthCount++,Ur(O)&&($h(l,u,O),yp(l,O,u)),null!==o&&_p(u,O)}function dg(){let t=Lr();ws()?Us():(t=t.parent,ds(t,!1));const n=t;rn.lFrame.elementDepthCount--;const r=Wn();r.firstCreatePass&&(yo(r,t),ii(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&lg(r,n,dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&lg(r,n,dt(),n.stylesWithoutHost,!1)}function gy(t,n,r,o){Xd(t,n,r,o),dg()}function _y(t,n,r){(function(t,n,r){const o=dt(),u=Wn(),l=t+20,p=u.firstCreatePass?function(t,n,r,o,u){const l=n.consts,p=jr(l,o),m=Ku(n,t,8,"ng-container",p);return null!==p&&Bl(m,p,!0),Nd(n,r,m,jr(l,u)),null!==n.queries&&n.queries.elementStart(n,m),m}(l,u,o,n,r):u.data[l];ds(p,!0);const m=o[l]=o[11].createComment("");Oh(u,o,m,p),es(m,o),Ur(p)&&($h(u,o,p),yp(u,p,o)),null!=r&&_p(o,p)})(t,n,r),function(){let t=Lr();const n=Wn();ws()?Us():(t=t.parent,ds(t,!1)),n.firstCreatePass&&(yo(n,t),ii(t)&&n.queries.elementEnd(t))}()}function cv(){return dt()}function hg(t){return!!t&&"function"==typeof t.then}function vy(t){return!!t&&"function"==typeof t.subscribe}const fg=vy;function eh(t,n,r,o){const u=dt(),l=Wn(),p=Lr();return function(t,n,r,o,u,l,p,m){const I=Ur(o),j=t.firstCreatePass&&Xh(t),te=n[8],ie=Jh(n);let _e=!0;if(3&o.type||m){const We=Zt(o,n),Ct=m?m(We):We,lt=ie.length,In=m?qn=>m(T(qn[o.index])):o.index;if(ze(r)){let qn=null;if(!m&&I&&(qn=function(t,n,r,o){const u=t.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const p=u[l];if(p===r&&u[l+1]===o){const m=n[7],I=u[l+2];return m.length>I?m[I]:null}"string"==typeof p&&(l+=2)}return null}(t,n,u,o.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=l,qn.__ngLastListenerFn__=l,_e=!1;else{l=gg(o,n,te,l,!1);const Tr=r.listen(Ct,u,l);ie.push(l,Tr),j&&j.push(u,In,lt,lt+1)}}else l=gg(o,n,te,l,!0),Ct.addEventListener(u,l,p),ie.push(l),j&&j.push(u,In,lt,p)}else l=gg(o,n,te,l,!1);const xe=o.outputs;let et;if(_e&&null!==xe&&(et=xe[u])){const We=et.length;if(We)for(let Ct=0;Ct<We;Ct+=2){const Co=n[et[Ct]][et[Ct+1]].subscribe(l),Tu=ie.length;ie.push(l,Co),j&&j.push(u,o.index,Tu,-(Tu+1))}}}(l,u,u[11],p,t,n,!!r,o),eh}function _f(t,n,r,o){try{return!1!==r(o)}catch(u){return Rp(t,u),!1}}function gg(t,n,r,o,u){return function l(p){if(p===Function)return o;const m=2&t.flags?dr(t.index,n):n;0==(32&n[2])&&kd(m);let I=_f(n,0,o,p),O=l.__ngNextListenerFn__;for(;O;)I=_f(n,0,O,p)&&I,O=O.__ngNextListenerFn__;return u&&!1===I&&(p.preventDefault(),p.returnValue=!1),I}}function by(t=1){return function(t){return(rn.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,rn.lFrame.contextLView))[8]}(t)}function wf(t,n,r){return bf(t,"",n,"",r),wf}function bf(t,n,r,o,u){const l=dt(),p=Yo(l,n,r,o);return p!==$n&&Wo(Wn(),er(),l,t,p,l[11],u,!1),bf}function Mc(t,n,r,o,u){const l=t[r+1],p=null===n;let m=o?Ca(l):Wu(l),I=!1;for(;0!==m&&(!1===I||p);){const j=t[m+1];vg(t[m],n)&&(I=!0,t[m+1]=o?cp(j):ks(j)),m=o?Ca(j):Wu(j)}I&&(t[r+1]=o?ks(l):cp(l))}function vg(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Q(t,n)>=0}function Ef(t,n){return function(t,n,r,o){const u=dt(),l=Wn(),p=Fi(2);l.firstUpdatePass&&function(t,n,r,o){const u=t.data;if(null===u[r+1]){const l=u[sn()],p=function(t,n){return n>=t.expandoStartIndex}(t,r);(function(t,n){return 0!=(t.flags&(n?16:32))})(l,o)&&null===n&&!p&&(n=!1),n=function(t,n,r,o){const u=function(t){const n=rn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(r=a(r=i(null,t,n,r,o),n.attrs,o),l=null);else{const p=n.directiveStylingLast;if(-1===p||t[p]!==u)if(r=i(u,t,n,r,o),null===l){let I=function(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Wu(o))return t[Ca(o)]}(t,n,o);void 0!==I&&Array.isArray(I)&&(I=i(null,t,n,I[1],o),I=a(I,n.attrs,o),function(t,n,r,o){t[Ca(r?n.classBindings:n.styleBindings)]=o}(t,n,o,I))}else l=function(t,n,r){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=a(o,t[l].hostAttrs,r);return a(o,n.attrs,r)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),r}(u,l,n,o),function(t,n,r,o,u,l){let p=l?n.classBindings:n.styleBindings,m=Ca(p),I=Wu(p);t[o]=r;let j,O=!1;if(Array.isArray(r)){const te=r;j=te[1],(null===j||Q(te,j)>0)&&(O=!0)}else j=r;if(u)if(0!==I){const ie=Ca(t[m+1]);t[o+1]=Lh(ie,m),0!==ie&&(t[ie+1]=up(t[ie+1],o)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],o)}else t[o+1]=Lh(m,0),0!==m&&(t[m+1]=up(t[m+1],o)),m=o;else t[o+1]=Lh(I,0),0===m?m=o:t[I+1]=up(t[I+1],o),I=o;O&&(t[o+1]=ks(t[o+1])),Mc(t,j,o,!0),Mc(t,j,o,!1),function(t,n,r,o,u){const l=u?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Q(l,n)>=0&&(r[o+1]=cp(r[o+1]))}(n,j,t,o,l),p=Lh(m,I),l?n.classBindings=p:n.styleBindings=p}(u,l,n,r,p,o)}}(l,t,p,o),n!==$n&&Ko(u,p,n)&&function(t,n,r,o,u,l,p,m){if(!(3&n.type))return;const I=t.data,O=I[m+1];re(function(t){return 1==(1&t)}(O)?q(I,n,r,u,Wu(O),p):void 0)||(re(l)||function(t){return 2==(2&t)}(O)&&(l=q(I,null,r,u,m,p)),function(t,n,r,o,u){const l=ze(t);if(n)u?l?t.addClass(r,o):r.classList.add(o):l?t.removeClass(r,o):r.classList.remove(o);else{let p=-1===o.indexOf("-")?void 0:Ua.DashCase;if(null==u)l?t.removeStyle(r,o,p):r.style.removeProperty(o);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),p|=Ua.Important),l?t.setStyle(r,o,u,p):r.style.setProperty(o,u,m?"important":"")}}}(o,p,wt(sn(),r),u,l))}(l,l.data[sn()],u,u[11],t,u[p+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=de(sa(t)))),t}(n,r),o,p)}(t,n,null,!0),Ef}function i(t,n,r,o,u){let l=null;const p=r.directiveEnd;let m=r.directiveStylingLast;for(-1===m?m=r.directiveStart:m++;m<p&&(l=n[m],o=a(o,l.hostAttrs,u),l!==t);)m++;return null!==t&&(r.directiveStylingLast=m),o}function a(t,n,r){const o=r?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?u=p:u===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),x(t,p,!!r||n[++l]))}return void 0===t?null:t}function q(t,n,r,o,u,l){const p=null===n;let m;for(;u>0;){const I=t[u],O=Array.isArray(I),j=O?I[1]:I,te=null===j;let ie=r[u+1];ie===$n&&(ie=te?yt:void 0);let _e=te?V(ie,o):j===o?ie:void 0;if(O&&!re(_e)&&(_e=V(I,o)),re(_e)&&(m=_e,p))return m;const xe=t[u+1];u=p?Ca(xe):Wu(xe)}if(null!==n){let I=l?n.residualClasses:n.residualStyles;null!=I&&(m=V(I,o))}return m}function re(t){return void 0!==t}function it(t,n=""){const r=dt(),o=Wn(),u=t+20,l=o.firstCreatePass?Ku(o,u,1,n,null):o.data[u],p=r[u]=function(t,n){return ze(t)?t.createText(n):t.createTextNode(n)}(r[11],n);Oh(o,r,p,l),ds(l,!1)}function ft(t){return Ot("",t,""),ft}function Ot(t,n,r){const o=dt(),u=Yo(o,t,n,r);return u!==$n&&Yu(o,sn(),u),Ot}function yn(t,n,r,o,u){const l=dt(),p=Za(l,t,n,r,o,u);return p!==$n&&Yu(l,sn(),p),yn}function _v(t,n,r){const o=dt();return Ko(o,ar(),n)&&Wo(Wn(),er(),o,t,n,o[11],r,!0),_v}const rh=void 0;var dC=["en",[["a","p"],["AM","PM"],rh],[["AM","PM"],rh,rh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rh,"{1} 'at' {0}",rh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Cf={};function vv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=u0(n);if(r)return r;const o=n.split("-")[0];if(r=u0(o),r)return r;if("en"===o)return dC;throw new Error(`Missing locale data for the locale "${t}".`)}function a0(t){return vv(t)[kn.PluralCase]}function u0(t){return t in Cf||(Cf[t]=ge.ng&&ge.ng.common&&ge.ng.common.locales&&ge.ng.common.locales[t]),Cf[t]}var kn=(()=>((kn=kn||{})[kn.LocaleId=0]="LocaleId",kn[kn.DayPeriodsFormat=1]="DayPeriodsFormat",kn[kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",kn[kn.DaysFormat=3]="DaysFormat",kn[kn.DaysStandalone=4]="DaysStandalone",kn[kn.MonthsFormat=5]="MonthsFormat",kn[kn.MonthsStandalone=6]="MonthsStandalone",kn[kn.Eras=7]="Eras",kn[kn.FirstDayOfWeek=8]="FirstDayOfWeek",kn[kn.WeekendRange=9]="WeekendRange",kn[kn.DateFormat=10]="DateFormat",kn[kn.TimeFormat=11]="TimeFormat",kn[kn.DateTimeFormat=12]="DateTimeFormat",kn[kn.NumberSymbols=13]="NumberSymbols",kn[kn.NumberFormats=14]="NumberFormats",kn[kn.CurrencyCode=15]="CurrencyCode",kn[kn.CurrencySymbol=16]="CurrencySymbol",kn[kn.CurrencyName=17]="CurrencyName",kn[kn.Currencies=18]="Currencies",kn[kn.Directionality=19]="Directionality",kn[kn.PluralCase=20]="PluralCase",kn[kn.ExtraData=21]="ExtraData",kn))();const Ry="en-US";let c0=Ry;function wv(t){Vt(t,"Expected localeId to be defined"),"string"==typeof t&&(c0=t.toLowerCase().replace(/_/g,"-"))}function Cv(t,n,r,o,u){if(t=be(t),Array.isArray(t))for(let l=0;l<t.length;l++)Cv(t[l],n,r,o,u);else{const l=Wn(),p=dt();let m=Cc(t)?t:be(t.provide),I=Rm(t);const O=Lr(),j=1048575&O.providerIndexes,te=O.directiveStart,ie=O.providerIndexes>>20;if(Cc(t)||!t.multi){const _e=new $(I,u,Jd),xe=Tv(m,n,u?j:j+ie,te);-1===xe?(St(Mo(O,p),l,m),Iv(l,t,n.length),n.push(m),O.directiveStart++,O.directiveEnd++,u&&(O.providerIndexes+=1048576),r.push(_e),p.push(_e)):(r[xe]=_e,p[xe]=_e)}else{const _e=Tv(m,n,j+ie,te),xe=Tv(m,n,j,j+ie),et=_e>=0&&r[_e],We=xe>=0&&r[xe];if(u&&!We||!u&&!et){St(Mo(O,p),l,m);const Ct=function(t,n,r,o,u){const l=new $(t,r,Jd);return l.multi=[],l.index=n,l.componentProviders=0,R0(l,u,o&&!r),l}(u?uI:aI,r.length,u,o,I);!u&&We&&(r[xe].providerFactory=Ct),Iv(l,t,n.length,0),n.push(m),O.directiveStart++,O.directiveEnd++,u&&(O.providerIndexes+=1048576),r.push(Ct),p.push(Ct)}else Iv(l,t,_e>-1?_e:xe,R0(r[u?xe:_e],I,!u&&o));!u&&o&&We&&r[xe].componentProviders++}}}function Iv(t,n,r,o){const u=Cc(n);if(u||function(t){return!!t.useClass}(n)){const p=(n.useClass||n).prototype.ngOnDestroy;if(p){const m=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const I=m.indexOf(r);-1===I?m.push(r,[o,p]):m[I+1].push(o,p)}else m.push(r,p)}}}function R0(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Tv(t,n,r,o){for(let u=r;u<o;u++)if(n[u]===t)return u;return-1}function aI(t,n,r,o){return Dv(this.multi,[])}function uI(t,n,r,o){const u=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,m=ce(r,r[1],this.providerFactory.index,o);l=m.slice(0,p),Dv(u,l);for(let I=p;I<m.length;I++)l.push(m[I])}else l=[],Dv(u,l);return l}function Dv(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function P0(t,n=[]){return r=>{r.providersResolver=(o,u)=>function(t,n,r){const o=Wn();if(o.firstCreatePass){const u=Ir(t);Cv(r,o.data,o.blueprint,u,!0),Cv(n,o.data,o.blueprint,u,!1)}}(o,u?u(t):t,n)}}class k0{}const L0="ngComponent";class dI{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${de(t)}. Did you add it to @NgModule.entryComponents?`);return n[L0]=t,n}(n)}}let Tf=(()=>{class t{}return t.NULL=new dI,t})();function Vy(...t){}function Df(t,n){return new Oc(Zt(t,n))}const pI=function(){return Df(Lr(),dt())};let Oc=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=pI,t})();function V0(t){return t instanceof Oc?t.nativeElement:t}class Uy{}let gI=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>yI(),t})();const yI=function(){const t=dt(),r=dr(Lr().index,t);return function(t){return t[11]}($r(r)?r:t)};let Sv=(()=>{class t{}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:()=>null}),t})();class U0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xv=new U0("12.2.10");class B0{constructor(){}supports(n){return $d(n)}create(n){return new bI(n)}}const wI=(t,n)=>n;class bI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const p=!o||r&&r.currentIndex<Z0(o,u,l)?r:o,m=Z0(p,u,l),I=p.currentIndex;if(p===o)u--,o=o._nextRemoved;else if(r=r._next,null==p.previousIndex)u++;else{l||(l=[]);const O=m-u,j=I-u;if(O!=j){for(let ie=0;ie<O;ie++){const _e=ie<l.length?l[ie]:l[ie]=0,xe=_e+ie;j<=xe&&xe<O&&(l[ie]=_e+1)}l[p.previousIndex]=j-O}}m!==I&&n(p,m,I)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!$d(n))throw new Error(`Error trying to diff '${de(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,p,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)l=n[m],p=this._trackByFn(m,l),null!==r&&Object.is(r.trackById,p)?(o&&(r=this._verifyReinsertion(r,l,p,m)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,p,m),o=!0),r=r._next}else u=0,function(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[zi()]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,m=>{p=this._trackByFn(u,m),null!==r&&Object.is(r.trackById,p)?(o&&(r=this._verifyReinsertion(r,m,p,u)),Object.is(r.item,m)||this._addIdentityChange(r,m)):(r=this._mismatch(r,m,p,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,u)):n=this._addAfter(new EI(r,o),l,u),n}_verifyReinsertion(n,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const u=null===r?this._itHead:r._next;return n._next=u,n._prev=r,null===u?this._itTail=n:u._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class EI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class j0{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new CI,this.map.set(r,o)),o.add(n)}get(n,r){const u=this.map.get(n);return u?u.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z0(t,n,r){const o=t.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+n+u}class H0{constructor(){}supports(n){return n instanceof Map||Jp(n)}create(){return new II}}class II{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Jp(n)))throw new Error(`Error trying to diff '${de(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,r);const l=u._prev,p=u._next;return l&&(l._next=p),p&&(p._prev=l),u._next=null,u._prev=null,u}const o=new TI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class TI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $0(){return new By([new B0])}let By=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||$0()),deps:[[t,new Ya,new ia]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(t){return t.name||typeof t}(r)}'`)}}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:$0}),t})();function q0(){return new jy([new H0])}let jy=(()=>{class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||q0()),deps:[[t,new Ya,new ia]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return t.\u0275prov=Nn({token:t,providedIn:"root",factory:q0}),t})();function Zy(t,n,r,o,u=!1){for(;null!==r;){const l=n[r.index];if(null!==l&&o.push(T(l)),On(l))for(let m=10;m<l.length;m++){const I=l[m],O=I[1].firstChild;null!==O&&Zy(I[1],I,O,o)}const p=r.type;if(8&p)Zy(t,n,r.child,o);else if(32&p){const m=Ed(r,n);let I;for(;I=m();)o.push(I)}else if(16&p){const m=zu(n,r);if(Array.isArray(m))o.push(...m);else{const I=pu(n[16]);Zy(I[1],I,m,o,!0)}}r=u?r.projectionNext:r.next}return o}class Dg{constructor(n,r){this._lView=n,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,r=n[1];return Zy(r,n,r.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(On(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(_c(n,o),na(r,o))}this._attachedToViewContainer=!1}Jf(this._lView[1],this._lView)}onDestroy(n){zh(this._lView[1],this._lView,null,n)}markForCheck(){kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,r){ki(!0);try{Fd(t,n,r)}finally{ki(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Kc(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class AI extends Dg{constructor(n){super(n),this._view=n}detectChanges(){Sm(this._view)}checkNoChanges(){!function(t){ki(!0);try{Sm(t)}finally{ki(!1)}}(this._view)}get context(){return null}}const xI=function(t){return function(t,n,r){if(ji(t)&&!r){const o=dr(t.index,n);return new Dg(o,o)}return 47&t.type?new Dg(n[16],n):null}(Lr(),dt(),16==(16&t))};let MI=(()=>{class t{}return t.__NG_ELEMENT_ID__=xI,t})();const RI=[new H0],kI=new By([new B0]),FI=new jy(RI),VI=function(){return Hy(Lr(),dt())};let Ag=(()=>{class t{}return t.__NG_ELEMENT_ID__=VI,t})();const UI=Ag,BI=class extends UI{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(n){const r=this._declarationTContainer.tViews,o=Yc(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(r)),yu(r,o,n),new Dg(o)}};function Hy(t,n){return 4&t.type?new BI(n,t,Df(t,n)):null}class ih{}class G0{}const HI=function(){return K0(Lr(),dt())};let $y=(()=>{class t{}return t.__NG_ELEMENT_ID__=HI,t})();const qI=$y,z0=class extends qI{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Df(this._hostTNode,this._hostLView)}get injector(){return new Lt(this._hostTNode,this._hostLView)}get parentInjector(){const n=Na(this._hostTNode,this._hostLView);if(ea(n)){const r=oi(n,this._hostLView),o=Ma(n);return new Lt(r[1].data[o+8],r)}return new Lt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=W0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,r,o){const u=n.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(n,r,o,u,l){const p=o||this.parentInjector;if(!l&&null==n.ngModule&&p){const I=p.get(ih,null);I&&(l=I)}const m=n.create(p,u,void 0,l);return this.insert(m.hostView,r),m}insert(n,r){const o=n._lView,u=o[1];if(On(o[3])){const j=this.indexOf(n);if(-1!==j)this.detach(j);else{const te=o[3],ie=new z0(te,te[6],te[3]);ie.detach(ie.indexOf(n))}}const l=this._adjustIndex(r),p=this._lContainer;!function(t,n,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=n),o<l-10?(n[4]=r[u],Ho(r,10+o,n)):(r.push(n),n[4]=null),n[3]=r;const p=n[17];null!==p&&r!==p&&function(t,n){const r=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===r?t[9]=[n]:r.push(n)}(p,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(u,o,p,l);const m=Sl(l,p),I=o[11],O=xh(I,p[7]);return null!==O&&function(t,n,r,o,u,l){o[0]=u,o[6]=n,Kc(t,o,r,1,u,l)}(u,p[6],I,o,O,m),n.attachToViewContainerRef(),Ho(Mv(p),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=W0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=_c(this._lContainer,r);o&&(na(Mv(this._lContainer),r),Jf(o[1],o))}detach(n){const r=this._adjustIndex(n,-1),o=_c(this._lContainer,r);return o&&null!=na(Mv(this._lContainer),r)?new Dg(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function W0(t){return t[8]}function Mv(t){return t[8]||(t[8]=[])}function K0(t,n){let r;const o=n[t.index];if(On(o))r=o;else{let u;if(8&t.type)u=T(o);else{const l=n[11];u=l.createComment("");const p=Zt(t,n);Ea(l,xh(l,p),u,function(t,n){return ze(t)?t.nextSibling(n):n.nextSibling}(l,p),!1)}n[t.index]=r=Qh(o,n,u,t),Pd(n,r)}return new z0(r,t,n)}const Mf={};class gb extends Tf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Mn(n);return new yb(r,this.ngModule)}}function mb(t){const n=[];for(let r in t)t.hasOwnProperty(r)&&n.push({propName:t[r],templateName:r});return n}const jT=new Ii("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bd});class yb extends k0{constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=n.selectors.map(am).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return mb(this.componentDef.inputs)}get outputs(){return mb(this.componentDef.outputs)}create(n,r,o,u){const l=(u=u||this.ngModule)?function(t,n){return{get:(r,o,u)=>{const l=t.get(r,Mf,u);return l!==Mf||o===Mf?l:n.get(r,o,u)}}}(n,u.injector):n,p=l.get(Uy,N),m=l.get(Sv,null),I=p.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",j=o?function(t,n,r){if(ze(t))return t.selectRootElement(n,r===Qn.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(I,o,this.componentDef.encapsulation):Dh(p.createRenderer(null,this.componentDef),O,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(O)),te=this.componentDef.onPush?576:528,ie=function(t,n){return{components:[],scheduler:t||bd,clean:Np,playerHandler:n||null,flags:0}}(),_e=Gh(0,null,null,1,0,null,null,null,null,null),xe=Yc(null,_e,ie,te,null,null,p,I,m,l);let et,We;go(xe);try{const Ct=function(t,n,r,o,u,l){const p=r[1];r[20]=t;const I=Ku(p,20,2,"#host",null),O=I.mergedAttrs=n.hostAttrs;null!==O&&(Bl(I,O,!0),null!==t&&(Zr(u,t,O),null!==I.classes&&Ph(u,t,I.classes),null!==I.styles&&im(u,t,I.styles)));const j=o.createRenderer(t,n),te=Yc(r,qh(n),null,n.onPush?64:16,r[20],I,o,j,l||null,null);return p.firstCreatePass&&(St(Mo(I,r),p,n.type),Im(p,I),Ip(I,r.length,1)),Pd(r,te),r[20]=te}(j,this.componentDef,xe,p,I);if(j)if(o)Zr(I,j,["ng-version",xv.full]);else{const{attrs:lt,classes:In}=function(t){const n=[],r=[];let o=1,u=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===u?""!==l&&n.push(l,t[++o]):8===u&&r.push(l);else{if(!Ba(u))break;u=l}o++}return{attrs:n,classes:r}}(this.componentDef.selectors[0]);lt&&Zr(I,j,lt),In&&In.length>0&&Ph(I,j,In.join(" "))}if(We=Br(_e,20),void 0!==r){const lt=We.projection=[];for(let In=0;In<this.ngContentSelectors.length;In++){const qn=r[In];lt.push(null!=qn?Array.from(qn):null)}}et=function(t,n,r,o,u){const l=r[1],p=function(t,n,r){const o=Lr();t.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Tp(t,o,n,Qc(t,n,1,null),r));const u=ce(n,t,o.directiveStart,o);es(u,n);const l=Zt(o,n);return l&&es(l,n),u}(l,r,n);if(o.components.push(p),t[8]=p,u&&u.forEach(I=>I(p,n)),n.contentQueries){const I=Lr();n.contentQueries(1,p,I.directiveStart)}const m=Lr();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Xn(m.index),Kh(r[1],m,0,m.directiveStart,m.directiveEnd,n),Yh(n,p)),p}(Ct,this.componentDef,xe,ie,[_u]),yu(_e,xe,null)}finally{oe()}return new $T(this.componentType,et,Df(We,xe),xe,We)}}class $T extends class{}{constructor(n,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new AI(u),this.componentType=n}get injector(){return new Lt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Of=new Map;class zT extends ih{constructor(n,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gb(this);const o=Nr(n),u=n[nn]||null;u&&wv(u),this._bootstrapComponents=yi(o.bootstrap),this._r3Injector=Om(n,r,[{provide:ih,useValue:this},{provide:Tf,useValue:this.componentFactoryResolver}],de(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,r=_i.THROW_IF_NOT_FOUND,o=st.Default){return n===_i||n===ih||n===Ec?this:this._r3Injector.get(n,r,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Hv extends G0{constructor(n){super(),this.moduleType=n,null!==Nr(n)&&function(t){const n=new Set;!function r(o){const u=Nr(o,!0),l=u.id;null!==l&&(function(t,n,r){if(n&&n!==r)throw new Error(`Duplicate module registered for ${t} - ${de(n)} vs ${de(n.name)}`)}(l,Of.get(l),o),Of.set(l,o));const p=yi(u.imports);for(const m of p)n.has(m)||(n.add(m),r(m))}(t)}(n)}create(n){return new zT(this.moduleType,n)}}function wb(t,n,r){const o=Xr()+t,u=dt();return u[o]===$n?vu(u,o,r?n.call(r):n()):function(t,n){return t[n]}(u,o)}function bb(t,n,r,o){return Eb(dt(),Xr(),t,n,r,o)}function Eb(t,n,r,o,u,l){const p=n+r;return Ko(t,p,u)?vu(t,p+1,l?o.call(l,u):o(u)):function(t,n){const r=t[n];return r===$n?void 0:r}(t,p+1)}function Ab(t,n){const r=Wn();let o;const u=t+20;r.firstCreatePass?(o=function(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}throw new Ve("302",`The pipe '${t}' could not be found!`)}(n,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const l=o.factory||(o.factory=qr(o.type)),p=zn(Jd);try{const m=Ms(!1),I=l();return Ms(m),function(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,dt(),u,I),I}finally{zn(p)}}function Sb(t,n,r){const o=t+20,u=dt(),l=Mr(u,o);return function(t,n){eu.isWrapped(n)&&(n=eu.unwrap(n),t[Gr()]=$n);return n}(u,function(t,n){return t[1].data[n].pure}(u,o)?Eb(u,Xr(),n,l.transform,r,l):l.transform(r))}function $v(t){return n=>{setTimeout(t,void 0,n)}}const Nc=class extends _.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,r,o){var u,l,p;let m=n,I=r||(()=>null),O=o;if(n&&"object"==typeof n){const te=n;m=null===(u=te.next)||void 0===u?void 0:u.bind(te),I=null===(l=te.error)||void 0===l?void 0:l.bind(te),O=null===(p=te.complete)||void 0===p?void 0:p.bind(te)}this.__isAsync&&(I=$v(I),m&&(m=$v(m)),O&&(O=$v(O)));const j=super.subscribe({next:m,error:I,complete:O});return n instanceof c.w&&n.add(j),j}};function uD(){return this._results[zi()]()}class Ky{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=zi(),o=Ky.prototype;o[r]||(o[r]=uD)}get changes(){return this._changes||(this._changes=new Nc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){const o=this;o.dirty=!1;const u=io(n);(this._changesDetected=!function(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let u=t[o],l=n[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class qv{constructor(n){this.queryList=n,this.matches=null}clone(){return new qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const p=r.getByIndex(l);u.push(this.queries[p.indexInDeclarationView].clone())}return new Gv(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Lb(n,r).matches&&this.queries[r].setDirty()}}class xb{constructor(n,r,o=null){this.predicate=n,this.flags=r,this.read=o}}class zv{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new zv(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Wv{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Wv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,r,dD(r,l)),this.matchTNodeWithReadOption(n,r,Y(r,n,l,!1,!1))}else o===Ag?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Y(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Oc||u===$y||u===Ag&&4&r.type)this.addMatch(r.index,-2);else{const l=Y(r,n,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function dD(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function fD(t,n,r,o){return-1===r?function(t,n){return 11&t.type?Df(t,n):4&t.type?Hy(t,n):null}(n,t):-2===r?function(t,n,r){return r===Oc?Df(n,t):r===Ag?Hy(n,t):r===$y?K0(n,t):void 0}(t,n,o):ce(t,t[1],r,n)}function Mb(t,n,r,o){const u=n[19].queries[o];if(null===u.matches){const l=t.data,p=r.matches,m=[];for(let I=0;I<p.length;I+=2){const O=p[I];m.push(O<0?null:fD(n,l[O],p[I+1],r.metadata.read))}u.matches=m}return u.matches}function Kv(t,n,r,o){const u=t.queries.getByIndex(r),l=u.matches;if(null!==l){const p=Mb(t,n,u,r);for(let m=0;m<l.length;m+=2){const I=l[m];if(I>0)o.push(p[m/2]);else{const O=l[m+1],j=n[-I];for(let te=10;te<j.length;te++){const ie=j[te];ie[17]===ie[3]&&Kv(ie[1],ie,O,o)}if(null!==j[9]){const te=j[9];for(let ie=0;ie<te.length;ie++){const _e=te[ie];Kv(_e[1],_e,O,o)}}}}}return o}function Ob(t){const n=dt(),r=Wn(),o=xo();no(o+1);const u=Lb(r,o);if(t.dirty&&pi(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const l=u.crossesNgTemplate?Kv(r,n,o,[]):Mb(r,n,u,o);t.reset(l,V0),t.notifyOnChanges()}return!0}return!1}function Nb(t,n,r){const o=Wn();o.firstCreatePass&&(Fb(o,new xb(t,n,r),-1),2==(2&n)&&(o.staticViewQueries=!0)),kb(o,dt(),n)}function Rb(t,n,r,o){const u=Wn();if(u.firstCreatePass){const l=Lr();Fb(u,new xb(n,r,o),l.index),function(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}kb(u,dt(),r)}function Pb(){return t=dt(),n=xo(),t[19].queries[n].queryList;var t,n}function kb(t,n,r){const o=new Ky(4==(4&r));zh(t,n,o,o.destroy),null===n[19]&&(n[19]=new Gv),n[19].queries.push(new qv(o))}function Fb(t,n,r){null===t.queries&&(t.queries=new zv),t.queries.track(new Wv(n,r))}function Lb(t,n){return t.queries.getByIndex(n)}function Vb(t,n){return Hy(t,n)}const tw=new Ii("Application Initializer");let Rf=(()=>{class t{constructor(r){this.appInits=r,this.resolve=Vy,this.reject=Vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(hg(l))r.push(l);else if(fg(l)){const p=new Promise((m,I)=>{l.subscribe({complete:m,error:I})});r.push(p)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return t.\u0275fac=function(r){return new(r||t)(Li(tw,8))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();const nE=new Ii("AppId"),HD={provide:nE,useFactory:function(){return`${nw()}${nw()}${nw()}`},deps:[]};function nw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rE=new Ii("Platform Initializer"),iE=new Ii("Platform ID"),sE=new Ii("appBootstrapListener");let oE=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();const Jy=new Ii("LocaleId"),aE=new Ii("DefaultCurrencyCode");class qD{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}const rw=function(t){return new Hv(t)},GD=rw,zD=function(t){return Promise.resolve(rw(t))},uE=function(t){const n=rw(t),o=yi(Nr(t).declarations).reduce((u,l)=>{const p=Mn(l);return p&&u.push(new yb(p)),u},[]);return new qD(n,o)},WD=uE,KD=function(t){return Promise.resolve(uE(t))};let Ug=(()=>{class t{constructor(){this.compileModuleSync=GD,this.compileModuleAsync=zD,this.compileModuleAndAllComponentsSync=WD,this.compileModuleAndAllComponentsAsync=KD}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();const JD=(()=>Promise.resolve(0))();function iw(t){"undefined"==typeof Zone?JD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ou{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=ge.requestAnimationFrame,n=ge.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ow(t),t.isCheckStableRunning=!0,sw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ow(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,p,m)=>{try{return cE(t),r.invokeTask(u,l,p,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),lE(t)}},onInvoke:(r,o,u,l,p,m,I)=>{try{return cE(t),r.invoke(u,l,p,m,I)}finally{t.shouldCoalesceRunChangeDetection&&n(),lE(t)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,ow(t),sw(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,u){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+u,n,eA,Vy,Vy);try{return l.runTask(p,r,o)}finally{l.cancelTask(p)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const eA={};function sw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ow(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lE(t){t._nesting--,sw(t)}class rA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,u){return n.apply(r,o)}}let dE=(()=>{class t{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ou.assertNotInAngularZone(),iw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iw(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return t.\u0275fac=function(r){return new(r||t)(Li(ou))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})(),hE=(()=>{class t{constructor(){this._applications=new Map,aw.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return aw.findTestabilityInTree(this,r,o)}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();class iA{addToWindow(n){}findTestabilityInTree(n,r,o){return null}}function sA(t){aw=t}let aw=new iA,fE=!0,pE=!1;function uw(){return pE=!0,fE}function oA(){if(pE)throw new Error("Cannot enable prod mode after platform setup.");fE=!1}let ic;const gE=new Ii("AllowMultipleToken");class fA{constructor(n,r){this.name=n,this.token=r}}function mE(t,n,r=[]){const o=`Platform: ${n}`,u=new Ii(o);return(l=[])=>{let p=yE();if(!p||p.injector.get(gE,!1))if(t)t(r.concat(l).concat({provide:u,useValue:!0}));else{const m=r.concat(l).concat({provide:u,useValue:!0},{provide:Vd,useValue:"platform"});!function(t){if(ic&&!ic.destroyed&&!ic.injector.get(gE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ic=t.get(_E);const n=t.get(rE,null);n&&n.forEach(r=>r())}(_i.create({providers:m,name:o}))}return function(t){const n=yE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(u)}}function yE(){return ic&&!ic.destroyed?ic:null}let _E=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const m=function(t,n){let r;return r="noop"===t?new rA:("zone.js"===t?void 0:t)||new ou({enableLongStackTrace:uw(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),I=[{provide:ou,useValue:m}];return m.run(()=>{const O=_i.create({providers:I,parent:this.injector,name:r.moduleType.name}),j=r.create(O),te=j.injector.get(tt,null);if(!te)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const ie=m.onError.subscribe({next:_e=>{te.handleError(_e)}});j.onDestroy(()=>{cw(this._modules,j),ie.unsubscribe()})}),function(t,n,r){try{const o=r();return hg(o)?o.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(te,m,()=>{const ie=j.injector.get(Rf);return ie.runInitializers(),ie.donePromise.then(()=>(wv(j.injector.get(Jy,Ry)||Ry),this._moduleDoBootstrap(j),j))})})}bootstrapModule(r,o=[]){const u=vE({},o);return function(t,n,r){const o=new Hv(r);return Promise.resolve(o)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(Bg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${de(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(r){return new(r||t)(Li(_i))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();function vE(t,n){return Array.isArray(n)?n.reduce(vE,t):Object.assign(Object.assign({},t),n)}let Bg=(()=>{class t{constructor(r,o,u,l,p){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new X.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),I=new X.y(O=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{ou.assertNotInAngularZone(),iw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{j.unsubscribe(),te.unsubscribe()}});this.isStable=(0,se.T)(m,I.pipe(t=>(0,Ie.x)()(function(t,n){return function(o){let u;u="function"==typeof t?t:function(){return t};const l=Object.create(o,Te.N);return l.source=o,l.subjectFactory=u,l}}(ue)(t))))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof k0?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(ih),m=u.create(_i.NULL,[],o||u.selector,l),I=m.location.nativeElement,O=m.injector.get(dE,null),j=O&&m.injector.get(hE);return O&&j&&j.registerApplication(I,O),m.onDestroy(()=>{this.detachView(m.hostView),cw(this.components,m),j&&j.unregisterApplication(I)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;cw(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(sE,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(r){return new(r||t)(Li(ou),Li(_i),Li(tt),Li(Tf),Li(Rf))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();function cw(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}class vA{}class bA{}const EA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let CA=(()=>{class t{constructor(r,o){this._compiler=r,this._config=o||EA}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[o,u]=r.split("#");return void 0===u&&(u="default"),Z(8255)(o).then(l=>l[u]).then(l=>CE(l,o,u)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(r){let[o,u]=r.split("#"),l="NgFactory";return void 0===u&&(u="default",l=""),Z(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(p=>p[u+l]).then(p=>CE(p,o,u))}}return t.\u0275fac=function(r){return new(r||t)(Li(Ug),Li(bA,8))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),t})();function CE(t,n,r){if(!t)throw new Error(`Cannot find '${r}' in '${n}'`);return t}const OA=function(t){return null},RA=mE(null,"core",[{provide:iE,useValue:"unknown"},{provide:_E,deps:[_i]},{provide:hE,deps:[]},{provide:oE,deps:[]}]),VA=[{provide:Bg,useClass:Bg,deps:[ou,_i,tt,Tf,Rf]},{provide:jT,deps:[ou],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(r){n.push(r)}}},{provide:Rf,useClass:Rf,deps:[[new ia,tw]]},{provide:Ug,useClass:Ug,deps:[]},HD,{provide:By,useFactory:function(){return kI},deps:[]},{provide:jy,useFactory:function(){return FI},deps:[]},{provide:Jy,useFactory:function(t){return wv(t=t||"undefined"!=typeof $localize&&$localize.locale||Ry),t},deps:[[new Nu(Jy),new ia,new Ya]]},{provide:aE,useValue:"USD"}];let BA=(()=>{class t{constructor(r){}}return t.\u0275fac=function(r){return new(r||t)(Li(Bg))},t.\u0275mod=ni({type:t}),t.\u0275inj=Gn({providers:VA}),t})()},2965:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{nm:()=>wr});var _=Z(6643);Z(3018),Z(2329);var Qe=Z(8239),ye=Z(5452),rt=Z(6034),qt=Z(3854),Gt=Z(5601);const qe=new Map,je={activated:!1,tokenObservers:[]},He={initialized:!1,enabled:!1};function he(Pe){return qe.get(Pe)||je}function ke(Pe,$e){qe.set(Pe,$e)}function Ze(){return He}class an{constructor($e,Le,_t,At,on){if(this.operation=$e,this.retryPolicy=Le,this.getWaitDuration=_t,this.lowerBound=At,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=At,At>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process($e){var Le=this;return(0,Qe.Z)(function*(){Le.stop();try{Le.pending=new qt.BH,yield(Pe=Le.getNextRun($e),new Promise($e=>{setTimeout($e,Pe)})),Le.pending.resolve(),yield Le.pending.promise,Le.pending=new qt.BH,yield Le.operation(),Le.pending.resolve(),yield Le.pending.promise,Le.process(!0).catch(()=>{})}catch(_t){Le.retryPolicy(_t)?Le.process(!1).catch(()=>{}):Le.stop()}var Pe})()}getNextRun($e){if($e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Le=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Le}}}const Rt=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function fn(Pe){if(!he(Pe).activated)throw Rt.create("use-before-activation",{appName:Pe.name})}function pt(Pe,$e){return bt.apply(this,arguments)}function bt(){return(bt=(0,Qe.Z)(function*({url:Pe,body:$e},Le){const _t={"Content-Type":"application/json"},At=Le.getImmediate({optional:!0});At&&(_t["X-Firebase-Client"]=At.getPlatformInfoString());const on={method:"POST",body:JSON.stringify($e),headers:_t};let Pn,Tn;try{Pn=yield fetch(Pe,on)}catch(On){throw Rt.create("fetch-network-error",{originalErrorMessage:On.message})}if(200!==Pn.status)throw Rt.create("fetch-status-error",{httpStatus:Pn.status});try{Tn=yield Pn.json()}catch(On){throw Rt.create("fetch-parse-error",{originalErrorMessage:On.message})}const vn=Tn.ttl.match(/^([\d.]+)(s)$/);if(!vn||!vn[2]||isNaN(Number(vn[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Tn.ttl}`});const kr=1e3*Number(vn[1]),$r=Date.now();return{token:Tn.attestationToken,expireTimeMillis:$r+kr,issuedAtTimeMillis:$r}})).apply(this,arguments)}function Yn(Pe,$e){const{projectId:Le,appId:_t,apiKey:At}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Le}/apps/${_t}:exchangeDebugToken?key=${At}`,body:{debug_token:$e}}}const Gn="firebase-app-check-store";let fr=null;function kt(){return fr||(fr=new Promise((Pe,$e)=>{try{const Le=indexedDB.open("firebase-app-check-database",1);Le.onsuccess=_t=>{Pe(_t.target.result)},Le.onerror=_t=>{var At;$e(Rt.create("storage-open",{originalErrorMessage:null===(At=_t.target.error)||void 0===At?void 0:At.message}))},Le.onupgradeneeded=_t=>{const At=_t.target.result;switch(_t.oldVersion){case 0:At.createObjectStore(Gn,{keyPath:"compositeKey"})}}}catch(Le){$e(Rt.create("storage-open",{originalErrorMessage:Le.message}))}}),fr)}function Ft(){return(Ft=(0,Qe.Z)(function*(Pe,$e){const _t=(yield kt()).transaction(Gn,"readwrite"),on=_t.objectStore(Gn).put({compositeKey:Pe,value:$e});return new Promise((Pn,Tn)=>{on.onsuccess=vn=>{Pn()},_t.onerror=vn=>{var kr;Tn(Rt.create("storage-set",{originalErrorMessage:null===(kr=vn.target.error)||void 0===kr?void 0:kr.message}))}})})).apply(this,arguments)}const zn=new Gt.Yd("@firebase/app-check");function Ut(Pe,$e){return(0,qt.hl)()?function(Pe,$e){return function(Pe,$e){return Ft.apply(this,arguments)}(function(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),$e)}(Pe,$e).catch(Le=>{zn.warn(`Failed to write token to IndexedDB. Error: ${Le}`)}):Promise.resolve()}function li(){return Ze().enabled}function Qn(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Qe.Z)(function*(){const Pe=Ze();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ve={error:"UNKNOWN_ERROR"};function De(Pe){return qt.US.encodeString(JSON.stringify(Pe),!1)}function ge(Pe){return ot.apply(this,arguments)}function ot(){return(ot=(0,Qe.Z)(function*(Pe,$e=!1){const Le=Pe.app;fn(Le);const _t=he(Le);let on,Pn,At=_t.token;if(!At){const Tn=yield _t.cachedTokenPromise;Tn&&Zn(Tn)&&(At=Tn,ke(Le,Object.assign(Object.assign({},_t),{token:At})),Bn(Le,{token:At.token}))}if(!$e&&At&&Zn(At))return{token:At.token};if(li()){const Tn=yield pt(Yn(Le,yield Qn()),Pe.platformLoggerProvider);return yield Ut(Le,Tn),ke(Le,Object.assign(Object.assign({},_t),{token:Tn})),{token:Tn.token}}try{At=yield _t.provider.getToken()}catch(Tn){zn.error(Tn),on=Tn}return At?(Pn={token:At.token},ke(Le,Object.assign(Object.assign({},_t),{token:At})),yield Ut(Le,At)):Pn=Cn(on),Bn(Le,Pn),Pn})).apply(this,arguments)}function xt(Pe,$e){const Le=he(Pe),_t=Le.tokenObservers.filter(At=>At.next!==$e);0===_t.length&&Le.tokenRefresher&&Le.tokenRefresher.isRunning()&&Le.tokenRefresher.stop(),ke(Pe,Object.assign(Object.assign({},Le),{tokenObservers:_t}))}function Bn(Pe,$e){const Le=he(Pe).tokenObservers;for(const _t of Le)try{"EXTERNAL"===_t.type&&null!=$e.error?_t.error($e.error):_t.next($e)}catch(At){}}function Zn(Pe){return Pe.expireTimeMillis-Date.now()>0}function Cn(Pe){return{token:De(ve),error:Pe}}class Dr{constructor($e,Le){this.app=$e,this.platformLoggerProvider=Le}_delete(){const{tokenObservers:$e}=he(this.app);for(const Le of $e)xt(this.app,Le.next);return Promise.resolve()}}const Rn="app-check-internal";(0,ye._registerComponent)(new rt.wA("app-check",Pe=>function(Pe,$e){return new Dr(Pe,$e)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,$e,Le)=>{Pe.getProvider(Rn).initialize()})),(0,ye._registerComponent)(new rt.wA(Rn,Pe=>function(Pe){return{getToken:$e=>ge(Pe,$e),addTokenListener:$e=>function(Pe,$e,Le,_t){const{app:At}=Pe,on=he(At),Pn={next:Le,error:_t,type:$e},Tn=Object.assign(Object.assign({},on),{tokenObservers:[...on.tokenObservers,Pn]});if(!Tn.tokenRefresher){const vn=function(Pe){const{app:$e}=Pe;return new an((0,Qe.Z)(function*(){let _t;if(_t=he($e).token?yield ge(Pe,!0):yield ge(Pe),_t.error)throw _t.error}),()=>!0,()=>{const Le=he($e);if(Le.token){let _t=Le.token.issuedAtTimeMillis+.5*(Le.token.expireTimeMillis-Le.token.issuedAtTimeMillis)+3e5;return _t=Math.min(_t,Le.token.expireTimeMillis-3e5),Math.max(0,_t-Date.now())}return 0},3e4,96e4)}(Pe);Tn.tokenRefresher=vn}if(!Tn.tokenRefresher.isRunning()&&on.isTokenAutoRefreshEnabled&&Tn.tokenRefresher.start(),on.token&&Zn(on.token)){const vn=on.token;Promise.resolve().then(()=>Le({token:vn.token})).catch(()=>{})}else null==on.token&&on.cachedTokenPromise.then(vn=>{vn&&Zn(vn)&&Le({token:vn.token})}).catch(()=>{});ke(At,Tn)}(Pe,"INTERNAL",$e),removeTokenListener:$e=>xt(Pe.app,$e)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ye.registerVersion)("@firebase/app-check","0.4.2");class wr{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},8006:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{zQ:()=>Kn,rT:()=>Ze,f7:()=>It,L6:()=>he,_Q:()=>ke,lh:()=>Ye,Qv:()=>He,nw:()=>gn});var _=Z(3018),c=Z(9765),X=Z(5917),se=Z(7574),Te=Z(4402),me=Z(6682),Ue=Z(7771),Ie=Z(5319),ue=Z(309),ne=Z(7971),W=Z(8858);class pe extends c.xQ{constructor($t=Number.POSITIVE_INFINITY,Rt=Number.POSITIVE_INFINITY,Wt){super(),this.scheduler=Wt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=$t<1?1:$t,this._windowTime=Rt<1?1:Rt,Rt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow($t){if(!this.isStopped){const Rt=this._events;Rt.push($t),Rt.length>this._bufferSize&&Rt.shift()}super.next($t)}nextTimeWindow($t){this.isStopped||(this._events.push(new de(this._getNow(),$t)),this._trimBufferThenGetEvents()),super.next($t)}_subscribe($t){const Rt=this._infiniteTimeWindow,Wt=Rt?this._events:this._trimBufferThenGetEvents(),fn=this.scheduler,Vt=Wt.length;let pt;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?pt=Ie.w.EMPTY:(this.observers.push($t),pt=new W.W(this,$t)),fn&&$t.add($t=new ue.ht($t,fn)),Rt)for(let bt=0;bt<Vt&&!$t.closed;bt++)$t.next(Wt[bt]);else for(let bt=0;bt<Vt&&!$t.closed;bt++)$t.next(Wt[bt].value);return this.hasError?$t.error(this.thrownError):this.isStopped&&$t.complete(),pt}_getNow(){return(this.scheduler||Ue.c).now()}_trimBufferThenGetEvents(){const $t=this._getNow(),Rt=this._bufferSize,Wt=this._windowTime,fn=this._events,Vt=fn.length;let pt=0;for(;pt<Vt&&!($t-fn[pt].time<Wt);)pt++;return Vt>Rt&&(pt=Math.max(pt,Vt-Rt)),pt>0&&fn.splice(0,pt),fn}}class de{constructor($t,Rt){this.time=$t,this.value=Rt}}function Ae(zt,$t,Rt){let Wt;return Wt=zt&&"object"==typeof zt?zt:{bufferSize:zt,windowTime:$t,refCount:!1,scheduler:Rt},fn=>fn.lift(function({bufferSize:zt=Number.POSITIVE_INFINITY,windowTime:$t=Number.POSITIVE_INFINITY,refCount:Rt,scheduler:Wt}){let fn,pt,Vt=0,bt=!1,En=!1;return function(Nn){let Un;Vt++,!fn||bt?(bt=!1,fn=new pe(zt,$t,Wt),Un=fn.subscribe(this),pt=Nn.subscribe({next(Gn){fn.next(Gn)},error(Gn){bt=!0,fn.error(Gn)},complete(){En=!0,pt=void 0,fn.complete()}}),En&&(pt=void 0)):Un=fn.subscribe(this),this.add(()=>{Vt--,Un.unsubscribe(),Un=void 0,pt&&!En&&Rt&&0===Vt&&(pt.unsubscribe(),pt=void 0,fn=void 0)})}}(Wt))}var Be=Z(3190);function be(zt,$t){return $t?(0,Be.w)(()=>zt,$t):(0,Be.w)(()=>zt)}var ae=Z(8002),Me=Z(8049),Ve=Z(3101),Qe=Z(5435),ye=Z(6643),rt=Z(8939),qt=Z(8583),Gt=Z(2965);Z(7841);const He=new _.OlP("angularfire2.auth.use-emulator"),he=new _.OlP("angularfire2.auth.settings"),ke=new _.OlP("angularfire2.auth.tenant-id"),Ze=new _.OlP("angularfire2.auth.langugage-code"),Ye=new _.OlP("angularfire2.auth.use-device-language"),It=new _.OlP("angularfire.auth.persistence"),gn=(zt,$t,Rt,Wt,fn,Vt,pt,bt)=>(0,rt.cc)(`${zt.name}.auth`,"AngularFireAuth",zt.name,()=>{const En=$t.runOutsideAngular(()=>zt.auth());if(Rt&&En.useEmulator(...Rt),Wt&&(En.tenantId=Wt),En.languageCode=fn,Vt&&En.useDeviceLanguage(),pt)for(const[Yn,Nn]of Object.entries(pt))En.settings[Yn]=Nn;return bt&&En.setPersistence(bt),En},[Rt,Wt,fn,Vt,pt,bt]);let Kn=(()=>{class zt{constructor(Rt,Wt,fn,Vt,pt,bt,En,Yn,Nn,Un,Gn,Fn){const fr=new c.xQ,kt=(0,X.of)(void 0).pipe((0,ue.QV)(pt.outsideAngular),(0,Be.w)(()=>Vt.runOutsideAngular(()=>Promise.resolve().then(Z.bind(Z,4671)))),(0,ae.U)(()=>(0,rt.on)(Rt,Vt,Wt)),(0,ae.U)(Qt=>gn(Qt,Vt,bt,Yn,Nn,Un,En,Gn)),Ae({bufferSize:1,refCount:!1}));if((0,qt.PM)(fn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{kt.pipe((0,Me.P)()).subscribe();const jn=kt.pipe((0,Be.w)(mn=>mn.getRedirectResult().then(Ft=>Ft,()=>null)),ye.iC,Ae({bufferSize:1,refCount:!1})),cn=kt.pipe((0,Be.w)(mn=>new se.y(Ft=>({unsubscribe:Vt.runOutsideAngular(()=>mn.onAuthStateChanged(st=>Ft.next(st),st=>Ft.error(st),()=>Ft.complete()))})))),Sn=kt.pipe((0,Be.w)(mn=>new se.y(Ft=>({unsubscribe:Vt.runOutsideAngular(()=>mn.onIdTokenChanged(st=>Ft.next(st),st=>Ft.error(st),()=>Ft.complete()))}))));this.authState=jn.pipe(be(cn),(0,Ve.R)(pt.outsideAngular),(0,ue.QV)(pt.insideAngular)),this.user=jn.pipe(be(Sn),(0,Ve.R)(pt.outsideAngular),(0,ue.QV)(pt.insideAngular)),this.idToken=this.user.pipe((0,Be.w)(mn=>mn?(0,Te.D)(mn.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,Be.w)(mn=>mn?(0,Te.D)(mn.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,me.T)(jn,fr,this.authState.pipe((0,Qe.h)(mn=>!mn))).pipe((0,ae.U)(mn=>(null==mn?void 0:mn.user)?mn:null),(0,Ve.R)(pt.outsideAngular),(0,ue.QV)(pt.insideAngular))}return(0,rt.pX)(this,kt,Vt,{spy:{apply:(Qt,jn,cn)=>{(Qt.startsWith("signIn")||Qt.startsWith("createUser"))&&cn.then(Sn=>fr.next(Sn))}}})}}return zt.\u0275fac=function(Rt){return new(Rt||zt)(_.LFG(rt.Dh),_.LFG(rt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ye.HU),_.LFG(He,8),_.LFG(he,8),_.LFG(ke,8),_.LFG(Ze,8),_.LFG(Ye,8),_.LFG(It,8),_.LFG(Gt.nm,8))},zt.\u0275prov=_.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"any"}),zt})()},166:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{ST:()=>Ny,yb:()=>mv});var _=Z(3018),c=Z(3637),X=Z(7574),se=Z(4402),Te=Z(5917),me=Z(6643),Ue=Z(7393);function Ie(){return s=>s.lift(new ue)}class ue{call(e,i){return i.subscribe(new ne(e))}}class ne extends Ue.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let i;this.hasPrev?i=[this.prev,e]:this.hasPrev=!0,this.prev=e,i&&this.destination.next(i)}}class pe{constructor(e,i){this.compare=e,this.keySelector=i}call(e,i){return i.subscribe(new de(e,this.compare,this.keySelector))}}class de extends Ue.L{constructor(e,i,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(e,i){return e===i}_next(e){let i;try{const{keySelector:d}=this;i=d?d(e):e}catch(d){return this.destination.error(d)}let a=!1;if(this.hasKey)try{const{compare:d}=this;a=d(this.key,i)}catch(d){return this.destination.error(d)}else this.hasKey=!0;a||(this.key=i,this.destination.next(e))}}var he,Ae=Z(9761),Je=Z(8002),Be=Z(2145),be=Z(5435),ae=Z(8939),Me=Z(8583),Qe=(Z(4671),Z(4486)),ye=Z(8239),rt=Z(5452),qt=Z(6034),Gt=Z(5601),qe=Z(3854),je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},He={},ke=ke||{},Ze=je||self;function Ye(){}function It(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function gn(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var an="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function $t(s,e,i){return s.call.apply(s.bind,arguments)}function Rt(s,e,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,a),s.apply(e,d)}}return function(){return s.apply(e,arguments)}}function Wt(s,e,i){return(Wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$t:Rt).apply(null,arguments)}function fn(s,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Vt(s,e){function i(){}i.prototype=e.prototype,s.Z=e.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,d,g){for(var E=Array(arguments.length-2),P=2;P<arguments.length;P++)E[P-2]=arguments[P];return e.prototype[d].apply(a,E)}}function pt(){this.s=this.s,this.o=this.o}var En={};pt.prototype.s=!1,pt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,an)&&s[an]||(s[an]=++zt)}(this);delete En[s]}},pt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===e)return i;return-1},Nn=Array.prototype.forEach?function(s,e,i){Array.prototype.forEach.call(s,e,i)}:function(s,e,i){const a=s.length,d="string"==typeof s?s.split(""):s;for(let g=0;g<a;g++)g in d&&e.call(i,d[g],g,s)};function Gn(s){return Array.prototype.concat.apply([],arguments)}function Fn(s){const e=s.length;if(0<e){const i=Array(e);for(let a=0;a<e;a++)i[a]=s[a];return i}return[]}function fr(s){return/^[\s\xa0]*$/.test(s)}var cn,kt=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Qt(s,e){return-1!=s.indexOf(e)}function jn(s,e){return s<e?-1:s>e?1:0}e:{var Sn=Ze.navigator;if(Sn){var mn=Sn.userAgent;if(mn){cn=mn;break e}}cn=""}function Ft(s,e,i){for(const a in s)e.call(i,s[a],a,s)}function st(s){const e={};for(const i in s)e[i]=s[i];return e}var pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nr(s,e){let i,a;for(let d=1;d<arguments.length;d++){for(i in a=arguments[d],a)s[i]=a[i];for(let g=0;g<pn.length;g++)i=pn[g],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function zn(s){return zn[" "](s),s}zn[" "]=Ye;var zr,s,jt=Qt(cn,"Opera"),Ut=Qt(cn,"Trident")||Qt(cn,"MSIE"),lr=Qt(cn,"Edge"),ci=lr||Ut,li=Qt(cn,"Gecko")&&!(Qt(cn.toLowerCase(),"webkit")&&!Qt(cn,"Edge"))&&!(Qt(cn,"Trident")||Qt(cn,"MSIE"))&&!Qt(cn,"Edge"),Qn=Qt(cn.toLowerCase(),"webkit")&&!Qt(cn,"Edge");function Jt(){var s=Ze.document;return s?s.documentMode:void 0}e:{var ve="",De=(s=cn,li?/rv:([^\);]+)(\)|;)/.exec(s):lr?/Edge\/([\d\.]+)/.exec(s):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Qn?/WebKit\/(\S+)/.exec(s):jt?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(De&&(ve=De?De[1]:""),Ut){var ge=Jt();if(null!=ge&&ge>parseFloat(ve)){zr=String(ge);break e}}zr=ve}var ot={};function Ge(){return e=ot,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=kt(String(zr)).split("."),i=kt("9").split("."),a=Math.max(e.length,i.length);for(let E=0;0==s&&E<a;E++){var d=e[E]||"",g=i[E]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==d[0].length&&0==g[0].length)break;s=jn(0==d[1].length?0:parseInt(d[1],10),0==g[1].length?0:parseInt(g[1],10))||jn(0==d[2].length,0==g[2].length)||jn(d[2],g[2]),d=d[3],g=g[3]}while(0==s)}return 0<=s}();var e}var Bn=Ze.document&&Ut&&(Jt()||parseInt(zr,10))||void 0,Zn=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ze.addEventListener("test",Ye,e),Ze.removeEventListener("test",Ye,e)}catch(i){}return s}();function Cn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function Dr(s,e){if(Cn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(li){e:{try{zn(e.nodeName);var d=!0;break e}catch(g){}d=!1}d||(e=null)}}else"mouseover"==i?e=s.fromElement:"mouseout"==i&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:nn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Dr.Z.h.call(this)}}Cn.prototype.h=function(){this.defaultPrevented=!0},Vt(Dr,Cn);var nn={2:"touch",3:"pen",4:"mouse"};Dr.prototype.h=function(){Dr.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var xn="closure_listenable_"+(1e6*Math.random()|0),Or=0;function ns(s,e,i,a,d){this.listener=s,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=d,this.key=++Or,this.ca=this.fa=!1}function ln(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Wi(s){this.src=s,this.g={},this.h=0}function Si(s,e){var i=e.type;if(i in s.g){var g,a=s.g[i],d=Yn(a,e);(g=0<=d)&&Array.prototype.splice.call(a,d,1),g&&(ln(e),0==s.g[i].length&&(delete s.g[i],s.h--))}}function di(s,e,i,a){for(var d=0;d<s.length;++d){var g=s[d];if(!g.ca&&g.listener==e&&g.capture==!!i&&g.ia==a)return d}return-1}Wi.prototype.add=function(s,e,i,a,d){var g=s.toString();(s=this.g[g])||(s=this.g[g]=[],this.h++);var E=di(s,e,a,d);return-1<E?(e=s[E],i||(e.fa=!1)):((e=new ns(e,this.src,g,!!a,d)).fa=i,s.push(e)),e};var xi="closure_lm_"+(1e6*Math.random()|0),ni={};function mr(s,e,i,a,d){if(a&&a.once)return _n(s,e,i,a,d);if(Array.isArray(e)){for(var g=0;g<e.length;g++)mr(s,e[g],i,a,d);return null}return i=Et(i),s&&s[xn]?s.N(e,i,gn(a)?!!a.capture:!!a,d):pr(s,e,i,!1,a,d)}function pr(s,e,i,a,d,g){if(!e)throw Error("Invalid event type");var E=gn(d)?!!d.capture:!!d,P=Bi(s);if(P||(s[xi]=P=new Wi(s)),(i=P.add(e,i,a,E,g)).proxy)return i;if(a=function(){var e=Nr;return function s(i){return e.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)Zn||(d=E),void 0===d&&(d=!1),s.addEventListener(e.toString(),a,d);else if(s.attachEvent)s.attachEvent(xr(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function _n(s,e,i,a,d){if(Array.isArray(e)){for(var g=0;g<e.length;g++)_n(s,e[g],i,a,d);return null}return i=Et(i),s&&s[xn]?s.O(e,i,gn(a)?!!a.capture:!!a,d):pr(s,e,i,!0,a,d)}function Mn(s,e,i,a,d){if(Array.isArray(e))for(var g=0;g<e.length;g++)Mn(s,e[g],i,a,d);else a=gn(a)?!!a.capture:!!a,i=Et(i),s&&s[xn]?(s=s.i,(e=String(e).toString())in s.g&&-1<(i=di(g=s.g[e],i,a,d))&&(ln(g[i]),Array.prototype.splice.call(g,i,1),0==g.length&&(delete s.g[e],s.h--))):s&&(s=Bi(s))&&(e=s.g[e.toString()],s=-1,e&&(s=di(e,i,a,d)),(i=-1<s?e[s]:null)&&vi(i))}function vi(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[xn])Si(e.i,s);else{var i=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(i,a,s.capture):e.detachEvent?e.detachEvent(xr(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Bi(e))?(Si(i,s),0==i.h&&(i.src=null,e[xi]=null)):ln(s)}}}function xr(s){return s in ni?ni[s]:ni[s]="on"+s}function Nr(s,e){if(s.ca)s=!0;else{e=new Dr(e,this);var i=s.listener,a=s.ia||s.src;s.fa&&vi(s),s=i.call(a,e)}return s}function Bi(s){return(s=s[xi])instanceof Wi?s:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(s){return"function"==typeof s?s:(s[Rn]||(s[Rn]=function(e){return s.handleEvent(e)}),s[Rn])}function Bt(){pt.call(this),this.i=new Wi(this),this.P=this,this.I=null}function dn(s,e){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new Cn(e,s);else if(e instanceof Cn)e.target=e.target||s;else{var d=e;nr(e=new Cn(a,s),d)}if(d=!0,i)for(var g=i.length-1;0<=g;g--){var E=e.g=i[g];d=wr(E,a,!0,e)&&d}if(d=wr(E=e.g=s,a,!0,e)&&d,d=wr(E,a,!1,e)&&d,i)for(g=0;g<i.length;g++)d=wr(E=e.g=i[g],a,!1,e)&&d}function wr(s,e,i,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,g=0;g<e.length;++g){var E=e[g];if(E&&!E.ca&&E.capture==i){var P=E.listener,q=E.ia||E.src;E.fa&&Si(s.i,E),d=!1!==P.call(q,a)&&d}}return d&&!a.defaultPrevented}Vt(Bt,pt),Bt.prototype[xn]=!0,Bt.prototype.removeEventListener=function(s,e,i,a){Mn(this,s,e,i,a)},Bt.prototype.M=function(){if(Bt.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var i=s.g[e],a=0;a<i.length;a++)ln(i[a]);delete s.g[e],s.h--}}this.I=null},Bt.prototype.N=function(s,e,i,a){return this.i.add(String(s),e,!1,i,a)},Bt.prototype.O=function(s,e,i,a){return this.i.add(String(s),e,!0,i,a)};var ri=Ze.JSON.stringify;function ur(){var s=hi;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var is,Jn=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Cr,s=>s.reset());class Cr{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function rs(s){Ze.setTimeout(()=>{throw s},0)}function mt(s,e){is||function(){var s=Ze.Promise.resolve(void 0);is=function(){s.then(Pr)}}(),or||(is(),or=!0),hi.add(s,e)}var or=!1,hi=new class{constructor(){this.h=this.g=null}add(e,i){const a=Jn.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a}};function Pr(){for(var s;s=ur();){try{s.h.call(s.g)}catch(i){rs(i)}var e=Jn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}or=!1}function wi(s,e){Bt.call(this),this.h=s||1,this.g=e||Ze,this.j=Wt(this.kb,this),this.l=Date.now()}function Wr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function yr(s,e,i){if("function"==typeof s)i&&(s=Wt(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Wt(s.handleEvent,s)}return 2147483647<Number(e)?-1:Ze.setTimeout(s,e||0)}function Pe(s){s.g=yr(()=>{s.g=null,s.i&&(s.i=!1,Pe(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Vt(wi,Bt),(he=wi.prototype).da=!1,he.S=null,he.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(Wr(this),this.start()))}},he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.M=function(){wi.Z.M.call(this),Wr(this),delete this.g};class $e extends pt{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}M(){super.M(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(s){pt.call(this),this.h=s,this.g={}}Vt(Le,pt);var _t=[];function At(s,e,i,a){Array.isArray(i)||(i&&(_t[0]=i.toString()),i=_t);for(var d=0;d<i.length;d++){var g=mr(e,i[d],a||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function on(s){Ft(s.g,function(e,i){this.g.hasOwnProperty(i)&&vi(e)},s),s.g={}}function Pn(){this.g=!0}function kr(s,e,i,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var d=a[1];if(Array.isArray(d)&&!(1>d.length)){var g=d[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var E=1;E<d.length;E++)d[E]=""}}}return ri(i)}catch(P){return e}}(s,i)+(a?" "+a:"")})}Le.prototype.M=function(){Le.Z.M.call(this),on(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pn.prototype.Aa=function(){this.g=!1},Pn.prototype.info=function(){};var ii={},ji=null;function Ur(){return ji=ji||new Bt}function Ir(s){Cn.call(this,ii.Ma,s)}function Ki(s){const e=Ur();dn(e,new Ir(e,s))}function Ws(s,e){Cn.call(this,ii.STAT_EVENT,s),this.stat=e}function gr(s){const e=Ur();dn(e,new Ws(e,s))}function Mi(s,e){Cn.call(this,ii.Na,s),this.size=e}function ss(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ze.setTimeout(function(){s()},e)}ii.Ma="serverreachability",Vt(Ir,Cn),ii.STAT_EVENT="statevent",Vt(Ws,Cn),ii.Na="timingevent",Vt(Mi,Cn);var Ls={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function os(){}function Ks(){}os.prototype.h=null;var _s,Ys={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bi(){Cn.call(this,"d")}function Io(){Cn.call(this,"c")}function Ei(){}function Zi(s,e,i,a){this.l=s,this.j=e,this.m=i,this.X=a||1,this.V=new Le(this),this.P=Vs,this.W=new wi(s=ci?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}Vt(bi,Cn),Vt(Io,Cn),Vt(Ei,os),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},_s=new Ei;var Vs=45e3,Yi={},vs={};function Qs(s,e,i){s.K=1,s.v=T(J(e)),s.s=i,s.U=!0,as(s,null)}function as(s,e){s.F=Date.now(),fi(s),s.A=J(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),rn(i.h,"t",a),s.C=0,i=s.l.H,s.h=new Hi,s.g=$(s.l,i?e:null,!s.s),0<s.O&&(s.L=new $e(Wt(s.Ia,s,s.g),s.O)),At(s.V,s.g,"readystatechange",s.gb),e=s.H?st(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),Ki(1),function(s,e,i,a,d,g){s.info(function(){if(s.g)if(g)for(var E="",P=g.split("&"),q=0;q<P.length;q++){var re=P[q].split("=");if(1<re.length){var fe=re[0];re=re[1];var Re=fe.split("_");E=2<=Re.length&&"type"==Re[1]?E+(fe+"=")+re+"&":E+(fe+"=redacted&")}}else E=null;else E=g;return"XMLHTTP REQ ("+a+") [attempt "+d+"]: "+e+"\n"+i+"\n"+E})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Lo(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function qr(s,e,i){let d,a=!0;for(;!s.I&&s.C<i.length;){if(d=Yr(s,i),d==vs){4==e&&(s.o=4,gr(14),a=!1),kr(s.j,s.m,null,"[Incomplete Response]");break}if(d==Yi){s.o=4,gr(15),kr(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}kr(s.j,s.m,d,null),us(s,d)}Lo(s)&&d!=vs&&d!=Yi&&(s.h.g="",s.C=0),4!=e||0!=i.length||s.h.h||(s.o=1,gr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),da(e),e.L=!0,gr(11))):(kr(s.j,s.m,i,"[Invalid Chunked Response]"),Jr(s),Oi(s))}function Yr(s,e){var i=s.C,a=e.indexOf("\n",i);return-1==a?vs:(i=Number(e.substring(i,a)),isNaN(i)?Yi:(a+=1)+i>e.length?vs:(e=e.substr(a,i),s.C=a+i,e))}function fi(s){s.Y=Date.now()+s.P,Qi(s,s.P)}function Qi(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=ss(Wt(s.eb,s),e)}function Qr(s){s.B&&(Ze.clearTimeout(s.B),s.B=null)}function Oi(s){0==s.l.G||s.I||jo(s.l,s)}function Jr(s){Qr(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Wr(s.W),on(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function us(s,e){try{var i=s.l;if(0!=i.G&&(i.g==s||dt(i.i,s)))if(i.I=s.N,!s.J&&dt(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(re){a=null}if(Array.isArray(a)&&3==a.length){var d=a;if(0==d[0])e:if(i.u)i.ta=d[1],0<i.ta-i.U&&37500>d[2]&&i.N&&0==i.A&&!i.v&&(i.v=ss(Wt(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Zs(i),Ne(i)}ei(i),gr(18)}if(1>=Bo(i.i)&&i.ka){try{i.ka()}catch(re){}i.ka=void 0}}else _r(i,11)}else if((s.J||i.g==s)&&Zs(i),!fr(e))for(d=i.Ca.g.parse(e),e=0;e<d.length;e++){let re=d[e];if(i.U=re[0],re=re[1],2==i.G)if("c"==re[0]){i.J=re[1],i.la=re[2];const fe=re[3];null!=fe&&(i.ma=fe,i.h.info("VER="+i.ma));const Re=re[4];null!=Re&&(i.za=Re,i.h.info("SVER="+i.za));const it=re[5];null!=it&&"number"==typeof it&&0<it&&(i.K=a=1.5*it,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const ft=s.g;if(ft){const Ot=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ot){var g=a.i;!g.g&&(Qt(Ot,"spdy")||Qt(Ot,"quic")||Qt(Ot,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(Wn(g,g.h),g.h=null))}if(a.D){const yn=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(a.sa=yn,M(a.F,a.D,yn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var E=s;if((a=i).oa=S(a,a.H?a.la:null,a.W),E.J){Do(a.i,E);var P=E,q=a.K;q&&P.setTimeout(q),P.B&&(Qr(P),fi(P)),a.g=E}else mo(a);0<i.l.length&&Xn(i)}else"stop"!=re[0]&&"close"!=re[0]||_r(i,7);else 3==i.G&&("stop"==re[0]||"close"==re[0]?"stop"==re[0]?_r(i,7):oe(i):"noop"!=re[0]&&i.j&&i.j.wa(re),i.A=0)}Ki(4)}catch(re){}}function cs(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(It(s)||"string"==typeof s)Nn(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(It(s)||"string"==typeof s){i=[];for(var a=s.length,d=0;d<a;d++)i.push(d)}else for(d in i=[],a=0,s)i[a++]=d;d=(a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(It(s)){for(var e=[],i=s.length,a=0;a<i;a++)e.push(s[a]);return e}for(a in e=[],i=0,s)e[i++]=s[a];return e}(s)).length;for(var g=0;g<d;g++)e.call(void 0,a[g],i&&i[g],s)}}function ls(s,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof ls)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function Fr(s){if(s.i!=s.g.length){for(var e=0,i=0;e<s.g.length;){var a=s.g[e];Ri(s.h,a)&&(s.g[i++]=a),e++}s.g.length=i}if(s.i!=s.g.length){var d={};for(i=e=0;e<s.g.length;)Ri(d,a=s.g[e])||(s.g[i++]=a,d[a]=1),e++;s.g.length=i}}function Ri(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(he=Zi.prototype).setTimeout=function(s){this.P=s},he.gb=function(s){s=s.target;const e=this.L;e&&3==hs(s)?e.l():this.Ia(s)},he.Ia=function(s){try{if(s==this.g)e:{const fe=hs(this.g);var e=this.g.Da();const Re=this.g.ba();if(!(3>fe)&&(3!=fe||ci||this.g&&(this.h.h||this.g.ga()||go(this.g)))){this.I||4!=fe||7==e||Ki(8==e||0>=Re?3:2),Qr(this);var i=this.g.ba();this.N=i;t:if(Lo(this)){var a=go(this.g);s="";var d=a.length,g=4==hs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Jr(this),Oi(this);var E="";break t}this.h.i=new Ze.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:g&&e==d-1});a.splice(0,d),this.h.g+=s,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==i,function(s,e,i,a,d,g,E){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+d+"]: "+e+"\n"+i+"\n"+g+" "+E})}(this.j,this.u,this.A,this.m,this.X,fe,i),this.i){if(this.$&&!this.J){t:{if(this.g){var P,q=this.g;if((P=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(P)){var re=P;break t}}re=null}if(!(i=re)){this.i=!1,this.o=3,gr(12),Jr(this),Oi(this);break e}kr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,us(this,i)}this.U?(qr(this,fe,E),ci&&this.i&&3==fe&&(At(this.V,this.W,"tick",this.fb),this.W.start())):(kr(this.j,this.m,E,null),us(this,E)),4==fe&&Jr(this),this.i&&!this.I&&(4==fe?jo(this.l,this):(this.i=!1,fi(this)))}else 400==i&&0<E.indexOf("Unknown SID")?(this.o=3,gr(12)):(this.o=0,gr(13)),Jr(this),Oi(this)}}}catch(fe){}},he.fb=function(){if(this.g){var s=hs(this.g),e=this.g.ga();this.C<e.length&&(Qr(this),qr(this,s,e),this.i&&4!=s&&fi(this))}},he.cancel=function(){this.I=!0,Jr(this)},he.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ki(3),gr(17)),Jr(this),this.o=2,Oi(this)):Qi(this,this.Y-s)},(he=ls.prototype).R=function(){Fr(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},he.T=function(){return Fr(this),this.g.concat()},he.get=function(s,e){return Ri(this.h,s)?this.h[s]:e},he.set=function(s,e){Ri(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},he.forEach=function(s,e){for(var i=this.T(),a=0;a<i.length;a++){var d=i[a],g=this.get(d);s.call(e,g,d,this)}};var F=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function L(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof L){this.g=void 0!==e?e:s.g,we(this,s.j),this.s=s.s,ze(this,s.i),ht(this,s.m),this.l=s.l,e=s.h;var i=new Ji;i.i=e.i,e.g&&(i.g=new ls(e.g),i.h=e.h),N(this,i),this.o=s.o}else s&&(i=String(s).match(F))?(this.g=!!e,we(this,i[1]||"",!0),this.s=wt(i[2]||""),ze(this,i[3]||"",!0),ht(this,i[4]),this.l=wt(i[5]||"",!0),N(this,i[6]||"",!0),this.o=wt(i[7]||"")):(this.g=!!e,this.h=new Ji(null,this.g))}function J(s){return new L(s)}function we(s,e,i){s.j=i?wt(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function ze(s,e,i){s.i=i?wt(e,!0):e}function ht(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function N(s,e,i){e instanceof Ji?(s.h=e,function(s,e){e&&!s.j&&(jr(s),s.i=null,s.g.forEach(function(i,a){var d=a.toLowerCase();a!=d&&(Js(this,a),rn(this,d,i))},s)),s.j=e}(s.h,s.g)):(i||(e=Zt(e,pi)),s.h=new Ji(e,s.g))}function M(s,e,i){s.h.set(e,i)}function T(s){return M(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function wt(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Zt(s,e,i){return"string"==typeof s?(s=encodeURI(s).replace(e,cr),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function cr(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}L.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Zt(e,Br,!0),":");var i=this.i;return(i||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Zt(e,Br,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Zt(i,"/"==i.charAt(0)?dr:Mr,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Zt(i,Pi)),s.join("")};var Br=/[#\/\?@]/g,Mr=/[#\?:]/g,dr=/[#\?]/g,pi=/[#\?@]/g,Pi=/#/g;function Ji(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function jr(s){s.g||(s.g=new ls,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),d=null;if(0<=a){var g=s[i].substring(0,a);d=s[i].substring(a+1)}else g=s[i];e(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(s.i,function(e,i){s.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Js(s,e){jr(s),e=To(s,e),Ri(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,Ri((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&Fr(s)))}function Vo(s,e){return jr(s),e=To(s,e),Ri(s.g.h,e)}function rn(s,e,i){Js(s,e),0<i.length&&(s.i=null,s.g.set(To(s,e),Fn(i)),s.h+=i.length)}function To(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function co(s){this.l=s||Sa,s=Ze.PerformanceNavigationTiming?0<(s=Ze.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ze.g&&Ze.g.Ea&&Ze.g.Ea()&&Ze.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=Ji.prototype).add=function(s,e){jr(this),this.i=null,s=To(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(e),this.h+=1,this},he.forEach=function(s,e){jr(this),this.g.forEach(function(i,a){Nn(i,function(d){s.call(e,d,a,this)},this)},this)},he.T=function(){jr(this);for(var s=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var d=s[a],g=0;g<d.length;g++)i.push(e[a]);return i},he.R=function(s){jr(this);var e=[];if("string"==typeof s)Vo(this,s)&&(e=Gn(e,this.g.get(To(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)e=Gn(e,s[i])}return e},he.set=function(s,e){return jr(this),this.i=null,Vo(this,s=To(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},he.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],d=encodeURIComponent(String(a));a=this.R(a);for(var g=0;g<a.length;g++){var E=d;""!==a[g]&&(E+="="+encodeURIComponent(String(a[g]))),s.push(E)}}return this.i=s.join("&")};var Sa=10;function lo(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Bo(s){return s.h?1:s.g?s.g.size:0}function dt(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Wn(s,e){s.g?s.g.add(e):s.h=e}function Do(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Lr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const i of s.g.values())e=e.concat(i.D);return e}return Fn(s.i)}function Xs(){}function Ao(){this.g=new Xs}function ds(s,e,i){const a=i||"";try{cs(s,function(d,g){let E=d;gn(d)&&(E=ri(d)),e.push(a+g+"="+encodeURIComponent(E))})}catch(d){throw e.push(a+"type="+encodeURIComponent("_badmap")),d}}function Us(s,e,i,a,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(a)}catch(g){}}function eo(s){this.l=s.$b||null,this.j=s.ib||!1}function Bs(s,e){Bt.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=to,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}co.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Xs.prototype.stringify=function(s){return Ze.JSON.stringify(s,void 0)},Xs.prototype.parse=function(s){return Ze.JSON.parse(s,void 0)},Vt(eo,os),eo.prototype.g=function(){return new Bs(this.l,this.j)},eo.prototype.i=function(s){return function(){return s}}({}),Vt(Bs,Bt);var to=0;function ki(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Xr(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Gr(s)}function Gr(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(he=Bs.prototype).open=function(s,e){if(this.readyState!=to)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Gr(this)},he.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Ze).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=to},he.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ze.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ki(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},he.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Xr(this):Gr(this),3==this.readyState&&ki(this)}},he.Ua=function(s){this.g&&(this.response=this.responseText=s,Xr(this))},he.Ta=function(s){this.g&&(this.response=s,Xr(this))},he.ha=function(){this.g&&Xr(this)},he.setRequestHeader=function(s,e){this.v.append(s,e)},he.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var i=e.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=e.next();return s.join("\r\n")},Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Jo=Ze.JSON.parse;function ar(s){Bt.call(this),this.headers=new ls,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fi,this.K=this.L=!1}Vt(ar,Bt);var Fi="",ho=/^https?$/i,fo=["POST","PUT"];function ca(s){return"content-type"==s.toLowerCase()}function po(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,So(s),no(s)}function So(s){s.D||(s.D=!0,dn(s,"complete"),dn(s,"error"))}function xo(s){if(s.h&&void 0!==ke&&(!s.C[1]||4!=hs(s)||2!=s.ba()))if(s.v&&4==hs(s))yr(s.Fa,0,s);else if(dn(s,"readystatechange"),4==hs(s)){s.h=!1;try{const P=s.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var a;if(a=0===P){var d=String(s.H).match(F)[1]||null;if(!d&&Ze.self&&Ze.self.location){var g=Ze.self.location.protocol;d=g.substr(0,g.length-1)}a=!ho.test(d?d.toLowerCase():"")}i=a}if(i)dn(s,"complete"),dn(s,"success");else{s.m=6;try{var E=2<hs(s)?s.g.statusText:""}catch(q){E=""}s.j=E+" ["+s.ba()+"]",So(s)}}finally{no(s)}}}function no(s,e){if(s.g){la(s);const i=s.g,a=s.C[0]?Ye:null;s.g=null,s.C=null,e||dn(s,"ready");try{i.onreadystatechange=a}catch(d){}}}function la(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ze.clearTimeout(s.A),s.A=null)}function hs(s){return s.g?s.g.readyState:0}function go(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Fi:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function K(s,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let e="";return Ft(s,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):M(s,e,i))}function b(s,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||e}function H(s){this.za=0,this.l=[],this.h=new Pn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=b("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=b("baseRetryDelayMs",5e3,s),this.$a=b("retryDelaySeedMs",1e4,s),this.Ya=b("forwardChannelMaxRetries",2,s),this.ra=b("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new co(s&&s.concurrentRequestLimit),this.Ca=new Ao,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function oe(s){if(Dt(s),3==s.G){var e=s.V++,i=J(s.F);M(i,"SID",s.J),M(i,"RID",e),M(i,"TYPE","terminate"),js(s,i),(e=new Zi(s,s.h,e,void 0)).K=2,e.v=T(J(i)),i=!1,Ze.navigator&&Ze.navigator.sendBeacon&&(i=Ze.navigator.sendBeacon(e.v.toString(),"")),!i&&Ze.Image&&((new Image).src=e.v,i=!0),i||(e.g=$(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fi(e)}A(s)}function Ne(s){s.g&&(da(s),s.g.cancel(),s.g=null)}function Dt(s){Ne(s),s.u&&(Ze.clearTimeout(s.u),s.u=null),Zs(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ze.clearTimeout(s.m),s.m=null)}function sn(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&Xn(s)}function Xn(s){lo(s.i)||s.m||(s.m=!0,mt(s.Ha,s),s.C=0)}function bs(s,e){var i;i=e?e.m:s.V++;const a=J(s.F);M(a,"SID",s.J),M(a,"RID",i),M(a,"AID",s.U),js(s,a),s.o&&s.s&&K(a,s.o,s.s),i=new Zi(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),e&&(s.l=e.D.concat(s.l)),e=xs(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Wn(s.i,i),Qs(i,a,e)}function js(s,e){s.j&&cs({},function(i,a){M(e,a,i)})}function xs(s,e,i){i=Math.min(s.l.length,i);var a=s.j?Wt(s.j.Oa,s.j,s):null;e:{var d=s.l;let g=-1;for(;;){const E=["count="+i];-1==g?0<i?(g=d[0].h,E.push("ofs="+g)):g=0:E.push("ofs="+g);let P=!0;for(let q=0;q<i;q++){let re=d[q].h;const fe=d[q].g;if(re-=g,0>re)g=Math.max(0,d[q].h-100),P=!1;else try{ds(fe,E,"req"+re+"_")}catch(Re){a&&a(fe)}}if(P){a=E.join("&");break e}}}return s=s.l.splice(0,i),e.D=s,a}function mo(s){s.g||s.u||(s.Y=1,mt(s.Ga,s),s.A=0)}function ei(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=ss(Wt(s.Ga,s),fs(s,s.A)),s.A++,0))}function da(s){null!=s.B&&(Ze.clearTimeout(s.B),s.B=null)}function yo(s){s.g=new Zi(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=J(s.oa);M(e,"RID","rpc"),M(e,"SID",s.J),M(e,"CI",s.N?"0":"1"),M(e,"AID",s.U),js(s,e),M(e,"TYPE","xmlhttp"),s.o&&s.s&&K(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=T(J(e)),i.s=null,i.U=!0,as(i,s)}function Zs(s){null!=s.v&&(Ze.clearTimeout(s.v),s.v=null)}function jo(s,e){var i=null;if(s.g==e){Zs(s),da(s),s.g=null;var a=2}else{if(!dt(s.i,e))return;i=e.D,Do(s.i,e),a=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var d=s.C;dn(a=Ur(),new Mi(a,i,e,d)),Xn(s)}else mo(s);else if(3==(d=e.o)||0==d&&0<s.I||!(1==a&&function(s,e){return!(Bo(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=ss(Wt(s.Ha,s,e),fs(s,s.C)),s.C++,0)))}(s,e)||2==a&&ei(s)))switch(i&&0<i.length&&(e=s.i,e.i=e.i.concat(i)),d){case 1:_r(s,5);break;case 4:_r(s,10);break;case 3:_r(s,6);break;default:_r(s,2)}}function fs(s,e){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*e}function _r(s,e){if(s.h.info("Error code "+e),2==e){var i=null;s.j&&(i=null);var a=Wt(s.jb,s);i||(i=new L("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||we(i,"https"),T(i)),function(s,e){const i=new Pn;if(Ze.Image){const a=new Image;a.onload=fn(Us,i,a,"TestLoadImage: loaded",!0,e),a.onerror=fn(Us,i,a,"TestLoadImage: error",!1,e),a.onabort=fn(Us,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=fn(Us,i,a,"TestLoadImage: timeout",!1,e),Ze.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(i.toString(),a)}else gr(2);s.G=0,s.j&&s.j.va(e),A(s),Dt(s)}function A(s){s.G=0,s.I=-1,s.j&&((0!=Lr(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Fn(s.l),s.l.length=0),s.j.ua())}function S(s,e,i){let a=function(s){return s instanceof L?J(s):new L(s,void 0)}(i);if(""!=a.i)e&&ze(a,e+"."+a.i),ht(a,a.m);else{const d=Ze.location;a=function(s,e,i,a){var d=new L(null,void 0);return s&&we(d,s),e&&ze(d,e),i&&ht(d,i),a&&(d.l=a),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,i)}return s.aa&&Ft(s.aa,function(d,g){M(a,g,d)}),i=s.sa,(e=s.D)&&i&&M(a,e,i),M(a,"VER",s.ma),js(s,a),a}function $(s,e,i){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(i&&s.Ba&&!s.qa?new eo({ib:!0}):s.qa)).L=s.H,e}function Ce(){}function ut(){if(Ut&&!(10<=Number(Bn)))throw Error("Environmental error: no available transport.")}function Nt(s,e){Bt.call(this),this.g=new H(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!fr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new si(this)}function hr(s){bi.call(this);var e=s.__sm__;if(e){e:{for(const i in e){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function $i(){Io.call(this),this.status=1}function si(s){this.g=s}(he=ar.prototype).ea=function(s,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_s.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:_s),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(g){return void po(this,g)}s=i||"";const d=new ls(this.headers);a&&cs(a,function(g,E){d.set(E,g)}),a=function(s){e:{var e=ca;const i=s.length,a="string"==typeof s?s.split(""):s;for(let d=0;d<i;d++)if(d in a&&e.call(void 0,a[d],d,s)){e=d;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(d.T()),i=Ze.FormData&&s instanceof Ze.FormData,!(0<=Yn(fo,e))||a||i||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(g,E){this.g.setRequestHeader(E,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{la(this),0<this.B&&((this.K=function(s){return Ut&&Ge()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=yr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){po(this,g)}},he.pa=function(){void 0!==ke&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},he.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,dn(this,"complete"),dn(this,"abort"),no(this))},he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),no(this,!0)),ar.Z.M.call(this)},he.Fa=function(){this.s||(this.F||this.v||this.l?xo(this):this.cb())},he.cb=function(){xo(this)},he.ba=function(){try{return 2<hs(this)?this.g.status:-1}catch(s){return-1}},he.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},he.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Jo(e)}},he.Da=function(){return this.m},he.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=H.prototype).ma=8,he.G=1,he.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},he.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const d=new Zi(this,this.h,s,void 0);let g=this.s;if(this.P&&(g?(g=st(g),nr(g,this.P)):g=this.P),null===this.o&&(d.H=g),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=i;break e}if(4096===e||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=xs(this,d,e),M(i=J(this.F),"RID",s),M(i,"CVER",22),this.D&&M(i,"X-HTTP-Session-Id",this.D),js(this,i),this.o&&g&&K(i,this.o,g),Wn(this.i,d),this.Ra&&M(i,"TYPE","init"),this.ja?(M(i,"$req",e),M(i,"SID","null"),d.$=!0,Qs(d,i,null)):Qs(d,i,e),this.G=2}}else 3==this.G&&(s?bs(this,s):0==this.l.length||lo(this.i)||bs(this))},he.Ga=function(){if(this.u=null,yo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=ss(Wt(this.bb,this),s)}},he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gr(10),Ne(this),yo(this))},he.ab=function(){null!=this.v&&(this.v=null,Ne(this),ei(this),gr(19))},he.jb=function(s){s?(this.h.info("Successfully pinged google.com"),gr(2)):(this.h.info("Failed to ping google.com"),gr(1))},(he=Ce.prototype).xa=function(){},he.wa=function(){},he.va=function(){},he.ua=function(){},he.Oa=function(){},ut.prototype.g=function(s,e){return new Nt(s,e)},Vt(Nt,Bt),Nt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),mt(Wt(s.hb,s,e))),gr(0),s.W=e,s.aa=i||{},s.N=s.X,s.F=S(s,null,s.W),Xn(s)},Nt.prototype.close=function(){oe(this.g)},Nt.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,sn(this.g,e)}else this.v?((e={}).__data__=ri(s),sn(this.g,e)):sn(this.g,s)},Nt.prototype.M=function(){this.g.j=null,delete this.j,oe(this.g),delete this.g,Nt.Z.M.call(this)},Vt(hr,bi),Vt($i,Io),Vt(si,Ce),si.prototype.xa=function(){dn(this.g,"a")},si.prototype.wa=function(s){dn(this.g,new hr(s))},si.prototype.va=function(s){dn(this.g,new $i(s))},si.prototype.ua=function(){dn(this.g,"b")},ut.prototype.createWebChannel=ut.prototype.g,Nt.prototype.send=Nt.prototype.u,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,uo.COMPLETE="complete",Ks.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",Bt.prototype.listen=Bt.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var Hs=He.createWebChannelTransport=function(){return new ut},au=He.getStatEventTarget=function(){return Ur()},Zr=He.ErrorCode=Ls,qa=He.EventType=uo,ha=He.Event=ii,xa=He.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_o=He.FetchXmlHttpFactory=eo,ea=He.WebChannel=Ks,Ma=He.XhrIo=ar;const Du="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let vo="9.1.3";const Ms=new Gt.Yd("@firebase/firestore");function Oa(){return Ms.logLevel}function Tt(s,...e){if(Ms.logLevel<=Gt.in.DEBUG){const i=e.map(Mo);Ms.debug(`Firestore (${vo}): ${s}`,...i)}}function br(s,...e){if(Ms.logLevel<=Gt.in.ERROR){const i=e.map(Mo);Ms.error(`Firestore (${vo}): ${s}`,...i)}}function pa(s,...e){if(Ms.logLevel<=Gt.in.WARN){const i=e.map(Mo);Ms.warn(`Firestore (${vo}): ${s}`,...i)}}function Mo(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Yt(s="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+s;throw br(e),new Error(e)}function wn(s,e){s||Yt()}function St(s,e){return s}const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class D{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class w{constructor(e,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class v{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(oi.UNAUTHENTICATED))}shutdown(){}}class R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var a=this;let d=this.i;const g=re=>this.i!==d?(d=this.i,i(re)):Promise.resolve();let E=new D;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new D,e.enqueueRetryable(()=>g(this.currentUser))};const P=()=>{const re=E;e.enqueueRetryable((0,ye.Z)(function*(){yield re.promise,yield g(a.currentUser)}))},q=re=>{Tt("FirebaseCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(re=>q(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?q(re):(Tt("FirebaseCredentialsProvider","Auth not yet detected"),E.resolve(),E=new D)}},0),P()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Tt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wn("string"==typeof a.accessToken),new w(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new oi(e)}}class Y{constructor(e,i,a){this.h=e,this.l=i,this.m=a,this.type="FirstParty",this.user=oi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ce{constructor(e,i,a){this.h=e,this.l=i,this.m=a}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ee{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function at(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Ee.T=-1;class Ht{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const d=at(40);for(let g=0;g<d.length;++g)a.length<20&&d[g]<i&&(a+=e.charAt(d[g]%e.length))}return a}}function Lt(s,e){return s<e?-1:s>e?1:0}function un(s,e,i){return s.length===e.length&&s.every((a,d)=>i(a,e[d]))}function Ar(s){return s+"\0"}class bn{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new gt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new bn(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new bn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xi(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ci(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Zo(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class $s{constructor(e,i,a){void 0===i?i=0:i>e.length&&Yt(),void 0===a?a=e.length-i:a>e.length-i&&Yt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return 0===$s.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let d=0;d<a;d++){const g=e.get(d),E=i.get(d);if(g<E)return-1;if(g>E)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Vn extends $s{construct(e,i,a){return new Vn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new gt(Xe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(d=>d.length>0))}return new Vn(i)}static emptyPath(){return new Vn([])}}const Au=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Es extends $s{construct(e,i,a){return new Es(e,i,a)}static isValidIdentifier(e){return Au.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Es.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Es(["__name__"])}static fromServerFormat(e){const i=[];let a="",d=0;const g=()=>{if(0===a.length)throw new gt(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let E=!1;for(;d<e.length;){const P=e[d];if("\\"===P){if(d+1===e.length)throw new gt(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const q=e[d+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new gt(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=q,d+=2}else"`"===P?(E=!E,d++):"."!==P||E?(a+=P,d++):(g(),d++)}if(g(),E)throw new gt(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Es(i)}static emptyPath(){return new Es([])}}class Ga{constructor(e){this.fields=e,e.sort(Es.comparator)}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return un(this.fields,e.fields,(i,a)=>i.isEqual(a))}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new qi(i)}static fromUint8Array(e){const i=function(a){let d="";for(let g=0;g<a.length;++g)d+=String.fromCharCode(a[g]);return d}(e);return new qi(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const Ii=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(s){if(wn(!!s),"string"==typeof s){let e=0;const i=Ii.exec(s);if(wn(!!i),i[1]){let d=i[1];d=(d+"000000000").substr(0,9),e=Number(d)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ti(s.seconds),nanos:Ti(s.nanos)}}function Ti(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function za(s){return"string"==typeof s?qi.fromBase64String(s):qi.fromUint8Array(s)}function ul(s){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ac(s){const e=s.mapValue.fields.__previous_value__;return ul(e)?ac(e):e}function ga(s){const e=ta(s.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}function ma(s){return null==s}function Su(s){return 0===s&&1/s==-1/0}function uc(s){return"number"==typeof s&&Number.isInteger(s)&&!Su(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Vn.fromString(e))}static fromName(e){return new Xt(Vn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return Vn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Vn(e.slice()))}}function ro(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ul(s)?4:10:Yt()}function qs(s,e){const i=ro(s);if(i!==ro(e))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ga(s).isEqual(ga(e));case 3:return function(a,d){if("string"==typeof a.timestampValue&&"string"==typeof d.timestampValue&&a.timestampValue.length===d.timestampValue.length)return a.timestampValue===d.timestampValue;const g=ta(a.timestampValue),E=ta(d.timestampValue);return g.seconds===E.seconds&&g.nanos===E.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return d=e,za(s.bytesValue).isEqual(za(d.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,d){return Ti(a.geoPointValue.latitude)===Ti(d.geoPointValue.latitude)&&Ti(a.geoPointValue.longitude)===Ti(d.geoPointValue.longitude)}(s,e);case 2:return function(a,d){if("integerValue"in a&&"integerValue"in d)return Ti(a.integerValue)===Ti(d.integerValue);if("doubleValue"in a&&"doubleValue"in d){const g=Ti(a.doubleValue),E=Ti(d.doubleValue);return g===E?Su(g)===Su(E):isNaN(g)&&isNaN(E)}return!1}(s,e);case 9:return un(s.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:return function(a,d){const g=a.mapValue.fields||{},E=d.mapValue.fields||{};if(Xi(g)!==Xi(E))return!1;for(const P in g)if(g.hasOwnProperty(P)&&(void 0===E[P]||!qs(g[P],E[P])))return!1;return!0}(s,e);default:return Yt()}var d}function Rc(s,e){return void 0!==(s.values||[]).find(i=>qs(i,e))}function gi(s,e){const i=ro(s),a=ro(e);if(i!==a)return Lt(i,a);switch(i){case 0:return 0;case 1:return Lt(s.booleanValue,e.booleanValue);case 2:return function(d,g){const E=Ti(d.integerValue||d.doubleValue),P=Ti(g.integerValue||g.doubleValue);return E<P?-1:E>P?1:E===P?0:isNaN(E)?isNaN(P)?0:-1:1}(s,e);case 3:return xu(s.timestampValue,e.timestampValue);case 4:return xu(ga(s),ga(e));case 5:return Lt(s.stringValue,e.stringValue);case 6:return function(d,g){const E=za(d),P=za(g);return E.compareTo(P)}(s.bytesValue,e.bytesValue);case 7:return function(d,g){const E=d.split("/"),P=g.split("/");for(let q=0;q<E.length&&q<P.length;q++){const re=Lt(E[q],P[q]);if(0!==re)return re}return Lt(E.length,P.length)}(s.referenceValue,e.referenceValue);case 8:return function(d,g){const E=Lt(Ti(d.latitude),Ti(g.latitude));return 0!==E?E:Lt(Ti(d.longitude),Ti(g.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(d,g){const E=d.values||[],P=g.values||[];for(let q=0;q<E.length&&q<P.length;++q){const re=gi(E[q],P[q]);if(re)return re}return Lt(E.length,P.length)}(s.arrayValue,e.arrayValue);case 10:return function(d,g){const E=d.fields||{},P=Object.keys(E),q=g.fields||{},re=Object.keys(q);P.sort(),re.sort();for(let fe=0;fe<P.length&&fe<re.length;++fe){const Re=Lt(P[fe],re[fe]);if(0!==Re)return Re;const it=gi(E[P[fe]],q[re[fe]]);if(0!==it)return it}return Lt(P.length,re.length)}(s.mapValue,e.mapValue);default:throw Yt()}}function xu(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Lt(s,e);const i=ta(s),a=ta(e),d=Lt(i.seconds,a.seconds);return 0!==d?d:Lt(i.nanos,a.nanos)}function Ra(s){return Pa(s)}function Pa(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const d=ta(a);return`time(${d.seconds},${d.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?za(s.bytesValue).toBase64():"referenceValue"in s?Xt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let d="[",g=!0;for(const E of a.values||[])g?g=!1:d+=",",d+=Pa(E);return d+"]"}(s.arrayValue):"mapValue"in s?function(a){const d=Object.keys(a.fields||{}).sort();let g="{",E=!0;for(const P of d)E?E=!1:g+=",",g+=`${P}:${Pa(a.fields[P])}`;return g+"}"}(s.mapValue):Yt();var e}function Mu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function io(s){return!!s&&"integerValue"in s}function so(s){return!!s&&"arrayValue"in s}function Ho(s){return!!s&&"nullValue"in s}function na(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Cs(s){return!!s&&"mapValue"in s}function ka(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ci(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=ka(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ka(s.arrayValue.values[i]);return e}return Object.assign({},s)}class Is{constructor(e){this.value=e}static empty(){return new Is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Cs(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(i)}setAll(e){let i=Es.emptyPath(),a={},d=[];e.forEach((E,P)=>{if(!i.isImmediateParentOf(P)){const q=this.getFieldsMap(i);this.applyChanges(q,a,d),a={},d=[],i=P.popLast()}E?a[P.lastSegment()]=ka(E):d.push(P.lastSegment())});const g=this.getFieldsMap(i);this.applyChanges(g,a,d)}delete(e){const i=this.field(e.popLast());Cs(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let d=i.mapValue.fields[e.get(a)];Cs(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=d),i=d}return i.mapValue.fields}applyChanges(e,i,a){Ci(i,(d,g)=>e[d]=g);for(const d of a)delete e[d]}clone(){return new Is(ka(this.value))}}function Pc(s){const e=[];return Ci(s.fields,(i,a)=>{const d=new Es([i]);if(Cs(a)){const g=Pc(a.mapValue).fields;if(0===g.length)e.push(d);else for(const E of g)e.push(d.child(E))}else e.push(d)}),new Ga(e)}class ti{constructor(e,i,a,d,g){this.key=e,this.documentType=i,this.version=a,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ti(e,0,hn.min(),Is.empty(),0)}static newFoundDocument(e,i,a){return new ti(e,1,i,a,0)}static newNoDocument(e,i){return new ti(e,2,i,Is.empty(),0)}static newUnknownDocument(e,i){return new ti(e,3,i,Is.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new ti(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i=null,a=[],d=[],g=null,E=null,P=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=d,this.limit=g,this.startAt=E,this.endAt=P,this.A=null}}function cl(s,e=null,i=[],a=[],d=null,g=null,E=null){return new lh(s,e,i,a,d,g,E)}function x(s){const e=St(s);if(null===e.A){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+Ra(s.value)}(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>{return(d=a).field.canonicalString()+d.dir;var d}).join(","),ma(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Fa(e.startAt)),e.endAt&&(i+="|ub:",i+=Fa(e.endAt)),e.A=i}return e.A}function Q(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<s.orderBy.length;d++)if(!ra(s.orderBy[d],e.orderBy[d]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let d=0;d<s.filters.length;d++)if((i=s.filters[d]).op!==(a=e.filters[d]).op||!i.field.isEqual(a.field)||!qs(i.value,a.value))return!1;var i,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!cc(s.startAt,e.startAt)&&cc(s.endAt,e.endAt)}function le(s){return Xt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Oe extends class{}{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?"in"===i||"not-in"===i?this.R(e,i,a):new vt(e,i,a):"array-contains"===i?new Sr(e,a):"in"===i?new Ts(e,a):"not-in"===i?new Gs(e,a):"array-contains-any"===i?new Os(e,a):new Oe(e,i,a)}static R(e,i,a){return"in"===i?new en(e,a):new Kt(e,a)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.P(gi(i,this.value)):null!==i&&ro(this.value)===ro(i)&&this.P(gi(i,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vt extends Oe{constructor(e,i,a){super(e,i,a),this.key=Xt.fromName(a.referenceValue)}matches(e){const i=Xt.comparator(e.key,this.key);return this.P(i)}}class en extends Oe{constructor(e,i){super(e,"in",i),this.keys=vr(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Kt extends Oe{constructor(e,i){super(e,"not-in",i),this.keys=vr(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function vr(s,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>Xt.fromName(a.referenceValue))}class Sr extends Oe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return so(i)&&Rc(i.arrayValue,this.value)}}class Ts extends Oe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&Rc(this.value.arrayValue,i)}}class Gs extends Oe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!Rc(this.value.arrayValue,i)}}class Os extends Oe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!so(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Rc(this.value.arrayValue,a))}}class oo{constructor(e,i){this.position=e,this.before=i}}function Fa(s){return`${s.before?"b":"a"}:${s.position.map(e=>Ra(e)).join(",")}`}class Ds{constructor(e,i="asc"){this.field=e,this.dir=i}}function ra(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function ya(s,e,i){let a=0;for(let d=0;d<s.position.length;d++){const g=e[d],E=s.position[d];if(a=g.field.isKeyField()?Xt.comparator(Xt.fromName(E.referenceValue),i.key):gi(E,i.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function cc(s,e){if(null===s)return null===e;if(null===e||s.before!==e.before||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qs(s.position[i],e.position[i]))return!1;return!0}class $o{constructor(e,i=null,a=[],d=[],g=null,E="F",P=null,q=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=d,this.limit=g,this.limitType=E,this.startAt=P,this.endAt=q,this.V=null,this.S=null}}function Uf(s,e,i,a,d,g,E,P){return new $o(s,e,i,a,d,g,E,P)}function Wa(s){return new $o(s)}function Ka(s){return!ma(s.limit)&&"F"===s.limitType}function La(s){return!ma(s.limit)&&"L"===s.limitType}function td(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Li(s){for(const e of s.filters)if(e.v())return e.field;return null}function lc(s){return null!==s.collectionGroup}function kc(s){const e=St(s);if(null===e.V){e.V=[];const i=Li(e),a=td(e);if(null!==i&&null===a)i.isKeyField()||e.V.push(new Ds(i)),e.V.push(new Ds(Es.keyField(),"asc"));else{let d=!1;for(const g of e.explicitOrderBy)e.V.push(g),g.field.isKeyField()&&(d=!0);if(!d){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Ds(Es.keyField(),g))}}}return e.V}function Ns(s){const e=St(s);if(!e.S)if("F"===e.limitType)e.S=cl(e.path,e.collectionGroup,kc(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const g of kc(e))i.push(new Ds(g.field,"desc"===g.dir?"asc":"desc"));const a=e.endAt?new oo(e.endAt.position,!e.endAt.before):null,d=e.startAt?new oo(e.startAt.position,!e.startAt.before):null;e.S=cl(e.path,e.collectionGroup,i,e.filters,e.limit,a,d)}return e.S}function dc(s,e,i){return new $o(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ou(s,e){return Q(Ns(s),Ns(e))&&s.limitType===e.limitType}function nd(s){return`${x(Ns(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${Ra(a.value)}`;var a}).join(", ")}]`),ma(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: "+Fa(s.startAt)),s.endAt&&(e+=", endAt: "+Fa(s.endAt)),`Target(${e})`}(Ns(s))}; limitType=${s.limitType})`}function Fc(s,e){return e.isFoundDocument()&&function(i,a){const d=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(d):Xt.isDocumentKey(i.path)?i.path.isEqual(d):i.path.isImmediateParentOf(d)}(s,e)&&function(i,a){for(const d of i.explicitOrderBy)if(!d.field.isKeyField()&&null===a.data.field(d.field))return!1;return!0}(s,e)&&function(i,a){for(const d of i.filters)if(!d.matches(a))return!1;return!0}(s,e)&&(a=e,!((i=s).startAt&&!ya(i.startAt,kc(i),a)||i.endAt&&ya(i.endAt,kc(i),a)));var i,a}function Nu(s){return(e,i)=>{let a=!1;for(const d of kc(s)){const g=ia(d,e,i);if(0!==g)return g;a=a||d.field.isKeyField()}return 0}}function ia(s,e,i){const a=s.field.isKeyField()?Xt.comparator(e.key,i.key):function(d,g,E){const P=g.data.field(d),q=E.data.field(d);return null!==P&&null!==q?gi(P,q):Yt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Yt()}}function Lc(s,e){if(s.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function Ya(s){return{integerValue:""+s}}function dh(s,e){return uc(e)?Ya(e):Lc(s,e)}class Vc{constructor(){this._=void 0}}function rd(s,e,i){return s instanceof hc?function(a,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return d&&(g.fields.__previous_value__=d),{mapValue:g}}(i,e):s instanceof Qa?Ru(s,e):s instanceof _a?hh(s,e):function(a,d){const g=id(a,d),E=sd(g)+sd(a.C);return io(g)&&io(a.C)?Ya(E):Lc(a.N,E)}(s,e)}function dl(s,e,i){return s instanceof Qa?Ru(s,e):s instanceof _a?hh(s,e):i}function id(s,e){return s instanceof Uc?io(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}class hc extends Vc{}class Qa extends Vc{constructor(e){super(),this.elements=e}}function Ru(s,e){const i=od(e);for(const a of s.elements)i.some(d=>qs(d,a))||i.push(a);return{arrayValue:{values:i}}}class _a extends Vc{constructor(e){super(),this.elements=e}}function hh(s,e){let i=od(e);for(const a of s.elements)i=i.filter(d=>!qs(d,a));return{arrayValue:{values:i}}}class Uc extends Vc{constructor(e,i){super(),this.N=e,this.C=i}}function sd(s){return Ti(s.integerValue||s.doubleValue)}function od(s){return so(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class hl{constructor(e,i){this.field=e,this.transform=i}}class jf{constructor(e,i){this.version=e,this.transformResults=i}}class ps{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ja(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class fc{}function uu(s,e,i){s instanceof ku?function(a,d,g){const E=a.value.clone(),P=ud(a.fieldTransforms,d,g.transformResults);E.setAll(P),d.convertToFoundDocument(g.version,E).setHasCommittedMutations()}(s,e,i):s instanceof Va?function(a,d,g){if(!Ja(a.precondition,d))return void d.convertToUnknownDocument(g.version);const E=ud(a.fieldTransforms,d,g.transformResults),P=d.data;P.setAll(fl(a)),P.setAll(E),d.convertToFoundDocument(g.version,P).setHasCommittedMutations()}(s,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function ad(s,e,i){var d;s instanceof ku?function(a,d,g){if(!Ja(a.precondition,d))return;const E=a.value.clone(),P=cu(a.fieldTransforms,g,d);E.setAll(P),d.convertToFoundDocument(Pu(d),E).setHasLocalMutations()}(s,e,i):s instanceof Va?function(a,d,g){if(!Ja(a.precondition,d))return;const E=cu(a.fieldTransforms,g,d),P=d.data;P.setAll(fl(a)),P.setAll(E),d.convertToFoundDocument(Pu(d),P).setHasLocalMutations()}(s,e,i):Ja(s.precondition,d=e)&&d.convertToNoDocument(hn.min())}function fh(s,e){let i=null;for(const a of s.fieldTransforms){const d=e.data.field(a.field),g=id(a.transform,d||null);null!=g&&(null==i&&(i=Is.empty()),i.set(a.field,g))}return i||null}function Zf(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&un(i,a,(d,g)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(i=s.transform)instanceof Qa&&a instanceof Qa||i instanceof _a&&a instanceof _a?un(i.elements,a.elements,qs):i instanceof Uc&&a instanceof Uc?qs(i.C,a.C):i instanceof hc&&a instanceof hc);var i,a}(d,g))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var i,a}function Pu(s){return s.isFoundDocument()?s.version:hn.min()}class ku extends fc{constructor(e,i,a,d=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=d,this.type=0}}class Va extends fc{constructor(e,i,a,d,g=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=d,this.fieldTransforms=g,this.type=1}}function fl(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function ud(s,e,i){const a=new Map;wn(s.length===i.length);for(let d=0;d<i.length;d++){const g=s[d],E=g.transform,P=e.data.field(g.field);a.set(g.field,dl(E,P,i[d]))}return a}function cu(s,e,i){const a=new Map;for(const d of s){const g=d.transform,E=i.data.field(d.field);a.set(d.field,rd(g,E,e))}return a}class Bc extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class ph extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class Fu{constructor(e){this.count=e}}var gs,Er;function sa(s){switch(s){default:return Yt();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function Lu(s){if(void 0===s)return br("GRPC error has no .code"),Xe.UNKNOWN;switch(s){case gs.OK:return Xe.OK;case gs.CANCELLED:return Xe.CANCELLED;case gs.UNKNOWN:return Xe.UNKNOWN;case gs.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case gs.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case gs.INTERNAL:return Xe.INTERNAL;case gs.UNAVAILABLE:return Xe.UNAVAILABLE;case gs.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case gs.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case gs.NOT_FOUND:return Xe.NOT_FOUND;case gs.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case gs.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case gs.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case gs.ABORTED:return Xe.ABORTED;case gs.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case gs.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case gs.DATA_LOSS:return Xe.DATA_LOSS;default:return Yt()}}(Er=gs||(gs={}))[Er.OK=0]="OK",Er[Er.CANCELLED=1]="CANCELLED",Er[Er.UNKNOWN=2]="UNKNOWN",Er[Er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Er[Er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Er[Er.NOT_FOUND=5]="NOT_FOUND",Er[Er.ALREADY_EXISTS=6]="ALREADY_EXISTS",Er[Er.PERMISSION_DENIED=7]="PERMISSION_DENIED",Er[Er.UNAUTHENTICATED=16]="UNAUTHENTICATED",Er[Er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Er[Er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Er[Er.ABORTED=10]="ABORTED",Er[Er.OUT_OF_RANGE=11]="OUT_OF_RANGE",Er[Er.UNIMPLEMENTED=12]="UNIMPLEMENTED",Er[Er.INTERNAL=13]="INTERNAL",Er[Er.UNAVAILABLE=14]="UNAVAILABLE",Er[Er.DATA_LOSS=15]="DATA_LOSS";class Gi{constructor(e,i){this.comparator=e,this.root=i||zs.EMPTY}insert(e,i){return new Gi(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,zs.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zs.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const d=this.comparator(e,a.key);if(0===d)return i+a.left.size;d<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,i,a,d){this.isReverse=d,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=i?a(e.key,i):1,d&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zs{constructor(e,i,a,d,g){this.key=e,this.value=i,this.color=null!=a?a:zs.RED,this.left=null!=d?d:zs.EMPTY,this.right=null!=g?g:zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,d,g){return new zs(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=d?d:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,i,a),null):0===g?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(e,i,a)),d.fixUp()}removeMin(){if(this.left.isEmpty())return zs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,d=this;if(i(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,i),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===i(e,d.key)){if(d.right.isEmpty())return zs.EMPTY;a=d.right.min(),d=d.copy(a.key,a.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,i))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const e=this.left.check();if(e!==this.right.check())throw Yt();return e+(this.isRed()?0:1)}}zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(s,e,i,a,d){return this}insert(s,e,i){return new zs(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const d=a.getNext();if(this.comparator(d.key,e[1])>=0)return;i(d.key)}}forEachWhile(e,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new gh(this.data.getIterator())}getIteratorFrom(e){return new gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const d=i.getNext().key,g=a.getNext().key;if(0!==this.comparator(d,g))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Di(this.comparator);return i.data=e,i}}class gh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Hf=new Gi(Xt.comparator);function wo(){return Hf}const $f=new Gi(Xt.comparator);function cd(){return $f}const qf=new Gi(Xt.comparator);function mh(){return qf}const Gg=new Di(Xt.comparator);function Vr(...s){let e=Gg;for(const i of s)e=e.add(i);return e}const Vu=new Di(Lt);function jc(){return Vu}class Oo{constructor(e,i,a,d,g){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=d,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,i){const a=new Map;return a.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,i)),new Oo(hn.min(),a,jc(),wo(),Vr())}}class va{constructor(e,i,a,d,g){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=d,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,i){return new va(qi.EMPTY_BYTE_STRING,i,Vr(),Vr(),Vr())}}class Uu{constructor(e,i,a,d){this.k=e,this.removedTargetIds=i,this.key=a,this.$=d}}class ld{constructor(e,i){this.targetId=e,this.O=i}}class dd{constructor(e,i,a=qi.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=d}}class gl{constructor(){this.F=0,this.M=ml(),this.L=qi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Vr(),i=Vr(),a=Vr();return this.M.forEach((d,g)=>{switch(g){case 0:e=e.add(d);break;case 2:i=i.add(d);break;case 1:a=a.add(d);break;default:Yt()}}),new va(this.L,this.B,e,i,a)}G(){this.U=!1,this.M=ml()}H(e,i){this.U=!0,this.M=this.M.insert(e,i)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class zg{constructor(e){this.tt=e,this.et=new Map,this.nt=wo(),this.st=Gf(),this.it=new Di(Lt)}rt(e){for(const i of e.k)e.$&&e.$.isFoundDocument()?this.ot(i,e.$):this.at(i,e.key,e.$);for(const i of e.removedTargetIds)this.at(i,e.key,e.$)}ct(e){this.forEachTarget(e,i=>{const a=this.ut(i);switch(e.state){case 0:this.ht(i)&&a.j(e.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(e.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(e.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(e.resumeToken));break;default:Yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.et.forEach((a,d)=>{this.ht(d)&&i(d)})}ft(e){const i=e.targetId,a=e.O.count,d=this.dt(i);if(d){const g=d.target;if(le(g))if(0===a){const E=new Xt(g.path);this.at(i,E,ti.newNoDocument(E,hn.min()))}else wn(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(e){const i=new Map;this.et.forEach((g,E)=>{const P=this.dt(E);if(P){if(g.current&&le(P.target)){const q=new Xt(P.target.path);null!==this.nt.get(q)||this.gt(E,q)||this.at(E,q,ti.newNoDocument(q,e))}g.K&&(i.set(E,g.W()),g.G())}});let a=Vr();this.st.forEach((g,E)=>{let P=!0;E.forEachWhile(q=>{const re=this.dt(q);return!re||2===re.purpose||(P=!1,!1)}),P&&(a=a.add(g))});const d=new Oo(e,i,this.it,this.nt,a);return this.nt=wo(),this.st=Gf(),this.it=new Di(Lt),d}ot(e,i){if(!this.ht(e))return;const a=this.gt(e,i.key)?2:0;this.ut(e).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(e))}at(e,i,a){if(!this.ht(e))return;const d=this.ut(e);this.gt(e,i)?d.H(i,1):d.J(i),this.st=this.st.insert(i,this.yt(i).delete(e)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(e){this.et.delete(e)}wt(e){const i=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let i=this.et.get(e);return i||(i=new gl,this.et.set(e,i)),i}yt(e){let i=this.st.get(e);return i||(i=new Di(Lt),this.st=this.st.insert(e,i)),i}ht(e){const i=null!==this.dt(e);return i||Tt("WatchChangeAggregator","Detected inactive target",e),i}dt(e){const i=this.et.get(e);return i&&i.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new gl),this.tt.getRemoteKeysForTarget(e).forEach(i=>{this.at(e,i,null)})}gt(e,i){return this.tt.getRemoteKeysForTarget(e).has(i)}}function Gf(){return new Gi(Xt.comparator)}function ml(){return new Gi(Xt.comparator)}const yl={asc:"ASCENDING",desc:"DESCENDING"},hd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Wg{constructor(e,i){this.databaseId=e,this.D=i}}function _l(s,e){return s.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fd(s,e){return s.D?e.toBase64():e.toUint8Array()}function vl(s,e){return _l(s,e.toTimestamp())}function Rs(s){return wn(!!s),hn.fromTimestamp(function(e){const i=ta(e);return new bn(i.seconds,i.nanos)}(s))}function wl(s,e){return(i=s,new Vn(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function yh(s){const e=Vn.fromString(s);return wn(_d(e)),e}function pc(s,e){return wl(s.databaseId,e.path)}function qo(s,e){const i=yh(e);if(i.get(1)!==s.databaseId.projectId)throw new gt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new gt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Xt(mi(i))}function bl(s,e){return wl(s.databaseId,e)}function Zc(s){const e=yh(s);return 4===e.length?Vn.emptyPath():mi(e)}function Bu(s){return new Vn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mi(s){return wn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function pd(s,e,i){return{name:pc(s,e),fields:i.value.mapValue.fields}}function _h(s,e,i){const a=qo(s,e.name),d=Rs(e.updateTime),g=new Is({mapValue:{fields:e.fields}}),E=ti.newFoundDocument(a,d,g);return i&&E.setHasCommittedMutations(),i?E.setHasCommittedMutations():E}function lu(s,e){let i;if(e instanceof ku)i={update:pd(s,e.key,e.value)};else if(e instanceof Bc)i={delete:pc(s,e.key)};else if(e instanceof Va)i={update:pd(s,e.key,e.data),updateMask:yd(e.fieldMask)};else{if(!(e instanceof ph))return Yt();i={verify:pc(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(d,g){const E=g.transform;if(E instanceof hc)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Qa)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof _a)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Uc)return{fieldPath:g.field.canonicalString(),increment:E.C};throw Yt()}(0,a))),e.precondition.isNone||(i.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:vl(s,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Yt()),i;var d}function gd(s,e){const i=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?ps.updateTime(Rs(d.updateTime)):void 0!==d.exists?ps.exists(d.exists):ps.none():ps.none(),a=e.updateTransforms?e.updateTransforms.map(d=>function(g,E){let P=null;"setToServerValue"in E?(wn("REQUEST_TIME"===E.setToServerValue),P=new hc):"appendMissingElements"in E?P=new Qa(E.appendMissingElements.values||[]):"removeAllFromArray"in E?P=new _a(E.removeAllFromArray.values||[]):"increment"in E?P=new Uc(g,E.increment):Yt();const q=Es.fromServerFormat(E.fieldPath);return new hl(q,P)}(s,d)):[];var d;if(e.update){const d=qo(s,e.update.name),g=new Is({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Ga((e.updateMask.fieldPaths||[]).map(re=>Es.fromServerFormat(re)));return new Va(d,g,E,i,a)}return new ku(d,g,i,a)}if(e.delete){const d=qo(s,e.delete);return new Bc(d,i)}if(e.verify){const d=qo(s,e.verify);return new ph(d,i)}return Yt()}function El(s,e){return{documents:[bl(s,e.path)]}}function Cl(s,e){const i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=bl(s,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=bl(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const d=function(P){if(0===P.length)return;const q=P.map(re=>function(fe){if("=="===fe.op){if(na(fe.value))return{unaryFilter:{field:es(fe.field),op:"IS_NAN"}};if(Ho(fe.value))return{unaryFilter:{field:es(fe.field),op:"IS_NULL"}}}else if("!="===fe.op){if(na(fe.value))return{unaryFilter:{field:es(fe.field),op:"IS_NOT_NAN"}};if(Ho(fe.value))return{unaryFilter:{field:es(fe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(fe.field),op:wh(fe.op),value:fe.value}}}(re));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);d&&(i.structuredQuery.where=d);const g=function(P){if(0!==P.length)return P.map(q=>{return{field:es((re=q).field),direction:vh(re.dir)};var re})}(e.orderBy);g&&(i.structuredQuery.orderBy=g);const E=(q=e.limit,s.D||ma(q)?q:{value:q});var q;return null!==E&&(i.structuredQuery.limit=E),e.startAt&&(i.structuredQuery.startAt=Vi(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Vi(e.endAt)),i}function Wf(s){let e=Zc(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let d=null;if(a>0){wn(1===a);const fe=i.from[0];fe.allDescendants?d=fe.collectionId:e=e.child(fe.collectionId)}let g=[];i.where&&(g=gc(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(fe=>{return new Ds(wa((Re=fe).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let P=null;i.limit&&(P=function(fe){let Re;return Re="object"==typeof fe?fe.value:fe,ma(Re)?null:Re}(i.limit));let q=null;i.startAt&&(q=$c(i.startAt));let re=null;return i.endAt&&(re=$c(i.endAt)),Uf(e,d,E,g,P,"F",q,re)}function gc(s){return s?void 0!==s.unaryFilter?[md(s)]:void 0!==s.fieldFilter?[ao(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>gc(e)).reduce((e,i)=>e.concat(i)):Yt():[]}function Vi(s){return{before:s.before,values:s.position}}function $c(s){return new oo(s.values||[],!!s.before)}function vh(s){return yl[s]}function wh(s){return hd[s]}function es(s){return{fieldPath:s.canonicalString()}}function wa(s){return Es.fromServerFormat(s.fieldPath)}function ao(s){return Oe.create(wa(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(s.fieldFilter.op),s.fieldFilter.value)}function md(s){switch(s.unaryFilter.op){case"IS_NAN":const e=wa(s.unaryFilter.field);return Oe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=wa(s.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wa(s.unaryFilter.field);return Oe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wa(s.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}function yd(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function _d(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function As(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=vd(e)),e=mc(s.get(i),e);return vd(e)}function mc(s,e){let i=e;const a=s.length;for(let d=0;d<a;d++){const g=s.charAt(d);switch(g){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=g}}return i}function vd(s){return s+"\x01\x01"}function ba(s){const e=s.length;if(wn(e>=2),2===e)return wn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Vn.emptyPath();const i=e-2,a=[];let d="";for(let g=0;g<e;){const E=s.indexOf("\x01",g);switch((E<0||E>i)&&Yt(),s.charAt(E+1)){case"\x01":const P=s.substring(g,E);let q;0===d.length?q=P:(d+=P,q=d,d=""),a.push(q);break;case"\x10":d+=s.substring(g,E),d+="\0";break;case"\x11":d+=s.substring(g,E+1);break;default:Yt()}g=E+2}return new Vn(a)}class wd{constructor(e,i){this.seconds=e,this.nanoseconds=i}}class Go{constructor(e,i,a){this.ownerId=e,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}Go.store="owner",Go.key="owner";class du{constructor(e,i,a){this.userId=e,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}du.store="mutationQueues",du.keyPath="userId";class ai{constructor(e,i,a,d,g){this.userId=e,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=d,this.mutations=g}}ai.store="mutations",ai.keyPath="batchId",ai.userMutationsIndex="userMutationsIndex",ai.userMutationsKeyPath=["userId","batchId"];class Ps{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,i){return[e,As(i)]}static key(e,i,a){return[e,As(i),a]}}Ps.store="documentMutations",Ps.PLACEHOLDER=new Ps;class y{constructor(e,i){this.path=e,this.readTime=i}}class h{constructor(e,i){this.path=e,this.version=i}}class f{constructor(e,i,a,d,g,E){this.unknownDocument=e,this.noDocument=i,this.document=a,this.hasCommittedMutations=d,this.readTime=g,this.parentPath=E}}f.store="remoteDocuments",f.readTimeIndex="readTimeIndex",f.readTimeIndexPath="readTime",f.collectionReadTimeIndex="collectionReadTimeIndex",f.collectionReadTimeIndexPath=["parentPath","readTime"];class C{constructor(e){this.byteSize=e}}C.store="remoteDocumentGlobal",C.key="remoteDocumentGlobalKey";class B{constructor(e,i,a,d,g,E,P){this.targetId=e,this.canonicalId=i,this.readTime=a,this.resumeToken=d,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=E,this.query=P}}B.store="targets",B.keyPath="targetId",B.queryTargetsIndexName="queryTargetsIndex",B.queryTargetsKeyPath=["canonicalId","targetId"];class ee{constructor(e,i,a){this.targetId=e,this.path=i,this.sequenceNumber=a}}ee.store="targetDocuments",ee.keyPath=["targetId","path"],ee.documentTargetsIndex="documentTargetsIndex",ee.documentTargetsKeyPath=["path","targetId"];class Se{constructor(e,i,a,d){this.highestTargetId=e,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=d}}Se.key="targetGlobalKey",Se.store="targetGlobal";class tt{constructor(e,i){this.collectionId=e,this.parent=i}}tt.store="collectionParents",tt.keyPath=["collectionId","parent"];class Mt{constructor(e,i,a,d){this.clientId=e,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=d}}Mt.store="clientMetadata",Mt.keyPath="clientId";class tn{constructor(e,i,a){this.bundleId=e,this.createTime=i,this.version=a}}tn.store="bundles",tn.keyPath="bundleId";class Dn{constructor(e,i,a){this.name=e,this.readTime=i,this.bundledQuery=a}}Dn.store="namedQueries",Dn.keyPath="name";const An=[du.store,ai.store,Ps.store,f.store,B.store,Go.store,Se.store,ee.store,Mt.store,C.store,tt.store,tn.store,Dn.store],ms="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ct((a,d)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(a,d)},this.catchCallback=g=>{this.wrapFailure(i,g).next(a,d)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ct?i:ct.resolve(i)}catch(i){return ct.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ct.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ct.reject(i)}static resolve(e){return new ct((i,a)=>{i(e)})}static reject(e){return new ct((i,a)=>{a(e)})}static waitFor(e){return new ct((i,a)=>{let d=0,g=0,E=!1;e.forEach(P=>{++d,P.next(()=>{++g,E&&g===d&&i()},q=>a(q))}),E=!0,g===d&&i()})}static or(e){let i=ct.resolve(!1);for(const a of e)i=i.next(d=>d?ct.resolve(d):a());return i}static forEach(e,i){const a=[];return e.forEach((d,g)=>{a.push(i.call(this,d,g))}),this.waitFor(a)}}class yc{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.Et=new D,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new ju(e,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const d=Tl(a.target.error);this.Et.reject(new ju(e,d))}}static open(e,i,a,d){try{return new yc(i,e.transaction(d,a))}catch(g){throw new ju(i,g)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const i=this.transaction.objectStore(e);return new bd(i)}}class zo{constructor(e,i,a){this.name=e,this.version=i,this.At=a,12.2===zo.Rt((0,qe.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),fu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,qe.hl)())return!1;if(zo.Pt())return!0;const e=(0,qe.z$)(),i=zo.Rt(e),a=0<i&&i<10,d=zo.vt(e),g=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||g)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,i){return e.store(i)}static Rt(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(e){const i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(e){var i=this;return(0,ye.Z)(function*(){return i.db||(Tt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,d)=>{const g=indexedDB.open(i.name,i.version);g.onsuccess=E=>{a(E.target.result)},g.onblocked=()=>{d(new ju(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=E=>{const P=E.target.error;d("VersionError"===P.name?new gt(Xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new gt(Xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new ju(e,P))},g.onupgradeneeded=E=>{Tt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.At.Ct(E.target.result,g.transaction,E.oldVersion,i.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,a,d){var g=this;return(0,ye.Z)(function*(){const E="readonly"===i;let P=0;for(;;){++P;try{g.db=yield g.Dt(e);const q=yc.open(g.db,e,E?"readonly":"readwrite",a),re=d(q).catch(fe=>(q.abort(fe),ct.reject(fe))).toPromise();return re.catch(()=>{}),yield q.It,re}catch(q){const re="FirebaseError"!==q.name&&P<3;if(Tt("SimpleDb","Transaction failed with error:",q.message,"Retrying:",re),g.close(),!re)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bh{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return fu(this.kt.delete())}}class ju extends gt{constructor(e,i){super(Xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function hu(s){return"IndexedDbTransactionError"===s.name}class bd{constructor(e){this.store=e}put(e,i){let a;return void 0!==i?(Tt("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),fu(a)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),fu(this.store.add(e))}get(e){return fu(this.store.get(e)).next(i=>(void 0===i&&(i=null),Tt("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),fu(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),fu(this.store.count())}Lt(e,i){const a=this.cursor(this.options(e,i)),d=[];return this.Bt(a,(g,E)=>{d.push(E)}).next(()=>d)}Ut(e,i){Tt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,i);a.qt=!1;const d=this.cursor(a);return this.Bt(d,(g,E,P)=>P.delete())}Kt(e,i){let a;i?a=e:(a={},i=e);const d=this.cursor(a);return this.Bt(d,i)}jt(e){const i=this.cursor({});return new ct((a,d)=>{i.onerror=g=>{const E=Tl(g.target.error);d(E)},i.onsuccess=g=>{const E=g.target.result;E?e(E.primaryKey,E.value).next(P=>{P?E.continue():a()}):a()}})}Bt(e,i){const a=[];return new ct((d,g)=>{e.onerror=E=>{g(E.target.error)},e.onsuccess=E=>{const P=E.target.result;if(!P)return void d();const q=new bh(P),re=i(P.primaryKey,P.value,q);if(re instanceof ct){const fe=re.catch(Re=>(q.done(),ct.reject(Re)));a.push(fe)}q.isDone?d():null===q.Ft?P.continue():P.continue(q.Ft)}}).next(()=>ct.waitFor(a))}options(e,i){let a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const a=this.store.index(e.index);return e.qt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function fu(s){return new ct((e,i)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const d=Tl(a.target.error);i(d)}})}let Il=!1;function Tl(s){const e=zo.Rt((0,qe.z$)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Il||(Il=!0,setTimeout(()=>{throw a},0)),a}}return s}class Zu extends bo{constructor(e,i){super(),this.Qt=e,this.currentSequenceNumber=i}}function yi(s,e){const i=St(s);return zo.St(i.Qt,e)}class Eh{constructor(e,i,a,d){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=d}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let d=0;d<this.mutations.length;d++){const g=this.mutations[d];g.key.isEqual(e.key)&&uu(g,e,a[d])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&ad(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&ad(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const a=e.get(i.key),d=a;this.applyToLocalView(d),a.isValidDocument()||d.convertToNoDocument(hn.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vr())}isEqual(e){return this.batchId===e.batchId&&un(this.mutations,e.mutations,(i,a)=>Zf(i,a))&&un(this.baseMutations,e.baseMutations,(i,a)=>Zf(i,a))}}class Kg{constructor(e,i,a,d){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=d}static from(e,i,a){wn(e.mutations.length===a.length);let d=mh();const g=e.mutations;for(let E=0;E<g.length;E++)d=d.insert(g[E].key,a[E].version);return new Kg(e,i,a,d)}}class Hu{constructor(e,i,a,d,g=hn.min(),E=hn.min(),P=qi.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=d,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=P}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class c_{constructor(e){this.Wt=e}}function Ua(s,e){if(e.document)return _h(s.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const i=Xt.fromSegments(e.noDocument.path),a=pu(e.noDocument.readTime),d=ti.newNoDocument(i,a);return e.hasCommittedMutations?d.setHasCommittedMutations():d}if(e.unknownDocument){const i=Xt.fromSegments(e.unknownDocument.path),a=pu(e.unknownDocument.version);return ti.newUnknownDocument(i,a)}return Yt()}function Ch(s,e,i){const a=Ed(i),d=e.key.path.popLast().toArray();if(e.isFoundDocument()){const g={name:pc(P=s.Wt,(q=e).key),fields:q.data.value.mapValue.fields,updateTime:_l(P,q.version.toTimestamp())};return new f(null,null,g,e.hasCommittedMutations,a,d)}var P,q;if(e.isNoDocument()){const g=e.key.path.toArray(),E=qc(e.version),P=e.hasCommittedMutations;return new f(null,new y(g,E),null,P,a,d)}if(e.isUnknownDocument()){const g=e.key.path.toArray(),E=qc(e.version);return new f(new h(g,E),null,null,!0,a,d)}return Yt()}function Ed(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Yg(s){const e=new bn(s[0],s[1]);return hn.fromTimestamp(e)}function qc(s){const e=s.toTimestamp();return new wd(e.seconds,e.nanoseconds)}function pu(s){const e=new bn(s.seconds,s.nanoseconds);return hn.fromTimestamp(e)}function Gc(s,e){const i=(e.baseMutations||[]).map(g=>gd(s.Wt,g));for(let g=0;g<e.mutations.length-1;++g){const E=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(E.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const a=e.mutations.map(g=>gd(s.Wt,g)),d=bn.fromMillis(e.localWriteTimeMs);return new Eh(e.batchId,d,i,a)}function Dl(s){const e=pu(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?pu(s.lastLimboFreeSnapshotVersion):hn.min();let a;var d;return void 0!==s.query.documents?(wn(1===(d=s.query).documents.length),a=Ns(Wa(Zc(d.documents[0])))):a=Ns(Wf(s.query)),new Hu(a,s.targetId,0,s.lastListenSequenceNumber,e,i,qi.fromBase64String(s.resumeToken))}function Ih(s,e){const i=qc(e.snapshotVersion),a=qc(e.lastLimboFreeSnapshotVersion);let d;d=le(e.target)?El(s.Wt,e.target):Cl(s.Wt,e.target);const g=e.resumeToken.toBase64();return new B(e.targetId,x(e.target),i,g,e.sequenceNumber,a,d)}function Cd(s){const e=Wf({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?dc(e,e.limit,"L"):e}class Qg{getBundleMetadata(e,i){return l_(e).get(i).next(a=>{if(a)return{id:(d=a).bundleId,createTime:pu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,i){return l_(e).put({bundleId:(a=i).id,createTime:qc(Rs(a.createTime)),version:a.version});var a}getNamedQuery(e,i){return zc(e).get(i).next(a=>{if(a)return{name:(d=a).name,query:Cd(d.bundledQuery),readTime:pu(d.readTime)};var d})}saveNamedQuery(e,i){return zc(e).put({name:(a=i).name,readTime:qc(Rs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function l_(s){return yi(s,tn.store)}function zc(s){return yi(s,Dn.store)}class Yf{constructor(){this.Gt=new Th}addToCollectionParentIndex(e,i){return this.Gt.add(i),ct.resolve()}getCollectionParents(e,i){return ct.resolve(this.Gt.getEntries(i))}}class Th{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),d=this.index[i]||new Di(Vn.comparator),g=!d.has(a);return this.index[i]=d.add(a),g}has(e){const i=e.lastSegment(),a=e.popLast(),d=this.index[i];return d&&d.has(a)}getEntries(e){return(this.index[e]||new Di(Vn.comparator)).toArray()}}class d_{constructor(){this.zt=new Th}addToCollectionParentIndex(e,i){if(!this.zt.has(i)){const a=i.lastSegment(),d=i.popLast();e.addOnCommittedListener(()=>{this.zt.add(i)});const g={collectionId:a,parent:As(d)};return Dh(e).put(g)}return ct.resolve()}getCollectionParents(e,i){const a=[],d=IDBKeyRange.bound([i,""],[Ar(i),""],!1,!0);return Dh(e).Lt(d).next(g=>{for(const E of g){if(E.collectionId!==i)break;a.push(ba(E.parent))}return a})}}function Dh(s){return yi(s,tt.store)}const Jg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xg(s,e,i){const a=s.store(ai.store),d=s.store(Ps.store),g=[],E=IDBKeyRange.only(i.batchId);let P=0;const q=a.Kt({range:E},(fe,Re,it)=>(P++,it.delete()));g.push(q.next(()=>{wn(1===P)}));const re=[];for(const fe of i.mutations){const Re=Ps.key(e,fe.key.path,i.batchId);g.push(d.delete(Re)),re.push(fe.key)}return ct.waitFor(g).next(()=>re)}function Ah(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Yt();e=s.noDocument}return JSON.stringify(e).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class Qf{constructor(e,i,a,d){this.userId=e,this.N=i,this.Ht=a,this.referenceDelegate=d,this.Jt={}}static Yt(e,i,a,d){wn(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new Qf(g,i,a,d)}checkEmpty(e){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Kt({index:ai.userMutationsIndex,range:a},(d,g,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(e,i,a,d){const g=_c(e),E=$u(e);return E.add({}).next(P=>{wn("number"==typeof P);const q=new Eh(P,i,a,d),re=function(it,ft,Ot){const yn=Ot.baseMutations.map(ts=>lu(it.Wt,ts)),ir=Ot.mutations.map(ts=>lu(it.Wt,ts));return new ai(ft,Ot.batchId,Ot.localWriteTime.toMillis(),yn,ir)}(this.N,this.userId,q),fe=[];let Re=new Di((it,ft)=>Lt(it.canonicalString(),ft.canonicalString()));for(const it of d){const ft=Ps.key(this.userId,it.key.path,P);Re=Re.add(it.key.path.popLast()),fe.push(E.put(re)),fe.push(g.put(ft,Ps.PLACEHOLDER))}return Re.forEach(it=>{fe.push(this.Ht.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.Jt[P]=q.keys()}),ct.waitFor(fe).next(()=>q)})}lookupMutationBatch(e,i){return $u(e).get(i).next(a=>a?(wn(a.userId===this.userId),Gc(this.N,a)):null)}Xt(e,i){return this.Jt[i]?ct.resolve(this.Jt[i]):this.lookupMutationBatch(e,i).next(a=>{if(a){const d=a.keys();return this.Jt[i]=d,d}return null})}getNextMutationBatchAfterBatchId(e,i){const a=i+1,d=IDBKeyRange.lowerBound([this.userId,a]);let g=null;return $u(e).Kt({index:ai.userMutationsIndex,range:d},(E,P,q)=>{P.userId===this.userId&&(wn(P.batchId>=a),g=Gc(this.N,P)),q.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return $u(e).Kt({index:ai.userMutationsIndex,range:i,reverse:!0},(d,g,E)=>{a=g.batchId,E.done()}).next(()=>a)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Lt(ai.userMutationsIndex,i).next(a=>a.map(d=>Gc(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(e,i){const a=Ps.prefixForPath(this.userId,i.path),d=IDBKeyRange.lowerBound(a),g=[];return _c(e).Kt({range:d},(E,P,q)=>{const[re,fe,Re]=E,it=ba(fe);if(re===this.userId&&i.path.isEqual(it))return $u(e).get(Re).next(ft=>{if(!ft)throw Yt();wn(ft.userId===this.userId),g.push(Gc(this.N,ft))});q.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Di(Lt);const d=[];return i.forEach(g=>{const E=Ps.prefixForPath(this.userId,g.path),P=IDBKeyRange.lowerBound(E),q=_c(e).Kt({range:P},(re,fe,Re)=>{const[it,ft,Ot]=re,yn=ba(ft);it===this.userId&&g.path.isEqual(yn)?a=a.add(Ot):Re.done()});d.push(q)}),ct.waitFor(d).next(()=>this.Zt(e,a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,d=a.length+1,g=Ps.prefixForPath(this.userId,a),E=IDBKeyRange.lowerBound(g);let P=new Di(Lt);return _c(e).Kt({range:E},(q,re,fe)=>{const[Re,it,ft]=q,Ot=ba(it);Re===this.userId&&a.isPrefixOf(Ot)?Ot.length===d&&(P=P.add(ft)):fe.done()}).next(()=>this.Zt(e,P))}Zt(e,i){const a=[],d=[];return i.forEach(g=>{d.push($u(e).get(g).next(E=>{if(null===E)throw Yt();wn(E.userId===this.userId),a.push(Gc(this.N,E))}))}),ct.waitFor(d).next(()=>a)}removeMutationBatch(e,i){return Xg(e.Qt,this.userId,i).next(a=>(e.addOnCommittedListener(()=>{this.te(i.batchId)}),ct.forEach(a,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return ct.resolve();const a=IDBKeyRange.lowerBound(Ps.prefixForUser(this.userId)),d=[];return _c(e).Kt({range:a},(g,E,P)=>{if(g[0]===this.userId){const q=ba(g[1]);d.push(q)}else P.done()}).next(()=>{wn(0===d.length)})})}containsKey(e,i){return em(e,this.userId,i)}ee(e){return Jf(e).get(this.userId).next(i=>i||new du(this.userId,-1,""))}}function em(s,e,i){const a=Ps.prefixForPath(e,i.path),d=a[1],g=IDBKeyRange.lowerBound(a);let E=!1;return _c(s).Kt({range:g,qt:!0},(P,q,re)=>{const[fe,Re,it]=P;fe===e&&Re===d&&(E=!0),re.done()}).next(()=>E)}function $u(s){return yi(s,ai.store)}function _c(s){return yi(s,Ps.store)}function Jf(s){return yi(s,du.store)}class qu{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new qu(0)}static ie(){return new qu(-1)}}class h_{constructor(e,i){this.referenceDelegate=e,this.N=i}allocateTargetId(e){return this.re(e).next(i=>{const a=new qu(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(i=>hn.fromTimestamp(new bn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,a){return this.re(e).next(d=>(d.highestListenSequenceNumber=i,a&&(d.lastRemoteSnapshotVersion=a.toTimestamp()),i>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=i),this.oe(e,d)))}addTargetData(e,i){return this.ae(e,i).next(()=>this.re(e).next(a=>(a.targetCount+=1,this.ce(i,a),this.oe(e,a))))}updateTargetData(e,i){return this.ae(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Al(e).delete(i.targetId)).next(()=>this.re(e)).next(a=>(wn(a.targetCount>0),a.targetCount-=1,this.oe(e,a)))}removeTargets(e,i,a){let d=0;const g=[];return Al(e).Kt((E,P)=>{const q=Dl(P);q.sequenceNumber<=i&&null===a.get(q.targetId)&&(d++,g.push(this.removeTargetData(e,q)))}).next(()=>ct.waitFor(g)).next(()=>d)}forEachTarget(e,i){return Al(e).Kt((a,d)=>{const g=Dl(d);i(g)})}re(e){return Xf(e).get(Se.key).next(i=>(wn(null!==i),i))}oe(e,i){return Xf(e).put(Se.key,i)}ae(e,i){return Al(e).put(Ih(this.N,i))}ce(e,i){let a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.re(e).next(i=>i.targetCount)}getTargetData(e,i){const a=x(i),d=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let g=null;return Al(e).Kt({range:d,index:B.queryTargetsIndexName},(E,P,q)=>{const re=Dl(P);Q(i,re.target)&&(g=re,q.done())}).next(()=>g)}addMatchingKeys(e,i,a){const d=[],g=Gu(e);return i.forEach(E=>{const P=As(E.path);d.push(g.put(new ee(a,P))),d.push(this.referenceDelegate.addReference(e,a,E))}),ct.waitFor(d)}removeMatchingKeys(e,i,a){const d=Gu(e);return ct.forEach(i,g=>{const E=As(g.path);return ct.waitFor([d.delete([a,E]),this.referenceDelegate.removeReference(e,a,g)])})}removeMatchingKeysForTargetId(e,i){const a=Gu(e),d=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(d)}getMatchingKeysForTargetId(e,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),d=Gu(e);let g=Vr();return d.Kt({range:a,qt:!0},(E,P,q)=>{const re=ba(E[1]),fe=new Xt(re);g=g.add(fe)}).next(()=>g)}containsKey(e,i){const a=As(i.path),d=IDBKeyRange.bound([a],[Ar(a)],!1,!0);let g=0;return Gu(e).Kt({index:ee.documentTargetsIndex,qt:!0,range:d},([E,P],q,re)=>{0!==E&&(g++,re.done())}).next(()=>g>0)}Tt(e,i){return Al(e).get(i).next(a=>a?Dl(a):null)}}function Al(s){return yi(s,B.store)}function Xf(s){return yi(s,Se.store)}function Gu(s){return yi(s,ee.store)}function Ea(s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,ye.Z)(function*(s){if(s.code!==Xe.FAILED_PRECONDITION||s.message!==ms)throw s;Tt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ep([s,e],[i,a]){const d=Lt(s,i);return 0===d?Lt(e,a):d}class f_{constructor(e){this.ue=e,this.buffer=new Di(ep),this.he=0}le(){return++this.he}fe(e){const i=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ep(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xh{constructor(e,i){this.garbageCollector=e,this.asyncQueue=i,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var i=this;const a=this.de?3e5:6e4;Tt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ye.Z)(function*(){i.we=null,i.de=!0;try{yield e.collectGarbage(i.garbageCollector)}catch(d){hu(d)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Ea(d)}yield i._e(e)}))}}class p_{constructor(e,i){this.me=e,this.params=i}calculateTargetCount(e,i){return this.me.ge(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(0===i)return ct.resolve(Ee.T);const a=new f_(i);return this.me.forEachTarget(e,d=>a.fe(d.sequenceNumber)).next(()=>this.me.ye(e,d=>a.fe(d))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.me.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.me.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Jg)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jg):this.pe(e,i))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,i){let a,d,g,E,P,q,re;const fe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),d=this.params.maximumSequenceNumbersToCollect):d=Re,E=Date.now(),this.nthSequenceNumber(e,d))).next(Re=>(a=Re,P=Date.now(),this.removeTargets(e,a,i))).next(Re=>(g=Re,q=Date.now(),this.removeOrphanedDocuments(e,a))).next(Re=>(re=Date.now(),Oa()<=Gt.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-fe}ms\n\tDetermined least recently used ${d} in `+(P-E)+`ms\n\tRemoved ${g} targets in `+(q-P)+`ms\n\tRemoved ${Re} documents in `+(re-q)+`ms\nTotal Duration: ${re-fe}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:g,documentsRemoved:Re})))}}class tm{constructor(e,i){this.db=e,this.garbageCollector=new p_(this,i)}ge(e){const i=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(a=>i.next(d=>a+d))}Te(e){let i=0;return this.ye(e,a=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}ye(e,i){return this.Ee(e,(a,d)=>i(d))}addReference(e,i,a){return Id(e,a)}removeReference(e,i,a){return Id(e,a)}removeTargets(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)}markPotentiallyOrphaned(e,i){return Id(e,i)}Ie(e,i){return function(a,d){let g=!1;return Jf(a).jt(E=>em(a,E,d).next(P=>(P&&(g=!0),ct.resolve(!P)))).next(()=>g)}(e,i)}removeOrphanedDocuments(e,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let g=0;return this.Ee(e,(E,P)=>{if(P<=i){const q=this.Ie(e,E).next(re=>{if(!re)return g++,a.getEntry(e,E).next(()=>(a.removeEntry(E),Gu(e).delete([0,As(E.path)])))});d.push(q)}}).next(()=>ct.waitFor(d)).next(()=>a.apply(e)).next(()=>g)}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,i){return Id(e,i)}Ee(e,i){const a=Gu(e);let d,g=Ee.T;return a.Kt({index:ee.documentTargetsIndex},([E,P],{path:q,sequenceNumber:re})=>{0===E?(g!==Ee.T&&i(new Xt(ba(d)),g),g=re,d=q):g=Ee.T}).next(()=>{g!==Ee.T&&i(new Xt(ba(d)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Id(s,e){return Gu(s).put((a=s.currentSequenceNumber,new ee(0,As(e.path),a)));var a}class Wc{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(const[d,g]of a)if(this.equalsFn(d,e))return g}has(e){return void 0!==this.get(e)}set(e,i){const a=this.mapKeyFn(e),d=this.inner[a];if(void 0!==d){for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],e))return void(d[g]=[e,i]);d.push([e,i])}else this.inner[a]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return 1===a.length?delete this.inner[i]:a.splice(d,1),!0;return!1}forEach(e){Ci(this.inner,(i,a)=>{for(const[d,g]of a)e(d,g)})}isEmpty(){return Zo(this.inner)}}class Mh{constructor(){this.changes=new Wc(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:hn.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:ti.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?ct.resolve(a.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nm{constructor(e,i){this.N=e,this.Ht=i}addEntry(e,i,a){return zu(e).put(Sl(i),a)}removeEntry(e,i){const a=zu(e),d=Sl(i);return a.delete(d)}updateMetadata(e,i){return this.getMetadata(e).next(a=>(a.byteSize+=i,this.Ae(e,a)))}getEntry(e,i){return zu(e).get(Sl(i)).next(a=>this.Re(i,a))}be(e,i){return zu(e).get(Sl(i)).next(a=>({document:this.Re(i,a),size:Ah(a)}))}getEntries(e,i){let a=wo();return this.Pe(e,i,(d,g)=>{const E=this.Re(d,g);a=a.insert(d,E)}).next(()=>a)}ve(e,i){let a=wo(),d=new Gi(Xt.comparator);return this.Pe(e,i,(g,E)=>{const P=this.Re(g,E);a=a.insert(g,P),d=d.insert(g,Ah(E))}).next(()=>({documents:a,Ve:d}))}Pe(e,i,a){if(i.isEmpty())return ct.resolve();const d=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),g=i.getIterator();let E=g.getNext();return zu(e).Kt({range:d},(P,q,re)=>{const fe=Xt.fromSegments(P);for(;E&&Xt.comparator(E,fe)<0;)a(E,null),E=g.getNext();E&&E.isEqual(fe)&&(a(E,q),E=g.hasNext()?g.getNext():null),E?re.Mt(E.path.toArray()):re.done()}).next(()=>{for(;E;)a(E,null),E=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,i,a){let d=wo();const g=i.path.length+1,E={};if(a.isEqual(hn.min())){const P=i.path.toArray();E.range=IDBKeyRange.lowerBound(P)}else{const P=i.path.toArray(),q=Ed(a);E.range=IDBKeyRange.lowerBound([P,q],!0),E.index=f.collectionReadTimeIndex}return zu(e).Kt(E,(P,q,re)=>{if(P.length!==g)return;const fe=Ua(this.N,q);i.path.isPrefixOf(fe.key.path)?Fc(i,fe)&&(d=d.insert(fe.key,fe)):re.done()}).next(()=>d)}newChangeBuffer(e){return new Oh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return Td(e).get(C.key).next(i=>(wn(!!i),i))}Ae(e,i){return Td(e).put(C.key,i)}Re(e,i){if(i){const a=Ua(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(hn.min()))return a}return ti.newInvalidDocument(e)}}class Oh extends Mh{constructor(e,i){super(),this.Se=e,this.trackRemovals=i,this.De=new Wc(a=>a.toString(),(a,d)=>a.isEqual(d))}applyChanges(e){const i=[];let a=0,d=new Di((g,E)=>Lt(g.canonicalString(),E.canonicalString()));return this.changes.forEach((g,E)=>{const P=this.De.get(g);if(E.document.isValidDocument()){const q=Ch(this.Se.N,E.document,this.getReadTime(g));d=d.add(g.path.popLast()),a+=Ah(q)-P,i.push(this.Se.addEntry(e,g,q))}else if(a-=P,this.trackRemovals){const q=Ch(this.Se.N,ti.newNoDocument(g,hn.min()),this.getReadTime(g));i.push(this.Se.addEntry(e,g,q))}else i.push(this.Se.removeEntry(e,g))}),d.forEach(g=>{i.push(this.Se.Ht.addToCollectionParentIndex(e,g))}),i.push(this.Se.updateMetadata(e,a)),ct.waitFor(i)}getFromCache(e,i){return this.Se.be(e,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(e,i){return this.Se.ve(e,i).next(({documents:a,Ve:d})=>(d.forEach((g,E)=>{this.De.set(g,E)}),a))}}function Td(s){return yi(s,C.store)}function zu(s){return yi(s,f.store)}function Sl(s){return s.path.toArray()}class rm{constructor(e){this.N=e}Ct(e,i,a,d){wn(a<d&&a>=0&&d<=11);const g=new yc("createOrUpgrade",i);var P;a<1&&d>=1&&(e.createObjectStore(Go.store),(P=e).createObjectStore(du.store,{keyPath:du.keyPath}),P.createObjectStore(ai.store,{keyPath:ai.keyPath,autoIncrement:!0}).createIndex(ai.userMutationsIndex,ai.userMutationsKeyPath,{unique:!0}),P.createObjectStore(Ps.store),Nh(e),function(P){P.createObjectStore(f.store)}(e));let E=ct.resolve();return a<3&&d>=3&&(0!==a&&(function(P){P.deleteObjectStore(ee.store),P.deleteObjectStore(B.store),P.deleteObjectStore(Se.store)}(e),Nh(e)),E=E.next(()=>function(P){const q=P.store(Se.store),re=new Se(0,0,hn.min().toTimestamp(),0);return q.put(Se.key,re)}(g))),a<4&&d>=4&&(0!==a&&(E=E.next(()=>function(P,q){return q.store(ai.store).Lt().next(re=>{P.deleteObjectStore(ai.store),P.createObjectStore(ai.store,{keyPath:ai.keyPath,autoIncrement:!0}).createIndex(ai.userMutationsIndex,ai.userMutationsKeyPath,{unique:!0});const fe=q.store(ai.store),Re=re.map(it=>fe.put(it));return ct.waitFor(Re)})}(e,g))),E=E.next(()=>{!function(P){P.createObjectStore(Mt.store,{keyPath:Mt.keyPath})}(e)})),a<5&&d>=5&&(E=E.next(()=>this.Ce(g))),a<6&&d>=6&&(E=E.next(()=>(function(P){P.createObjectStore(C.store)}(e),this.Ne(g)))),a<7&&d>=7&&(E=E.next(()=>this.xe(g))),a<8&&d>=8&&(E=E.next(()=>this.ke(e,g))),a<9&&d>=9&&(E=E.next(()=>{(function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")})(e),function(P){const q=P.objectStore(f.store);q.createIndex(f.readTimeIndex,f.readTimeIndexPath,{unique:!1}),q.createIndex(f.collectionReadTimeIndex,f.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&d>=10&&(E=E.next(()=>this.$e(g))),a<11&&d>=11&&(E=E.next(()=>{(function(P){P.createObjectStore(tn.store,{keyPath:tn.keyPath})})(e),function(P){P.createObjectStore(Dn.store,{keyPath:Dn.keyPath})}(e)})),E}Ne(e){let i=0;return e.store(f.store).Kt((a,d)=>{i+=Ah(d)}).next(()=>{const a=new C(i);return e.store(C.store).put(C.key,a)})}Ce(e){const i=e.store(du.store),a=e.store(ai.store);return i.Lt().next(d=>ct.forEach(d,g=>{const E=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return a.Lt(ai.userMutationsIndex,E).next(P=>ct.forEach(P,q=>{wn(q.userId===g.userId);const re=Gc(this.N,q);return Xg(e,g.userId,re).next(()=>{})}))}))}xe(e){const i=e.store(ee.store),a=e.store(f.store);return e.store(Se.store).get(Se.key).next(d=>{const g=[];return a.Kt((E,P)=>{const q=new Vn(E),re=[0,As(q)];g.push(i.get(re).next(fe=>fe?ct.resolve():i.put(new ee(0,As(q),d.highestListenSequenceNumber))))}).next(()=>ct.waitFor(g))})}ke(e,i){e.createObjectStore(tt.store,{keyPath:tt.keyPath});const a=i.store(tt.store),d=new Th,g=E=>{if(d.add(E)){const P=E.lastSegment(),q=E.popLast();return a.put({collectionId:P,parent:As(q)})}};return i.store(f.store).Kt({qt:!0},(E,P)=>{const q=new Vn(E);return g(q.popLast())}).next(()=>i.store(Ps.store).Kt({qt:!0},([E,P,q],re)=>{const fe=ba(P);return g(fe.popLast())}))}$e(e){const i=e.store(B.store);return i.Kt((a,d)=>{const g=Dl(d),E=Ih(this.N,g);return i.put(E)})}}function Nh(s){s.createObjectStore(ee.store,{keyPath:ee.keyPath}).createIndex(ee.documentTargetsIndex,ee.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(B.store,{keyPath:B.keyPath}).createIndex(B.queryTargetsIndexName,B.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Se.store)}const Kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tp{constructor(e,i,a,d,g,E,P,q,re,fe){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Oe=g,this.window=E,this.document=P,this.Fe=re,this.Me=fe,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Re=>Promise.resolve(),!tp.bt())throw new gt(Xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tm(this,d),this.We=i+"main",this.N=new c_(q),this.Ge=new zo(this.We,11,new rm(this.N)),this.ze=new h_(this.referenceDelegate,this.N),this.Ht=new d_,this.He=new nm(this.N,this.Ht),this.Je=new Qg,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===fe&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(Xe.FAILED_PRECONDITION,Kc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ee(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var i=this;return this.Qe=function(){var a=(0,ye.Z)(function*(d){if(i.started)return e(d)});return function(d){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var i=(0,ye.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ye.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rh(e).put(new Mt(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(i=>this.isPrimary&&!i?this.on(e).next(()=>!1):!!i&&this.an(e).next(()=>!0))).catch(e=>{if(hu(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return xl(e).get(Go.key).next(i=>ct.resolve(this.cn(i)))}un(e){return Rh(e).delete(this.clientId)}hn(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const d=yi(a,Mt.store);return d.Lt().next(g=>{const E=e.fn(g,18e5),P=g.filter(q=>-1===E.indexOf(q));return ct.forEach(P,q=>d.delete(q.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Ye)for(const a of i)e.Ye.removeItem(e.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?ct.resolve(!0):xl(e).get(Go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new gt(Xe.FAILED_PRECONDITION,Kc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rh(e).Lt().next(a=>void 0===this.fn(a,5e3).find(d=>{if(this.clientId!==d.clientId){const E=!this.inForeground&&d.inForeground,P=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||E&&P)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Tt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Go.store,Mt.store],i=>{const a=new Zu(i,Ee.T);return e.on(a).next(()=>e.un(a))}),e.Ge.close(),e.yn()})()}fn(e,i){return e.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Rh(e).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(e){return Qf.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,i,a){let g;return Tt("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===i?"readonly":"readwrite",An,E=>(g=new Zu(E,this.Le?this.Le.next():Ee.T),"readwrite-primary"===i?this.sn(g).next(P=>!!P||this.rn(g)).next(P=>{if(!P)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new gt(Xe.FAILED_PRECONDITION,ms);return a(g)}).next(P=>this.an(g).next(()=>P)):this.Tn(g).next(()=>a(g)))).then(E=>(g.raiseOnCommittedEvent(),E))}Tn(e){return xl(e).get(Go.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new gt(Xe.FAILED_PRECONDITION,Kc)})}an(e){const i=new Go(this.clientId,this.allowTabSynchronization,Date.now());return xl(e).put(Go.key,i)}static bt(){return zo.bt()}on(e){const i=xl(e);return i.get(Go.key).next(a=>this.cn(a)?(Tt("IndexedDbPersistence","Releasing primary lease."),i.delete(Go.key)):ct.resolve())}ln(e,i){const a=Date.now();return!(e<a-i||e>a&&(br(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,qe.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return br("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xl(s){return yi(s,Go.store)}function Rh(s){return yi(s,Mt.store)}function np(s,e){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+e+"/"+i+"/"}class im{constructor(e,i){this.progress=e,this.En=i}}class Ph{constructor(e,i,a){this.He=e,this.In=i,this.Ht=a}An(e,i){return this.In.getAllMutationBatchesAffectingDocumentKey(e,i).next(a=>this.Rn(e,i,a))}Rn(e,i,a){return this.He.getEntry(e,i).next(d=>{for(const g of a)g.applyToLocalView(d);return d})}bn(e,i){e.forEach((a,d)=>{for(const g of i)g.applyToLocalView(d)})}Pn(e,i){return this.He.getEntries(e,i).next(a=>this.vn(e,a).next(()=>a))}vn(e,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(e,i,a){return Xt.isDocumentKey((d=i).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(e,i.path):lc(i)?this.Sn(e,i,a):this.Dn(e,i,a);var d}Vn(e,i){return this.An(e,new Xt(i)).next(a=>{let d=cd();return a.isFoundDocument()&&(d=d.insert(a.key,a)),d})}Sn(e,i,a){const d=i.collectionGroup;let g=cd();return this.Ht.getCollectionParents(e,d).next(E=>ct.forEach(E,P=>{const q=(re=i,fe=P.child(d),new $o(fe,null,re.explicitOrderBy.slice(),re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt));var re,fe;return this.Dn(e,q,a).next(re=>{re.forEach((fe,Re)=>{g=g.insert(fe,Re)})})}).next(()=>g))}Dn(e,i,a){let d,g;return this.He.getDocumentsMatchingQuery(e,i,a).next(E=>(d=E,this.In.getAllMutationBatchesAffectingQuery(e,i))).next(E=>(g=E,this.Cn(e,g,d).next(P=>{d=P;for(const q of g)for(const re of q.mutations){const fe=re.key;let Re=d.get(fe);null==Re&&(Re=ti.newInvalidDocument(fe),d=d.insert(fe,Re)),ad(re,Re,q.localWriteTime),Re.isFoundDocument()||(d=d.remove(fe))}}))).next(()=>(d.forEach((E,P)=>{Fc(i,P)||(d=d.remove(E))}),d))}Cn(e,i,a){let d=Vr();for(const E of i)for(const P of E.mutations)P instanceof Va&&null===a.get(P.key)&&(d=d.add(P.key));let g=a;return this.He.getEntries(e,d).next(E=>(E.forEach((P,q)=>{q.isFoundDocument()&&(g=g.insert(P,q))}),g))}}class kh{constructor(e,i,a,d){this.targetId=e,this.fromCache=i,this.Nn=a,this.xn=d}static kn(e,i){let a=Vr(),d=Vr();for(const g of i.docChanges)switch(g.type){case 0:a=a.add(g.doc.key);break;case 1:d=d.add(g.doc.key)}return new kh(e,i.fromCache,a,d)}}class g_{$n(e){this.On=e}getDocumentsMatchingQuery(e,i,a,d){return 0===(g=i).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||a.isEqual(hn.min())?this.Fn(e,i):this.On.Pn(e,d).next(g=>{const E=this.Mn(i,g);return(Ka(i)||La(i))&&this.Ln(i.limitType,E,d,a)?this.Fn(e,i):(Oa()<=Gt.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(i)),this.On.getDocumentsMatchingQuery(e,i,a).next(P=>(E.forEach(q=>{P=P.insert(q.key,q)}),P)))});var g}Mn(e,i){let a=new Di(Nu(e));return i.forEach((d,g)=>{Fc(e,g)&&(a=a.add(g))}),a}Ln(e,i,a,d){if(a.size!==i.size)return!0;const g="F"===e?i.last():i.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(d)>0)}Fn(e,i){return Oa()<=Gt.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",ll(i)),this.On.getDocumentsMatchingQuery(e,i,hn.min())}}class sm{constructor(e,i,a,d){this.persistence=e,this.Bn=i,this.N=d,this.Un=new Gi(Lt),this.qn=new Wc(g=>x(g),Q),this.Kn=hn.min(),this.In=e.getMutationQueue(a),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Ph(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Un))}}function om(s,e,i,a){return new sm(s,e,i,a)}function rp(s,e){return ip.apply(this,arguments)}function ip(){return(ip=(0,ye.Z)(function*(s,e){const i=St(s);let a=i.In,d=i.Qn;const g=yield i.persistence.runTransaction("Handle user change","readonly",E=>{let P;return i.In.getAllMutationBatches(E).next(q=>(P=q,a=i.persistence.getMutationQueue(e),d=new Ph(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(E))).next(q=>{const re=[],fe=[];let Re=Vr();for(const it of P){re.push(it.batchId);for(const ft of it.mutations)Re=Re.add(ft.key)}for(const it of q){fe.push(it.batchId);for(const ft of it.mutations)Re=Re.add(ft.key)}return d.Pn(E,Re).next(it=>({Wn:it,removedBatchIds:re,addedBatchIds:fe}))})});return i.In=a,i.Qn=d,i.Bn.$n(i.Qn),g})).apply(this,arguments)}function m_(s,e){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const d=e.batch.keys(),g=i.jn.newChangeBuffer({trackRemovals:!0});return function(E,P,q,re){const fe=q.batch,Re=fe.keys();let it=ct.resolve();return Re.forEach(ft=>{it=it.next(()=>re.getEntry(P,ft)).next(Ot=>{const yn=q.docVersions.get(ft);wn(null!==yn),Ot.version.compareTo(yn)<0&&(fe.applyToRemoteDocument(Ot,q),Ot.isValidDocument()&&re.addEntry(Ot,q.commitVersion))})}),it.next(()=>E.In.removeMutationBatch(P,fe))}(i,a,e,g).next(()=>g.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,d))})}function Ba(s){const e=St(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ze.getLastRemoteSnapshotVersion(i))}function y_(s,e){const i=St(s),a=e.snapshotVersion;let d=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const E=i.jn.newChangeBuffer({trackRemovals:!0});d=i.Un;const P=[];e.targetChanges.forEach((re,fe)=>{const Re=d.get(fe);if(!Re)return;P.push(i.ze.removeMatchingKeys(g,re.removedDocuments,fe).next(()=>i.ze.addMatchingKeys(g,re.addedDocuments,fe)));const it=re.resumeToken;if(it.approximateByteSize()>0){const ft=Re.withResumeToken(it,a).withSequenceNumber(g.currentSequenceNumber);d=d.insert(fe,ft),Ot=Re,ir=re,wn((yn=ft).resumeToken.approximateByteSize()>0),(0===Ot.resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-Ot.snapshotVersion.toMicroseconds()>=3e8||ir.addedDocuments.size+ir.modifiedDocuments.size+ir.removedDocuments.size>0)&&P.push(i.ze.updateTargetData(g,ft))}var Ot,yn,ir});let q=wo();if(e.documentUpdates.forEach((re,fe)=>{e.resolvedLimboDocuments.has(re)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(g,re))}),P.push(sp(g,E,e.documentUpdates,a,void 0).next(re=>{q=re})),!a.isEqual(hn.min())){const re=i.ze.getLastRemoteSnapshotVersion(g).next(fe=>i.ze.setTargetsMetadata(g,g.currentSequenceNumber,a));P.push(re)}return ct.waitFor(P).next(()=>E.apply(g)).next(()=>i.Qn.vn(g,q)).next(()=>q)}).then(g=>(i.Un=d,g))}function sp(s,e,i,a,d){let g=Vr();return i.forEach(E=>g=g.add(E)),e.getEntries(s,g).next(E=>{let P=wo();return i.forEach((q,re)=>{const fe=E.get(q),Re=(null==d?void 0:d.get(q))||a;re.isNoDocument()&&re.version.isEqual(hn.min())?(e.removeEntry(q,Re),P=P.insert(q,re)):!fe.isValidDocument()||re.version.compareTo(fe.version)>0||0===re.version.compareTo(fe.version)&&fe.hasPendingWrites?(e.addEntry(re,Re),P=P.insert(q,re)):Tt("LocalStore","Ignoring outdated watch update for ",q,". Current version:",fe.version," Watch version:",re.version)}),P})}function __(s,e){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),i.In.getNextMutationBatchAfterBatchId(a,e)))}function Ml(s,e){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let d;return i.ze.getTargetData(a,e).next(g=>g?(d=g,ct.resolve(d)):i.ze.allocateTargetId(a).next(E=>(d=new Hu(e,E,0,a.currentSequenceNumber),i.ze.addTargetData(a,d).next(()=>d))))}).then(a=>{const d=i.Un.get(a.targetId);return(null===d||a.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(e,a.targetId)),a})}function Ol(s,e,i){return op.apply(this,arguments)}function op(){return(op=(0,ye.Z)(function*(s,e,i){const a=St(s),d=a.Un.get(e),g=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",g,E=>a.persistence.referenceDelegate.removeTarget(E,d)))}catch(E){if(!hu(E))throw E;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}a.Un=a.Un.remove(e),a.qn.delete(d.target)})).apply(this,arguments)}function Dd(s,e,i){const a=St(s);let d=hn.min(),g=Vr();return a.persistence.runTransaction("Execute query","readonly",E=>function(P,q,re){const fe=St(P),Re=fe.qn.get(re);return void 0!==Re?ct.resolve(fe.Un.get(Re)):fe.ze.getTargetData(q,re)}(a,E,Ns(e)).next(P=>{if(P)return d=P.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(E,P.targetId).next(q=>{g=q})}).next(()=>a.Bn.getDocumentsMatchingQuery(E,e,i?d:hn.min(),i?g:Vr())).next(P=>({documents:P,Gn:g})))}function am(s,e){const i=St(s),a=St(i.ze),d=i.Un.get(e);return d?Promise.resolve(d.target):i.persistence.runTransaction("Get target data","readonly",g=>a.Tt(g,e).next(E=>E?E.target:null))}function um(s){const e=St(s);return e.persistence.runTransaction("Get new document changes","readonly",i=>function(a,d,g){const E=St(a);let P=wo(),q=Ed(g);const re=zu(d),fe=IDBKeyRange.lowerBound(q,!0);return re.Kt({index:f.readTimeIndex,range:fe},(Re,it)=>{const ft=Ua(E.N,it);P=P.insert(ft.key,ft),q=it.readTime}).next(()=>({En:P,readTime:Yg(q)}))}(e.jn,i,e.Kn)).then(({En:i,readTime:a})=>(e.Kn=a,i))}function $n(){return($n=(0,ye.Z)(function*(s){const e=St(s);return e.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const d=zu(a);let g=hn.min();return d.Kt({index:f.readTimeIndex,reverse:!0},(E,P,q)=>{P.readTime&&(g=Yg(P.readTime)),q.done()}).next(()=>g)}(i)).then(i=>{e.Kn=i})})).apply(this,arguments)}function Fh(){return(Fh=(0,ye.Z)(function*(s,e,i,a){const d=St(s);let g=Vr(),E=wo(),P=mh();for(const fe of i){const Re=e.zn(fe.metadata.name);fe.document&&(g=g.add(Re)),E=E.insert(Re,e.Hn(fe)),P=P.insert(Re,e.Jn(fe.metadata.readTime))}const q=d.jn.newChangeBuffer({trackRemovals:!0}),re=yield Ml(d,(fe=a,Ns(Wa(Vn.fromString(`__bundle__/docs/${fe}`)))));var fe;return d.persistence.runTransaction("Apply bundle documents","readwrite",fe=>sp(fe,q,E,hn.min(),P).next(Re=>(q.apply(fe),Re)).next(Re=>d.ze.removeMatchingKeysForTargetId(fe,re.targetId).next(()=>d.ze.addMatchingKeys(fe,g,re.targetId)).next(()=>d.Qn.vn(fe,Re)).next(()=>Re)))})).apply(this,arguments)}function Lh(s,e){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,ye.Z)(function*(s,e,i=Vr()){const a=yield Ml(s,Ns(Cd(e.bundledQuery))),d=St(s);return d.persistence.runTransaction("Save named query","readwrite",g=>{const E=Rs(e.readTime);if(a.snapshotVersion.compareTo(E)>=0)return d.Je.saveNamedQuery(g,e);const P=a.withResumeToken(qi.EMPTY_BYTE_STRING,E);return d.Un=d.Un.insert(P.targetId,P),d.ze.updateTargetData(g,P).next(()=>d.ze.removeMatchingKeysForTargetId(g,a.targetId)).next(()=>d.ze.addMatchingKeys(g,i,a.targetId)).next(()=>d.Je.saveNamedQuery(g,e))})})).apply(this,arguments)}class lm{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,i){return ct.resolve(this.Yn.get(i))}saveBundleMetadata(e,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:Rs(a.createTime)}),ct.resolve()}getNamedQuery(e,i){return ct.resolve(this.Xn.get(i))}saveNamedQuery(e,i){return this.Xn.set(i.name,{name:(a=i).name,query:Cd(a.bundledQuery),readTime:Rs(a.readTime)}),ct.resolve();var a}}class ap{constructor(){this.Zn=new Di(ks.ts),this.es=new Di(ks.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,i){const a=new ks(e,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.rs(new ks(e,i))}os(e,i){e.forEach(a=>this.removeReference(a,i))}cs(e){const i=new Xt(new Vn([])),a=new ks(i,e),d=new ks(i,e+1),g=[];return this.es.forEachInRange([a,d],E=>{this.rs(E),g.push(E.key)}),g}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const i=new Xt(new Vn([])),a=new ks(i,e),d=new ks(i,e+1);let g=Vr();return this.es.forEachInRange([a,d],E=>{g=g.add(E.key)}),g}containsKey(e){const i=new ks(e,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)}}class ks{constructor(e,i){this.key=e,this.ls=i}static ts(e,i){return Xt.comparator(e.key,i.key)||Lt(e.ls,i.ls)}static ns(e,i){return Lt(e.ls,i.ls)||Xt.comparator(e.key,i.key)}}class Wu{constructor(e,i){this.Ht=e,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new Di(ks.ts)}checkEmpty(e){return ct.resolve(0===this.In.length)}addMutationBatch(e,i,a,d){const g=this.fs;this.fs++;const E=new Eh(g,i,a,d);this.In.push(E);for(const P of d)this.ds=this.ds.add(new ks(P.key,g)),this.Ht.addToCollectionParentIndex(e,P.key.path.popLast());return ct.resolve(E)}lookupMutationBatch(e,i){return ct.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(e,i){const d=this._s(i+1),g=d<0?0:d;return ct.resolve(this.In.length>g?this.In[g]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return ct.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new ks(i,0),d=new ks(i,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([a,d],E=>{const P=this.ws(E.ls);g.push(P)}),ct.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Di(Lt);return i.forEach(d=>{const g=new ks(d,0),E=new ks(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,E],P=>{a=a.add(P.ls)})}),ct.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,d=a.length+1;let g=a;Xt.isDocumentKey(g)||(g=g.child(""));const E=new ks(new Xt(g),0);let P=new Di(Lt);return this.ds.forEachWhile(q=>{const re=q.key.path;return!!a.isPrefixOf(re)&&(re.length===d&&(P=P.add(q.ls)),!0)},E),ct.resolve(this.gs(P))}gs(e){const i=[];return e.forEach(a=>{const d=this.ws(a);null!==d&&i.push(d)}),i}removeMutationBatch(e,i){wn(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return ct.forEach(i.mutations,d=>{const g=new ks(d.key,i.batchId);return a=a.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.ds=a})}te(e){}containsKey(e,i){const a=new ks(i,0),d=this.ds.firstAfterOrEqual(a);return ct.resolve(i.isEqual(d&&d.key))}performConsistencyCheck(e){return ct.resolve()}ys(e,i){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const i=this._s(e);return i<0||i>=this.In.length?null:this.In[i]}}class up{constructor(e,i){this.Ht=e,this.ps=i,this.docs=new Gi(Xt.comparator),this.size=0}addEntry(e,i,a){const d=i.key,g=this.docs.get(d),E=g?g.size:0,P=this.ps(i);return this.docs=this.docs.insert(d,{document:i.clone(),size:P,readTime:a}),this.size+=P-E,this.Ht.addToCollectionParentIndex(e,d.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ct.resolve(a?a.document.clone():ti.newInvalidDocument(i))}getEntries(e,i){let a=wo();return i.forEach(d=>{const g=this.docs.get(d);a=a.insert(d,g?g.document.clone():ti.newInvalidDocument(d))}),ct.resolve(a)}getDocumentsMatchingQuery(e,i,a){let d=wo();const g=new Xt(i.path.child("")),E=this.docs.getIteratorFrom(g);for(;E.hasNext();){const{key:P,value:{document:q,readTime:re}}=E.getNext();if(!i.path.isPrefixOf(P.path))break;re.compareTo(a)<=0||Fc(i,q)&&(d=d.insert(q.key,q.clone()))}return ct.resolve(d)}Ts(e,i){return ct.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new dm(this)}getSize(e){return ct.resolve(this.size)}}class dm extends Mh{constructor(e){super(),this.Se=e}applyChanges(e){const i=[];return this.changes.forEach((a,d)=>{d.document.isValidDocument()?i.push(this.Se.addEntry(e,d.document,this.getReadTime(a))):this.Se.removeEntry(a)}),ct.waitFor(i)}getFromCache(e,i){return this.Se.getEntry(e,i)}getAllFromCache(e,i){return this.Se.getEntries(e,i)}}class cp{constructor(e){this.persistence=e,this.Es=new Wc(i=>x(i),Q),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.Is=0,this.As=new ap,this.targetCount=0,this.Rs=qu.se()}forEachTarget(e,i){return this.Es.forEach((a,d)=>i(d)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),ct.resolve()}ae(e){this.Es.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Rs=new qu(i),this.highestTargetId=i),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,i){return this.ae(i),this.targetCount+=1,ct.resolve()}updateTargetData(e,i){return this.ae(i),ct.resolve()}removeTargetData(e,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,i,a){let d=0;const g=[];return this.Es.forEach((E,P)=>{P.sequenceNumber<=i&&null===a.get(P.targetId)&&(this.Es.delete(E),g.push(this.removeMatchingKeysForTargetId(e,P.targetId)),d++)}),ct.waitFor(g).next(()=>d)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,i){const a=this.Es.get(i)||null;return ct.resolve(a)}addMatchingKeys(e,i,a){return this.As.ss(i,a),ct.resolve()}removeMatchingKeys(e,i,a){this.As.os(i,a);const d=this.persistence.referenceDelegate,g=[];return d&&i.forEach(E=>{g.push(d.markPotentiallyOrphaned(e,E))}),ct.waitFor(g)}removeMatchingKeysForTargetId(e,i){return this.As.cs(i),ct.resolve()}getMatchingKeysForTargetId(e,i){const a=this.As.hs(i);return ct.resolve(a)}containsKey(e,i){return ct.resolve(this.As.containsKey(i))}}class xw{constructor(e,i){this.bs={},this.Le=new Ee(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new cp(this),this.Ht=new Yf,this.He=new up(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new c_(i),this.Je=new lm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new Wu(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,i,a){Tt("MemoryPersistence","Starting transaction:",e);const d=new hm(this.Le.next());return this.referenceDelegate.vs(),a(d).next(g=>this.referenceDelegate.Vs(d).next(()=>g)).toPromise().then(g=>(d.raiseOnCommittedEvent(),g))}Ss(e,i){return ct.or(Object.values(this.bs).map(a=>()=>a.containsKey(e,i)))}}class hm extends bo{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ds=new ap,this.Cs=null}static Ns(e){return new fm(e)}get xs(){if(this.Cs)return this.Cs;throw Yt()}addReference(e,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),ct.resolve()}removeReference(e,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),ct.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),ct.resolve()}removeTarget(e,i){this.Ds.cs(i.targetId).forEach(d=>this.xs.add(d.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(d=>{d.forEach(g=>this.xs.add(g.toString()))}).next(()=>a.removeTargetData(e,i))}vs(){this.Cs=new Set}Vs(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.xs,a=>{const d=Xt.fromPath(a);return this.ks(e,d).next(g=>{g||i.removeEntry(d)})}).next(()=>(this.Cs=null,i.apply(e)))}updateLimboDocument(e,i){return this.ks(e,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(e){return 0}ks(e,i){return ct.or([()=>ct.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ss(e,i)])}}function gu(s,e){return`firestore_clients_${s}_${e}`}function Ad(s,e,i){let a=`firestore_mutations_${s}_${i}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Nl(s,e){return`firestore_targets_${s}_${e}`}class Rl{constructor(e,i,a,d){this.user=e,this.batchId=i,this.state=a,this.error=d}static $s(e,i,a){const d=JSON.parse(a);let g,E="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return E&&d.error&&(E="string"==typeof d.error.message&&"string"==typeof d.error.code,E&&(g=new gt(d.error.code,d.error.message))),E?new Rl(e,i,d.state,g):(br("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,i,a){this.targetId=e,this.state=i,this.error=a}static $s(e,i){const a=JSON.parse(i);let d,g="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(d=new gt(a.error.code,a.error.message))),g?new Vh(e,a.state,d):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uh{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static $s(e,i){const a=JSON.parse(i);let d="object"==typeof a&&a.activeTargetIds instanceof Array,g=jc();for(let E=0;d&&E<a.activeTargetIds.length;++E)d=uc(a.activeTargetIds[E]),g=g.add(a.activeTargetIds[E]);return d?new Uh(e,g):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class Bh{constructor(e,i){this.clientId=e,this.onlineState=i}static $s(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Bh(i.clientId,i.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class pm{constructor(){this.activeTargetIds=jc()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lp{constructor(e,i,a,d,g){this.window=e,this.Oe=i,this.persistenceKey=a,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Gi(Lt),this.started=!1,this.Ks=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.js=gu(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new pm),this.Ws=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(P){return`firestore_bundle_loaded_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const i=yield e.syncEngine.pn();for(const d of i){if(d===e.Ls)continue;const g=e.getItem(gu(e.persistenceKey,d));if(g){const E=Uh.$s(d,g);E&&(e.qs=e.qs.insert(E.clientId,E))}}e.Ys();const a=e.storage.getItem(e.Hs);if(a){const d=e.Xs(a);d&&e.Zs(d)}for(const d of e.Ks)e.Us(d);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let i=!1;return this.qs.forEach((a,d)=>{d.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,i,a){this.ei(e,i,a),this.ni(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Nl(this.persistenceKey,e));if(a){const d=Vh.$s(e,a);d&&(i=d.state)}}return this.si.Fs(e),this.Ys(),i}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nl(this.persistenceKey,e))}updateQueryState(e,i,a){this.ii(e,i,a)}handleUserChange(e,i,a){i.forEach(d=>{this.ni(d)}),this.currentUser=e,a.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Tt("SharedClientState","READ",e,i),i}setItem(e,i){Tt("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var i=this;const a=e;if(a.storageArea===this.storage){if(Tt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const d=i.ai(a.key);return i.ci(d,null)}{const d=i.ui(a.key,a.newValue);if(d)return i.ci(d.clientId,d)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const d=i.hi(a.key,a.newValue);if(d)return i.li(d)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const d=i.fi(a.key,a.newValue);if(d)return i.di(d)}}else if(a.key===i.Hs){if(null!==a.newValue){const d=i.Xs(a.newValue);if(d)return i.Zs(d)}}else if(a.key===i.Qs){const d=function(g){let E=Ee.T;if(null!=g)try{const P=JSON.parse(g);wn("number"==typeof P),E=P}catch(P){br("SharedClientState","Failed to read sequence number from WebStorage",P)}return E}(a.newValue);d!==Ee.T&&i.sequenceNumberHandler(d)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,i,a){const d=new Rl(this.currentUser,e,i,a),g=Ad(this.persistenceKey,this.currentUser,e);this.setItem(g,d.Os())}ni(e){const i=Ad(this.persistenceKey,this.currentUser,e);this.removeItem(i)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,i,a){const d=Nl(this.persistenceKey,e),g=new Vh(e,i,a);this.setItem(d,g.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const i=this.Ws.exec(e);return i?i[1]:null}ui(e,i){const a=this.ai(e);return Uh.$s(a,i)}hi(e,i){const a=this.Gs.exec(e),d=Number(a[1]);return Rl.$s(new oi(void 0!==a[2]?a[2]:null),d,i)}fi(e,i){const a=this.zs.exec(e),d=Number(a[1]);return Vh.$s(d,i)}Xs(e){return Bh.$s(e)}li(e){var i=this;return(0,ye.Z)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine._i(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,i){const a=i?this.qs.insert(e,i):this.qs.remove(e),d=this.ti(this.qs),g=this.ti(a),E=[],P=[];return g.forEach(q=>{d.has(q)||E.push(q)}),d.forEach(q=>{g.has(q)||P.push(q)}),this.syncEngine.gi(E,P).then(()=>{this.qs=a})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let i=jc();return e.forEach((a,d)=>{i=i.unionWith(d.activeTargetIds)}),i}}class w_{constructor(){this.yi=new pm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,i,a){this.pi[e]=i}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new pm,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class gm{Ti(e){}shutdown(){}}class dp{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const b_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hp{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Mw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,i,a,d){const g=this.Bi(e,i);Tt("RestConnection","Sending: ",g,a);const E={};return this.Ui(E,d),this.qi(e,g,E,a).then(P=>(Tt("RestConnection","Received: ",P),P),P=>{throw pa("RestConnection",`${e} failed with error: `,P,"url: ",g,"request:",a),P})}Ki(e,i,a,d){return this.Li(e,i,a,d)}Ui(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])}Bi(e,i){return`${this.Fi}/v1/${i}:${b_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,i,a,d){return new Promise((g,E)=>{const P=new Ma;P.listenOnce(qa.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Zr.NO_ERROR:const re=P.getResponseJson();Tt("Connection","XHR received:",JSON.stringify(re)),g(re);break;case Zr.TIMEOUT:Tt("Connection",'RPC "'+e+'" timed out'),E(new gt(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case Zr.HTTP_ERROR:const fe=P.getStatus();if(Tt("Connection",'RPC "'+e+'" failed with status:',fe,"response text:",P.getResponseText()),fe>0){const Re=P.getResponseJson().error;if(Re&&Re.status&&Re.message){const it=function(ft){const Ot=ft.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(Ot)>=0?Ot:Xe.UNKNOWN}(Re.status);E(new gt(it,Re.message))}else E(new gt(Xe.UNKNOWN,"Server responded with status "+P.getStatus()))}else E(new gt(Xe.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{Tt("Connection",'RPC "'+e+'" completed.')}});const q=JSON.stringify(d);P.send(i,"POST",q,a,15)})}ji(e,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Hs(),g=au(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new _o({})),this.Ui(E.initMessageHeaders,i),(0,qe.uI)()||(0,qe.b$)()||(0,qe.d)()||(0,qe.w1)()||(0,qe.Mn)()||(0,qe.ru)()||(E.httpHeadersOverwriteParam="$httpHeaders");const P=a.join("");Tt("Connection","Creating WebChannel: "+P,E);const q=d.createWebChannel(P,E);let re=!1,fe=!1;const Re=new hp({vi:ft=>{fe?Tt("Connection","Not sending because WebChannel is closed:",ft):(re||(Tt("Connection","Opening WebChannel transport."),q.open(),re=!0),Tt("Connection","WebChannel sending:",ft),q.send(ft))},Vi:()=>q.close()}),it=(ft,Ot,yn)=>{ft.listen(Ot,ir=>{try{yn(ir)}catch(ts){setTimeout(()=>{throw ts},0)}})};return it(q,ea.EventType.OPEN,()=>{fe||Tt("Connection","WebChannel transport opened.")}),it(q,ea.EventType.CLOSE,()=>{fe||(fe=!0,Tt("Connection","WebChannel transport closed"),Re.$i())}),it(q,ea.EventType.ERROR,ft=>{fe||(fe=!0,pa("Connection","WebChannel transport errored:",ft),Re.$i(new gt(Xe.UNAVAILABLE,"The operation could not be completed")))}),it(q,ea.EventType.MESSAGE,ft=>{var Ot;if(!fe){const yn=ft.data[0];wn(!!yn);const ir=yn,ts=ir.error||(null===(Ot=ir[0])||void 0===Ot?void 0:Ot.error);if(ts){Tt("Connection","WebChannel received error:",ts);const $a=ts.status;let su=function(Eu){const nh=gs[Eu];if(void 0!==nh)return Lu(nh)}($a),bu=ts.message;void 0===su&&(su=Xe.INTERNAL,bu="Unknown error status: "+$a+" with message "+ts.message),fe=!0,Re.$i(new gt(su,bu)),q.close()}else Tt("Connection","WebChannel received:",yn),Re.Oi(yn)}}),it(g,ha.STAT_EVENT,ft=>{ft.stat===xa.PROXY?Tt("Connection","Detected buffering proxy"):ft.stat===xa.NOPROXY&&Tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Re.ki()},0),Re}}function E_(){return"undefined"!=typeof window?window:null}function fp(){return"undefined"!=typeof document?document:null}function jh(s){return new Wg(s,!0)}class mm{constructor(e,i,a=1e3,d=1.5,g=6e4){this.Oe=e,this.timerId=i,this.Qi=a,this.Wi=d,this.Gi=g,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),d=Math.max(0,i-a);d>0&&Tt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class C_{constructor(e,i,a,d,g,E){this.Oe=e,this.er=a,this.nr=d,this.credentialsProvider=g,this.listener=E,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new mm(e,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,ye.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,ye.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,i){var a=this;return(0,ye.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==e?a.rr.reset():i&&i.code===Xe.RESOURCE_EXHAUSTED?(br(i.toString()),br("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):i&&i.code===Xe.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ci(i)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===i&&this.yr(a)},a=>{e(()=>{const d=new gt(Xe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(d)})})}yr(e){const i=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.pr(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}ur(){var e=this;this.state=4,this.rr.Xi((0,ye.Z)(function*(){e.state=0,e.start()}))}pr(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return i=>{this.Oe.enqueueAndForget(()=>this.sr===e?i():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends C_{constructor(e,i,a,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle",i,a,g),this.N=d}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const i=function(s,e){let i;if("targetChange"in e){const a="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Yt(),d=e.targetChange.targetIds||[],g=function(q,re){return q.D?(wn(void 0===re||"string"==typeof re),qi.fromBase64String(re||"")):(wn(void 0===re||re instanceof Uint8Array),qi.fromUint8Array(re||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,P=E&&function(q){const re=void 0===q.code?Xe.UNKNOWN:Lu(q.code);return new gt(re,q.message||"")}(E);i=new dd(a,d,g,P||null)}else if("documentChange"in e){const a=e.documentChange,d=qo(s,a.document.name),g=Rs(a.document.updateTime),E=new Is({mapValue:{fields:a.document.fields}}),P=ti.newFoundDocument(d,g,E);i=new Uu(a.targetIds||[],a.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const a=e.documentDelete,d=qo(s,a.document),g=a.readTime?Rs(a.readTime):hn.min(),E=ti.newNoDocument(d,g);i=new Uu([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const a=e.documentRemove,d=qo(s,a.document);i=new Uu([],a.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Yt();{const a=e.filter,g=new Fu(a.count||0);i=new ld(a.targetId,g)}}var q;return i}(this.N,e),a=function(d){if(!("targetChange"in d))return hn.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?hn.min():g.readTime?Rs(g.readTime):hn.min()}(e);return this.listener.Er(i,a)}Ir(e){const i={};i.database=Bu(this.N),i.addTarget=function(d,g){let E;const P=g.target;return E=le(P)?{documents:El(d,P)}:{query:Cl(d,P)},E.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?E.resumeToken=fd(d,g.resumeToken):g.snapshotVersion.compareTo(hn.min())>0&&(E.readTime=_l(d,g.snapshotVersion.toTimestamp())),E}(this.N,e);const a=function(s,e){const i=function(a,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yt()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);a&&(i.labels=a),this.wr(i)}Ar(e){const i={};i.database=Bu(this.N),i.removeTarget=e,this.wr(i)}}class Nw extends C_{constructor(e,i,a,d,g){super(e,"write_stream_connection_backoff","write_stream_idle",i,a,g),this.N=d,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const i=function(s,e){return s&&s.length>0?(wn(void 0!==e),s.map(i=>function(a,d){let g=Rs(a.updateTime?a.updateTime:d);return g.isEqual(hn.min())&&(g=Rs(d)),new jf(g,a.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),a=Rs(e.commitTime);return this.listener.vr(a,i)}return wn(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Bu(this.N),this.wr(e)}Pr(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>lu(this.N,a))};this.wr(i)}}class Rw extends class{}{constructor(e,i,a){super(),this.credentials=e,this.nr=i,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new gt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,i,a){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(e,i,a,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Xe.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new gt(Xe.UNKNOWN,d.toString())})}Ki(e,i,a){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(e,i,a,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Xe.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new gt(Xe.UNKNOWN,d.toString())})}terminate(){this.Dr=!0}}class Pw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(br(i),this.$r=!1):Tt("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class kw{constructor(e,i,a,d,g){var E=this;this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=g,this.Qr.Ti(P=>{a.enqueueAndForget((0,ye.Z)(function*(){var q;vc(E)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,ye.Z)(function*(re){const fe=St(re);fe.Kr.add(4),yield Pl(fe),fe.Wr.set("Unknown"),fe.Kr.delete(4),yield ja(fe)}),function(re){return q.apply(this,arguments)})(E))}))}),this.Wr=new Pw(a,d)}}function ja(s){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ye.Z)(function*(s){if(vc(s))for(const e of s.jr)yield e(!0)})).apply(this,arguments)}function Pl(s){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,ye.Z)(function*(s){for(const e of s.jr)yield e(!1)})).apply(this,arguments)}function kl(s,e){const i=St(s);i.qr.has(e.targetId)||(i.qr.set(e.targetId,e),Hh(i)?mu(i):Ll(i).cr()&&xd(i,e))}function Fl(s,e){const i=St(s),a=Ll(i);i.qr.delete(e),a.cr()&&ym(i,e),0===i.qr.size&&(a.cr()?a.lr():vc(i)&&i.Wr.set("Unknown"))}function xd(s,e){s.Gr.Y(e.targetId),Ll(s).Ir(e)}function ym(s,e){s.Gr.Y(e),Ll(s).Ar(e)}function mu(s){s.Gr=new zg({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>s.qr.get(e)||null}),Ll(s).start(),s.Wr.Or()}function Hh(s){return vc(s)&&!Ll(s).ar()&&s.qr.size>0}function vc(s){return 0===St(s).Kr.size}function I_(s){s.Gr=void 0}function pp(s){return gp.apply(this,arguments)}function gp(){return(gp=(0,ye.Z)(function*(s){s.qr.forEach((e,i)=>{xd(s,e)})})).apply(this,arguments)}function _m(s,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,ye.Z)(function*(s,e){I_(s),Hh(s)?(s.Wr.Lr(e),mu(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function T_(s,e,i){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,ye.Z)(function*(s,e,i){if(s.Wr.set("Online"),e instanceof dd&&2===e.state&&e.cause)try{yield(a=(0,ye.Z)(function*(d,g){const E=g.cause;for(const P of g.targetIds)d.qr.has(P)&&(yield d.remoteSyncer.rejectListen(P,E),d.qr.delete(P),d.Gr.removeTarget(P))}),function(d,g){return a.apply(this,arguments)})(s,e)}catch(a){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Ku(s,a)}else if(e instanceof Uu?s.Gr.rt(e):e instanceof ld?s.Gr.ft(e):s.Gr.ct(e),!i.isEqual(hn.min()))try{const a=yield Ba(s.localStore);i.compareTo(a)>=0&&(yield function(d,g){const E=d.Gr._t(g);return E.targetChanges.forEach((P,q)=>{if(P.resumeToken.approximateByteSize()>0){const re=d.qr.get(q);re&&d.qr.set(q,re.withResumeToken(P.resumeToken,g))}}),E.targetMismatches.forEach(P=>{const q=d.qr.get(P);if(!q)return;d.qr.set(P,q.withResumeToken(qi.EMPTY_BYTE_STRING,q.snapshotVersion)),ym(d,P);const re=new Hu(q.target,P,1,q.sequenceNumber);xd(d,re)}),d.remoteSyncer.applyRemoteEvent(E)}(s,i))}catch(a){Tt("RemoteStore","Failed to raise snapshot:",a),yield Ku(s,a)}var a})).apply(this,arguments)}function Ku(s,e,i){return Md.apply(this,arguments)}function Md(){return(Md=(0,ye.Z)(function*(s,e,i){if(!hu(e))throw e;s.Kr.add(1),yield Pl(s),s.Wr.set("Offline"),i||(i=()=>Ba(s.localStore)),s.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield ja(s)}))})).apply(this,arguments)}function Qc(s,e){return e().catch(i=>Ku(s,i,e))}function yu(s){return wc.apply(this,arguments)}function wc(){return(wc=(0,ye.Z)(function*(s){const e=St(s),i=bc(e);let a=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;D_(e);)try{const d=yield __(e.localStore,a);if(null===d){0===e.Ur.length&&i.lr();break}a=d.batchId,vm(e,d)}catch(d){yield Ku(e,d)}yp(e)&&$h(e)})).apply(this,arguments)}function D_(s){return vc(s)&&s.Ur.length<10}function vm(s,e){s.Ur.push(e);const i=bc(s);i.cr()&&i.br&&i.Pr(e.mutations)}function yp(s){return vc(s)&&!bc(s).ar()&&s.Ur.length>0}function $h(s){bc(s).start()}function _p(s){return qh.apply(this,arguments)}function qh(){return(qh=(0,ye.Z)(function*(s){bc(s).Sr()})).apply(this,arguments)}function Gh(s){return vp.apply(this,arguments)}function vp(){return(vp=(0,ye.Z)(function*(s){const e=bc(s);for(const i of s.Ur)e.Pr(i.mutations)})).apply(this,arguments)}function wm(s,e,i){return bm.apply(this,arguments)}function bm(){return(bm=(0,ye.Z)(function*(s,e,i){const a=s.Ur.shift(),d=Kg.from(a,e,i);yield Qc(s,()=>s.remoteSyncer.applySuccessfulWrite(d)),yield yu(s)})).apply(this,arguments)}function Em(s,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,ye.Z)(function*(s,e){var i;e&&bc(s).br&&(yield(i=(0,ye.Z)(function*(a,d){if(sa(g=d.code)&&g!==Xe.ABORTED){const E=a.Ur.shift();bc(a).hr(),yield Qc(a,()=>a.remoteSyncer.rejectFailedWrite(E.batchId,d)),yield yu(a)}var g}),function(a,d){return i.apply(this,arguments)})(s,e)),yp(s)&&$h(s)})).apply(this,arguments)}function wp(s,e){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,ye.Z)(function*(s,e){const i=St(s);e?(i.Kr.delete(2),yield ja(i)):e||(i.Kr.add(2),yield Pl(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Ll(s){return s.zr||(s.zr=function(e,i,a){const d=St(e);return d.Cr(),new Ow(i,d.nr,d.credentials,d.N,a)}(s.datastore,s.asyncQueue,{Si:pp.bind(null,s),Ci:_m.bind(null,s),Er:T_.bind(null,s)}),s.jr.push(function(){var e=(0,ye.Z)(function*(i){i?(s.zr.hr(),Hh(s)?mu(s):s.Wr.set("Unknown")):(yield s.zr.stop(),I_(s))});return function(i){return e.apply(this,arguments)}}())),s.zr}function bc(s){return s.Hr||(s.Hr=function(e,i,a){const d=St(e);return d.Cr(),new Nw(i,d.nr,d.credentials,d.N,a)}(s.datastore,s.asyncQueue,{Si:_p.bind(null,s),Ci:Em.bind(null,s),Vr:Gh.bind(null,s),vr:wm.bind(null,s)}),s.jr.push(function(){var e=(0,ye.Z)(function*(i){i?(s.Hr.hr(),yield yu(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Tt("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return e.apply(this,arguments)}}())),s.Hr}class Wo{constructor(e,i,a,d,g){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=d,this.removalCallback=g,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,i,a,d,g){const E=Date.now()+a,P=new Wo(e,i,E,d,g);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vl(s,e){if(br("AsyncQueue",`${e}: ${s}`),hu(s))return new gt(Xe.UNAVAILABLE,`${e}: ${s}`);throw s}class Ul{constructor(e){this.comparator=e?(i,a)=>e(i,a)||Xt.comparator(i.key,a.key):(i,a)=>Xt.comparator(i.key,a.key),this.keyedMap=cd(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const d=i.getNext().key,g=a.getNext().key;if(!d.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const a=new Ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class A_{constructor(){this.Jr=new Gi(Xt.comparator)}track(e){const i=e.doc.key,a=this.Jr.get(i);a?0!==e.type&&3===a.type?this.Jr=this.Jr.insert(i,e):3===e.type&&1!==a.type?this.Jr=this.Jr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Jr=this.Jr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Jr=this.Jr.remove(i):1===e.type&&2===a.type?this.Jr=this.Jr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Jr=this.Jr.insert(i,{type:2,doc:e.doc}):Yt():this.Jr=this.Jr.insert(i,e)}Yr(){const e=[];return this.Jr.inorderTraversal((i,a)=>{e.push(a)}),e}}class Od{constructor(e,i,a,d,g,E,P,q){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=d,this.mutatedKeys=g,this.fromCache=E,this.syncStateChanged=P,this.excludesMetadataChanges=q}static fromInitialDocuments(e,i,a,d){const g=[];return i.forEach(E=>{g.push({type:0,doc:E})}),new Od(e,i,Ul.emptySet(i),g,a,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let d=0;d<i.length;d++)if(i[d].type!==a[d].type||!i[d].doc.isEqual(a[d].doc))return!1;return!0}}class Cm{constructor(){this.Xr=void 0,this.listeners=[]}}class Fw{constructor(){this.queries=new Wc(e=>nd(e),Ou),this.onlineState="Unknown",this.Zr=new Set}}function bp(s,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,ye.Z)(function*(s,e){const i=St(s),a=e.query;let d=!1,g=i.queries.get(a);if(g||(d=!0,g=new Cm),d)try{g.Xr=yield i.onListen(a)}catch(E){const P=Vl(E,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(P)}i.queries.set(a,g),g.listeners.push(e),e.eo(i.onlineState),g.Xr&&e.no(g.Xr)&&Yh(i)})).apply(this,arguments)}function Kh(s,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,ye.Z)(function*(s,e){const i=St(s),a=e.query;let d=!1;const g=i.queries.get(a);if(g){const E=g.listeners.indexOf(e);E>=0&&(g.listeners.splice(E,1),d=0===g.listeners.length)}if(d)return i.queries.delete(a),i.onUnlisten(a)})).apply(this,arguments)}function S_(s,e){const i=St(s);let a=!1;for(const d of e){const E=i.queries.get(d.query);if(E){for(const P of E.listeners)P.no(d)&&(a=!0);E.Xr=d}}a&&Yh(i)}function x_(s,e,i){const a=St(s),d=a.queries.get(e);if(d)for(const g of d.listeners)g.onError(i);a.queries.delete(e)}function Yh(s){s.Zr.forEach(e=>{e.next()})}class Cp{constructor(e,i,a){this.query=e,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(e){if(!this.options.includeMetadataChanges){const a=[];for(const d of e.docChanges)3!==d.type&&a.push(d);e=new Od(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.io?this.oo(e)&&(this.so.next(e),i=!0):this.ao(e,this.onlineState)&&(this.co(e),i=!0),this.ro=e,i}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),i=!0),i}ao(e,i){return!e.fromCache||!(this.options.uo&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Im{constructor(e,i){this.payload=e,this.byteLength=i}ho(){return"metadata"in this.payload}}class Tm{constructor(e){this.N=e}zn(e){return qo(this.N,e)}Hn(e){return e.metadata.exists?_h(this.N,e.document,!1):ti.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Rs(e)}}class M_{constructor(e,i,a){this.lo=e,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=Ip(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(e){const i=new Map,a=new Tm(this.N);for(const d of e)if(d.metadata.queries){const g=a.zn(d.metadata.name);for(const E of d.metadata.queries){const P=(i.get(E)||Vr()).add(g);i.set(E,P)}}return i}complete(){var e=this;return(0,ye.Z)(function*(){const i=yield function(s,e,i,a){return Fh.apply(this,arguments)}(e.localStore,new Tm(e.N),e.documents,e.lo.id),a=e.wo(e.documents);for(const d of e.queries)yield Lh(e.localStore,d,a.get(d.name));return e.progress.taskState="Success",new im(Object.assign({},e.progress),i)})()}}function Ip(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Tp{constructor(e){this.key=e}}class Dm{constructor(e){this.key=e}}class Xa{constructor(e,i){this.query=e,this._o=i,this.mo=null,this.current=!1,this.yo=Vr(),this.mutatedKeys=Vr(),this.po=Nu(e),this.To=new Ul(this.po)}get Eo(){return this._o}Io(e,i){const a=i?i.Ao:new A_,d=i?i.To:this.To;let g=i?i.mutatedKeys:this.mutatedKeys,E=d,P=!1;const q=Ka(this.query)&&d.size===this.query.limit?d.last():null,re=La(this.query)&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((fe,Re)=>{const it=d.get(fe),ft=Fc(this.query,Re)?Re:null,Ot=!!it&&this.mutatedKeys.has(it.key),yn=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let ir=!1;it&&ft?it.data.isEqual(ft.data)?Ot!==yn&&(a.track({type:3,doc:ft}),ir=!0):this.Ro(it,ft)||(a.track({type:2,doc:ft}),ir=!0,(q&&this.po(ft,q)>0||re&&this.po(ft,re)<0)&&(P=!0)):!it&&ft?(a.track({type:0,doc:ft}),ir=!0):it&&!ft&&(a.track({type:1,doc:it}),ir=!0,(q||re)&&(P=!0)),ir&&(ft?(E=E.add(ft),g=yn?g.add(fe):g.delete(fe)):(E=E.delete(fe),g=g.delete(fe)))}),Ka(this.query)||La(this.query))for(;E.size>this.query.limit;){const fe=Ka(this.query)?E.last():E.first();E=E.delete(fe.key),g=g.delete(fe.key),a.track({type:1,doc:fe})}return{To:E,Ao:a,Ln:P,mutatedKeys:g}}Ro(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a){const d=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const g=e.Ao.Yr();g.sort((re,fe)=>function(Re,it){const ft=Ot=>{switch(Ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return ft(Re)-ft(it)}(re.type,fe.type)||this.po(re.doc,fe.doc)),this.bo(a);const E=i?this.Po():[],P=0===this.yo.size&&this.current?1:0,q=P!==this.mo;return this.mo=P,0!==g.length||q?{snapshot:new Od(this.query,e.To,d,g,e.mutatedKeys,0===P,q,!1),vo:E}:{vo:E}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new A_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(i=>this._o=this._o.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Vr(),this.To.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const i=[];return e.forEach(a=>{this.yo.has(a)||i.push(new Dm(a))}),this.yo.forEach(a=>{e.has(a)||i.push(new Tp(a))}),i}So(e){this._o=e.Gn,this.yo=Vr();const i=this.Io(e.documents);return this.applyChanges(i,!0)}Do(){return Od.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class Dp{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class O_{constructor(e){this.key=e,this.Co=!1}}class N_{constructor(e,i,a,d,g,E){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=d,this.currentUser=g,this.maxConcurrentLimboResolutions=E,this.No={},this.xo=new Wc(P=>nd(P),Ou),this.ko=new Map,this.$o=new Set,this.Oo=new Gi(Xt.comparator),this.Fo=new Map,this.Mo=new ap,this.Lo={},this.Bo=new Map,this.Uo=qu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Lw(s,e){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,ye.Z)(function*(s,e){const i=Cc(s);let a,d;const g=i.xo.get(e);if(g)a=g.targetId,i.sharedClientState.addLocalQueryTarget(a),d=g.view.Do();else{const E=yield Ml(i.localStore,Ns(e)),P=i.sharedClientState.addLocalQueryTarget(E.targetId);a=E.targetId,d=yield Ap(i,e,a,"current"===P),i.isPrimaryClient&&kl(i.remoteStore,E)}return d})).apply(this,arguments)}function Ap(s,e,i,a){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,ye.Z)(function*(s,e,i,a){s.Ko=(fe,Re,it)=>{return(ft=(0,ye.Z)(function*(Ot,yn,ir,ts){let $a=yn.view.Io(ir);$a.Ln&&($a=yield Dd(Ot.localStore,yn.query,!1).then(({documents:Eu})=>yn.view.Io(Eu,$a)));const su=ts&&ts.targetChanges.get(yn.targetId),bu=yn.view.applyChanges($a,Ot.isPrimaryClient,su);return ef(Ot,yn.targetId,bu.vo),bu.snapshot}),function(Ot,yn,ir,ts){return ft.apply(this,arguments)})(s,fe,Re,it);var ft};const d=yield Dd(s.localStore,e,!0),g=new Xa(e,d.Gn),E=g.Io(d.documents),P=va.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),q=g.applyChanges(E,s.isPrimaryClient,P);ef(s,i,q.vo);const re=new Dp(e,i,g);return s.xo.set(e,re),s.ko.has(i)?s.ko.get(i).push(e):s.ko.set(i,[e]),q.snapshot})).apply(this,arguments)}function R_(s,e){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,ye.Z)(function*(s,e){const i=St(s),a=i.xo.get(e),d=i.ko.get(a.targetId);if(d.length>1)return i.ko.set(a.targetId,d.filter(g=>!Ou(g,e))),void i.xo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Ol(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),Fl(i.remoteStore,a.targetId),Jc(i,a.targetId)}).catch(Ea))):(Jc(i,a.targetId),yield Ol(i.localStore,a.targetId,!0))})).apply(this,arguments)}function xp(){return(xp=(0,ye.Z)(function*(s,e,i){const a=Up(s);try{const d=yield function(g,E){const P=St(g),q=bn.now(),re=E.reduce((Re,it)=>Re.add(it.key),Vr());let fe;return P.persistence.runTransaction("Locally write mutations","readwrite",Re=>P.Qn.Pn(Re,re).next(it=>{fe=it;const ft=[];for(const Ot of E){const yn=fh(Ot,fe.get(Ot.key));null!=yn&&ft.push(new Va(Ot.key,yn,Pc(yn.value.mapValue),ps.exists(!0)))}return P.In.addMutationBatch(Re,q,ft,E)})).then(Re=>(Re.applyToLocalDocumentSet(fe),{batchId:Re.batchId,changes:fe}))}(a.localStore,e);a.sharedClientState.addPendingMutation(d.batchId),function(g,E,P){let q=g.Lo[g.currentUser.toKey()];q||(q=new Gi(Lt)),q=q.insert(E,P),g.Lo[g.currentUser.toKey()]=q}(a,d.batchId,i),yield Qu(a,d.changes),yield yu(a.remoteStore)}catch(d){const g=Vl(d,"Failed to persist write");i.reject(g)}})).apply(this,arguments)}function Pd(s,e){return kd.apply(this,arguments)}function kd(){return(kd=(0,ye.Z)(function*(s,e){const i=St(s);try{const a=yield y_(i.localStore,e);e.targetChanges.forEach((d,g)=>{const E=i.Fo.get(g);E&&(wn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?E.Co=!0:d.modifiedDocuments.size>0?wn(E.Co):d.removedDocuments.size>0&&(wn(E.Co),E.Co=!1))}),yield Qu(i,a,e)}catch(a){yield Ea(a)}})).apply(this,arguments)}function Am(s,e,i){const a=St(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const d=[];a.xo.forEach((g,E)=>{const P=E.view.eo(e);P.snapshot&&d.push(P.snapshot)}),function(g,E){const P=St(g);P.onlineState=E;let q=!1;P.queries.forEach((re,fe)=>{for(const Re of fe.listeners)Re.eo(E)&&(q=!0)}),q&&Yh(P)}(a.eventManager,e),d.length&&a.No.Er(d),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Mp(s,e,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ye.Z)(function*(s,e,i){const a=St(s);a.sharedClientState.updateQueryState(e,"rejected",i);const d=a.Fo.get(e),g=d&&d.key;if(g){let E=new Gi(Xt.comparator);E=E.insert(g,ti.newNoDocument(g,hn.min()));const P=Vr().add(g),q=new Oo(hn.min(),new Map,new Di(Lt),E,P);yield Pd(a,q),a.Oo=a.Oo.remove(g),a.Fo.delete(e),Bl(a)}else yield Ol(a.localStore,e,!1).then(()=>Jc(a,e,i)).catch(Ea)})).apply(this,arguments)}function Sm(s,e){return Op.apply(this,arguments)}function Op(){return(Op=(0,ye.Z)(function*(s,e){const i=St(s),a=e.batch.batchId;try{const d=yield m_(i.localStore,e);Xh(i,a,null),Jh(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Qu(i,d)}catch(d){yield Ea(d)}})).apply(this,arguments)}function k_(s,e,i){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,ye.Z)(function*(s,e,i){const a=St(s);try{const d=yield function(g,E){const P=St(g);return P.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let re;return P.In.lookupMutationBatch(q,E).next(fe=>(wn(null!==fe),re=fe.keys(),P.In.removeMutationBatch(q,fe))).next(()=>P.In.performConsistencyCheck(q)).next(()=>P.Qn.Pn(q,re))})}(a.localStore,e);Xh(a,e,i),Jh(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield Qu(a,d)}catch(d){yield Ea(d)}})).apply(this,arguments)}function Np(){return(Np=(0,ye.Z)(function*(s,e){const i=St(s);vc(i.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(g){const E=St(g);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>E.In.getHighestUnacknowledgedBatchId(P))}(i.localStore);if(-1===a)return void e.resolve();const d=i.Bo.get(a)||[];d.push(e),i.Bo.set(a,d)}catch(a){const d=Vl(a,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}})).apply(this,arguments)}function Jh(s,e){(s.Bo.get(e)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(e)}function Xh(s,e,i){const a=St(s);let d=a.Lo[a.currentUser.toKey()];if(d){const g=d.get(e);g&&(i?g.reject(i):g.resolve(),d=d.remove(e)),a.Lo[a.currentUser.toKey()]=d}}function Jc(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.ko.get(e))s.xo.delete(a),i&&s.No.jo(a,i);s.ko.delete(e),s.isPrimaryClient&&s.Mo.cs(e).forEach(a=>{s.Mo.containsKey(a)||Rp(s,a)})}function Rp(s,e){s.$o.delete(e.path.canonicalString());const i=s.Oo.get(e);null!==i&&(Fl(s.remoteStore,i),s.Oo=s.Oo.remove(e),s.Fo.delete(i),Bl(s))}function ef(s,e,i){for(const a of i)a instanceof Tp?(s.Mo.addReference(a.key,e),Yu(s,a)):a instanceof Dm?(Tt("SyncEngine","Document no longer in limbo: "+a.key),s.Mo.removeReference(a.key,e),s.Mo.containsKey(a.key)||Rp(s,a.key)):Yt()}function Yu(s,e){const i=e.key,a=i.path.canonicalString();s.Oo.get(i)||s.$o.has(a)||(Tt("SyncEngine","New document in limbo: "+i),s.$o.add(a),Bl(s))}function Bl(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const e=s.$o.values().next().value;s.$o.delete(e);const i=new Xt(Vn.fromString(e)),a=s.Uo.next();s.Fo.set(a,new O_(i)),s.Oo=s.Oo.insert(i,a),kl(s.remoteStore,new Hu(Ns(Wa(i.path)),a,2,Ee.T))}}function Qu(s,e,i){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ye.Z)(function*(s,e,i){const a=St(s),d=[],g=[],E=[];var P;a.xo.isEmpty()||(a.xo.forEach((P,q)=>{E.push(a.Ko(q,e,i).then(re=>{if(re){a.isPrimaryClient&&a.sharedClientState.updateQueryState(q.targetId,re.fromCache?"not-current":"current"),d.push(re);const fe=kh.kn(q.targetId,re);g.push(fe)}}))}),yield Promise.all(E),a.No.Er(d),yield(P=(0,ye.Z)(function*(q,re){const fe=St(q);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>ct.forEach(re,it=>ct.forEach(it.Nn,ft=>fe.persistence.referenceDelegate.addReference(Re,it.targetId,ft)).next(()=>ct.forEach(it.xn,ft=>fe.persistence.referenceDelegate.removeReference(Re,it.targetId,ft)))))}catch(Re){if(!hu(Re))throw Re;Tt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of re){const it=Re.targetId;if(!Re.fromCache){const ft=fe.Un.get(it),yn=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);fe.Un=fe.Un.insert(it,yn)}}}),function(q,re){return P.apply(this,arguments)})(a.localStore,g))})).apply(this,arguments)}function Uw(s,e){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,ye.Z)(function*(s,e){const i=St(s);if(!i.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const a=yield rp(i.localStore,e);i.currentUser=e,(d=i).Bo.forEach(E=>{E.forEach(P=>{P.reject(new gt(Xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Qu(i,a.Wn)}var d})).apply(this,arguments)}function xm(s,e){const i=St(s),a=i.Fo.get(e);if(a&&a.Co)return Vr().add(a.key);{let d=Vr();const g=i.ko.get(e);if(!g)return d;for(const E of g){const P=i.xo.get(E);d=d.unionWith(P.view.Eo)}return d}}function Vd(s,e){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,ye.Z)(function*(s,e){const i=St(s),a=yield Dd(i.localStore,e.query,!0),d=e.view.So(a);return i.isPrimaryClient&&ef(i,e.targetId,d.vo),d})).apply(this,arguments)}function F_(s){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,ye.Z)(function*(s){const e=St(s);return um(e.localStore).then(i=>Qu(e,i))})).apply(this,arguments)}function Mm(s,e,i,a){return kp.apply(this,arguments)}function kp(){return(kp=(0,ye.Z)(function*(s,e,i,a){const d=St(s),g=yield function(E,P){const q=St(E),re=St(q.In);return q.persistence.runTransaction("Lookup mutation documents","readonly",fe=>re.Xt(fe,P).next(Re=>Re?q.Qn.Pn(fe,Re):ct.resolve(null)))}(d.localStore,e);var P;null!==g?("pending"===i?yield yu(d.remoteStore):"acknowledged"===i||"rejected"===i?(Xh(d,e,a||null),Jh(d,e),P=e,St(St(d.localStore).In).te(P)):Yt(),yield Qu(d,g)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Fp(){return(Fp=(0,ye.Z)(function*(s,e){const i=St(s);if(Cc(i),Up(i),!0===e&&!0!==i.qo){const a=i.sharedClientState.getAllActiveQueryTargets(),d=yield tf(i,a.toArray());i.qo=!0,yield wp(i.remoteStore,!0);for(const g of d)kl(i.remoteStore,g)}else if(!1===e&&!1!==i.qo){const a=[];let d=Promise.resolve();i.ko.forEach((g,E)=>{i.sharedClientState.isLocalQueryTarget(E)?a.push(E):d=d.then(()=>(Jc(i,E),Ol(i.localStore,E,!0))),Fl(i.remoteStore,E)}),yield d,yield tf(i,a),function(g){const E=St(g);E.Fo.forEach((P,q)=>{Fl(E.remoteStore,q)}),E.Mo.us(),E.Fo=new Map,E.Oo=new Gi(Xt.comparator)}(i),i.qo=!1,yield wp(i.remoteStore,!1)}})).apply(this,arguments)}function tf(s,e,i){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ye.Z)(function*(s,e,i){const a=St(s),d=[],g=[];for(const E of e){let P;const q=a.ko.get(E);if(q&&0!==q.length){P=yield Ml(a.localStore,Ns(q[0]));for(const re of q){const fe=a.xo.get(re),Re=yield Vd(a,fe);Re.snapshot&&g.push(Re.snapshot)}}else{const re=yield am(a.localStore,E);P=yield Ml(a.localStore,re),yield Ap(a,Nm(re),E,!1)}d.push(P)}return a.No.Er(g),d})).apply(this,arguments)}function Nm(s){return Uf(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Rm(s){const e=St(s);return St(St(e.localStore).persistence).pn()}function jl(s,e,i,a){return nf.apply(this,arguments)}function nf(){return(nf=(0,ye.Z)(function*(s,e,i,a){const d=St(s);if(d.qo)Tt("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(e))switch(i){case"current":case"not-current":{const g=yield um(d.localStore),E=Oo.createSynthesizedRemoteEventForCurrentChange(e,"current"===i);yield Qu(d,g,E);break}case"rejected":yield Ol(d.localStore,e,!0),Jc(d,e,a);break;default:Yt()}})).apply(this,arguments)}function L_(s,e,i){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ye.Z)(function*(s,e,i){const a=Cc(s);if(a.qo){for(const d of e){if(a.ko.has(d)){Tt("SyncEngine","Adding an already active target "+d);continue}const g=yield am(a.localStore,d),E=yield Ml(a.localStore,g);yield Ap(a,Nm(g),E.targetId,!1),kl(a.remoteStore,E)}for(const d of i)a.ko.has(d)&&(yield Ol(a.localStore,d,!1).then(()=>{Fl(a.remoteStore,d),Jc(a,d)}).catch(Ea))}})).apply(this,arguments)}function Cc(s){const e=St(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mp.bind(null,e),e.No.Er=S_.bind(null,e.eventManager),e.No.jo=x_.bind(null,e.eventManager),e}function Up(s){const e=St(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k_.bind(null,e),e}class Pm{constructor(){this.synchronizeTabs=!1}initialize(e){var i=this;return(0,ye.Z)(function*(){i.N=jh(e.databaseInfo.databaseId),i.sharedClientState=i.Wo(e),i.persistence=i.Go(e),yield i.persistence.start(),i.gcScheduler=i.zo(e),i.localStore=i.Ho(e)})()}zo(e){return null}Ho(e){return om(this.persistence,new g_,e.initialUser,this.N)}Go(e){return new xw(fm.Ns,this.N)}Wo(e){return new w_}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class km extends Pm{constructor(e,i,a){super(),this.Jo=e,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield i().call(a,e),yield function(s){return $n.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,e),yield Up(a.Jo.syncEngine),yield yu(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(e){return om(this.persistence,new g_,e.initialUser,this.N)}zo(e){return new xh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const i=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new tp(this.synchronizeTabs,i,e.clientId,a,e.asyncQueue,E_(),fp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new w_}}class Bw extends km{constructor(e,i){super(e,i,!1),this.Jo=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,a=this;return(0,ye.Z)(function*(){yield i().call(a,e);const d=a.Jo.syncEngine;a.sharedClientState instanceof lp&&(a.sharedClientState.syncEngine={_i:Mm.bind(null,d),mi:jl.bind(null,d),gi:L_.bind(null,d),pn:Rm.bind(null,d),wi:F_.bind(null,d)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var g=(0,ye.Z)(function*(E){yield function(s,e){return Fp.apply(this,arguments)}(a.Jo.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):E||a.gcScheduler.stop())});return function(E){return g.apply(this,arguments)}}())})()}Wo(e){const i=E_();if(!lp.bt(i))throw new gt(Xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lp(i,e.asyncQueue,a,e.clientId,e.initialUser)}}class Bp{initialize(e,i){var a=this;return(0,ye.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=d=>Am(a.syncEngine,d,1),a.remoteStore.remoteSyncer.handleCredentialChange=Uw.bind(null,a.syncEngine),yield wp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fw}createDatastore(e){const i=jh(e.databaseInfo.databaseId),a=new Mw(e.databaseInfo);return new Rw(e.credentials,a,i)}createRemoteStore(e){return i=this.localStore,a=this.datastore,d=e.asyncQueue,g=P=>Am(this.syncEngine,P,0),E=dp.bt()?new dp:new gm,new kw(i,a,d,g,E);var i,a,d,g,E}createSyncEngine(e,i){return function(a,d,g,E,P,q,re){const fe=new N_(a,d,g,E,P,q);return re&&(fe.qo=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(e=(0,ye.Z)(function*(i){const a=St(i);Tt("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield Pl(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function jp(s,e=10240){let i=0;return{read:()=>(0,ye.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+e),done:!1};return i+=e,a}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _i{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}class Zp{constructor(e,i){this.Zo=e,this.N=i,this.metadata=new D,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,ye.Z)(function*(){const i=yield e.na();if(null===i)return null;const a=e.ta.decode(i),d=Number(a);isNaN(d)&&e.sa(`length string (${a}) is not valid number`);const g=yield e.ia(d);return new Im(JSON.parse(g),i.length+d)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,ye.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const i=e.ra();i<0&&e.sa("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),a})()}ia(e){var i=this;return(0,ye.Z)(function*(){for(;i.buffer.length<e;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const a=i.ta.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),a})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,ye.Z)(function*(){const i=yield e.Zo.read();if(!i.done){const a=new Uint8Array(e.buffer.length+i.value.length);a.set(e.buffer),a.set(i.value,e.buffer.length),e.buffer=a}return i.done})()}}class jw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,ye.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new gt(Xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(d=(0,ye.Z)(function*(g,E){const P=St(g),q=Bu(P.N)+"/documents",re={documents:E.map(ft=>pc(P.N,ft))},fe=yield P.Ki("BatchGetDocuments",q,re),Re=new Map;fe.forEach(ft=>{const Ot=function(s,e){return"found"in e?function(i,a){wn(!!a.found);const d=qo(i,a.found.name),g=Rs(a.found.updateTime),E=new Is({mapValue:{fields:a.found.fields}});return ti.newFoundDocument(d,g,E)}(s,e):"missing"in e?function(i,a){wn(!!a.missing),wn(!!a.readTime);const d=qo(i,a.missing),g=Rs(a.readTime);return ti.newNoDocument(d,g)}(s,e):Yt()}(P.N,ft);Re.set(Ot.key.toString(),Ot)});const it=[];return E.forEach(ft=>{const Ot=Re.get(ft.toString());wn(!!Ot),it.push(Ot)}),it}),function(g,E){return d.apply(this,arguments)})(i.datastore,e);var d;return a.forEach(d=>i.recordVersion(d)),a})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const i=e.readVersions;var a;e.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,d)=>{const g=Xt.fromPath(d);e.mutations.push(new ph(g,e.precondition(g)))}),yield(a=(0,ye.Z)(function*(d,g){const E=St(d),P=Bu(E.N)+"/documents",q={writes:g.map(re=>lu(E.N,re))};yield E.Li("Commit",P,q)}),function(d,g){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Yt();i=hn.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new gt(Xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?ps.updateTime(i):ps.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(hn.min()))throw new gt(Xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ps.updateTime(i)}return ps.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ju{constructor(e,i,a,d){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=d,this.aa=5,this.rr=new mm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,ye.Z)(function*(){const i=new jw(e.datastore),a=e.ua(i);a&&a.then(d=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(d)}).catch(g=>{e.ha(g)}))}).catch(d=>{e.ha(d)})}))}ua(e){try{const i=this.updateFunction(e);return!ma(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||!sa(i)}return!1}}class Hp{constructor(e,i,a){var d=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=oi.UNAUTHENTICATED,this.clientId=Ht.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var g=(0,ye.Z)(function*(E){Tt("FirestoreClient","Received user=",E.uid),yield d.credentialListener(E),d.user=E});return function(E){return g.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),i.resolve()}catch(a){const d=Vl(a,"Failed to shutdown persistence");i.reject(d)}})),i.promise}}function rf(s,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var d=(0,ye.Z)(function*(g){a.isEqual(g)||(yield rp(e.localStore,g),a=g)});return function(g){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Lm(s,e){return $p.apply(this,arguments)}function $p(){return($p=(0,ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const i=yield sf(s);Tt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(i,a),s.setCredentialChangeListener(d=>{return(g=(0,ye.Z)(function*(E,P){const q=St(E);q.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const re=vc(q);q.Kr.add(3),yield Pl(q),re&&q.Wr.set("Unknown"),yield q.remoteSyncer.handleCredentialChange(P),q.Kr.delete(3),yield ja(q)}),function(E,P){return g.apply(this,arguments)})(e.remoteStore,d);var g}),s.onlineComponents=e})).apply(this,arguments)}function sf(s){return of.apply(this,arguments)}function of(){return(of=(0,ye.Z)(function*(s){return s.offlineComponents||(Tt("FirestoreClient","Using default OfflineComponentProvider"),yield rf(s,new Pm)),s.offlineComponents})).apply(this,arguments)}function Bd(s){return af.apply(this,arguments)}function af(){return(af=(0,ye.Z)(function*(s){return s.onlineComponents||(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield Lm(s,new Bp)),s.onlineComponents})).apply(this,arguments)}function Vm(s){return sf(s).then(e=>e.persistence)}function qp(s){return sf(s).then(e=>e.localStore)}function Zl(s){return Bd(s).then(e=>e.remoteStore)}function jd(s){return Bd(s).then(e=>e.syncEngine)}function el(s){return uf.apply(this,arguments)}function uf(){return(uf=(0,ye.Z)(function*(s){const e=yield Bd(s),i=e.eventManager;return i.onListen=Lw.bind(null,e.syncEngine),i.onUnlisten=R_.bind(null,e.syncEngine),i})).apply(this,arguments)}function jm(s,e,i={}){const a=new D;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,g,E,P,q){const re=new _i({next:Re=>{g.enqueueAndForget(()=>Kh(d,fe));const it=Re.docs.has(E);!it&&Re.fromCache?q.reject(new gt(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Re.fromCache&&P&&"server"===P.source?q.reject(new gt(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(Re)},error:Re=>q.reject(Re)}),fe=new Cp(Wa(E.path),re,{includeMetadataChanges:!0,uo:!0});return bp(d,fe)}(yield el(s),s.asyncQueue,e,i,a)})),a.promise}function Zm(s,e,i={}){const a=new D;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(d,g,E,P,q){const re=new _i({next:Re=>{g.enqueueAndForget(()=>Kh(d,fe)),Re.fromCache&&"server"===P.source?q.reject(new gt(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(Re)},error:Re=>q.reject(Re)}),fe=new Cp(E,re,{includeMetadataChanges:!0,uo:!0});return bp(d,fe)}(yield el(s),s.asyncQueue,e,i,a)})),a.promise}class Z_{constructor(e,i,a,d,g,E,P,q){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=d,this.ssl=g,this.forceLongPolling=E,this.autoDetectLongPolling=P,this.useFetchStreams=q}}class Zd{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}const H_=new Map;function Hd(s,e,i){if(!i)throw new gt(Xe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qm(s,e,i,a){if(!0===e&&!0===a)throw new gt(Xe.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Gp(s){if(!Xt.isDocumentKey(s))throw new gt(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zp(s){if(Xt.isDocumentKey(s))throw new gt(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wp(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(i=s).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof s?"a function":Yt()}function rr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new gt(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wp(s);throw new gt(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function $_(s,e){if(e<=0)throw new gt(Xe.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class q_{constructor(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,e instanceof Zd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new gt(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(a.options.projectId)}(e))}get app(){if(!this._app)throw new gt(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new v;switch(i.type){case"gapi":const a=i.client;return wn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new ce(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new gt(Xe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=H_.get(e);i&&(Tt("ComponentProvider","Removing Datastore"),H_.delete(e),i.terminate())}(this),Promise.resolve()}}class Ai{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}}class Eo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class _u extends Eo{constructor(e,i,a){super(e,i,Wa(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new Xt(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function G_(s,e,...i){if(s=(0,qe.m9)(s),Hd("collection","path",e),s instanceof cf){const a=Vn.fromString(e,...i);return zp(a),new _u(s,null,a)}{if(!(s instanceof Ai||s instanceof _u))throw new gt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Vn.fromString(e,...i));return zp(a),new _u(s.firestore,null,a)}}function Hl(s,e,...i){if(s=(0,qe.m9)(s),1===arguments.length&&(e=Ht.I()),Hd("doc","path",e),s instanceof cf){const a=Vn.fromString(e,...i);return Gp(a),new Ai(s,null,new Xt(a))}{if(!(s instanceof Ai||s instanceof _u))throw new gt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Vn.fromString(e,...i));return Gp(a),new Ai(s.firestore,s instanceof _u?s.converter:null,new Xt(a))}}function Wm(s,e){return s=(0,qe.m9)(s),e=(0,qe.m9)(e),(s instanceof Ai||s instanceof _u)&&(e instanceof Ai||e instanceof _u)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function lf(s,e){return s=(0,qe.m9)(s),e=(0,qe.m9)(e),s instanceof Eo&&e instanceof Eo&&s.firestore===e.firestore&&Ou(s._query,e._query)&&s.converter===e.converter}class z_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new mm(this,"async_queue_retry"),this.Ta=()=>{const i=fp();i&&Tt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const e=fp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const i=fp();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const i=new D;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,ye.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(i){if(!hu(i))throw i;Tt("AsyncQueue","Operation failed with retryable error: "+i)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const i=this.fa.then(()=>(this.ga=!0,e().catch(a=>{throw this.ma=a,this.ga=!1,br("INTERNAL UNHANDLED ERROR: ",function(g){let E=g.message||"";return g.stack&&(E=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),E}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=i,i}enqueueAfterDelay(e,i,a){this.Ea(),this.pa.indexOf(e)>-1&&(i=0);const d=Wo.createAndSchedule(this,e,i,a,g=>this.Ra(g));return this._a.push(d),d}Ea(){this.ma&&Yt()}verifyOperationInProgress(){}ba(){var e=this;return(0,ye.Z)(function*(){let i;do{i=e.fa,yield i}while(i!==e.fa)})()}Pa(e){for(const i of this._a)if(i.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const i=this._a.indexOf(e);this._a.splice(i,1)}}function Kp(s){return function(e,i){if("object"!=typeof e||null===e)return!1;const a=e;for(const d of["next","error","complete"])if(d in a&&"function"==typeof a[d])return!0;return!1}(s)}class W_{constructor(){this._progressObserver={},this._taskCompletionResolver=new D,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,a){this._progressObserver={next:e,error:i,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ys extends cf{constructor(e,i){super(e,i),this.type="firestore",this._queue=new z_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Qp(this),this._firestoreClient.terminate()}}function zi(s){return s._firestoreClient||Qp(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Qp(s){var e;const i=s._freezeSettings(),a=(g=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Z_(s._databaseId,g,s._persistenceKey,(P=i).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var g,P;s._firestoreClient=new Hp(s._credentials,s._queue,a)}function Km(s,e,i){const a=new D;return s.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield rf(s,i),yield Lm(s,e),a.resolve()}catch(d){if(!("FirebaseError"===(g=d).name?g.code===Xe.FAILED_PRECONDITION||g.code===Xe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),a.reject(d)}var g})).then(()=>a.promise)}function Ia(s){if(s._initialized||s._terminated)throw new gt(Xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new gt(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Es(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(qi.fromBase64String(e))}catch(i){throw new gt(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yo(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Za{constructor(e){this._methodName=e}}class Xu{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const $l=/^__.*__$/;class ql{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,i,this.fieldTransforms):new ku(e,this.data,i,this.fieldTransforms)}}class nl{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Va(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rl(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class ec{constructor(e,i,a,d,g,E){this.settings=e,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=d,void 0===g&&this.Sa(),this.fieldTransforms=g||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new ec(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),d=this.Ca({path:a,xa:!1});return d.ka(e),d}$a(e){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(e),d=this.Ca({path:a,xa:!1});return d.Sa(),d}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Wd(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(rl(this.Da)&&$l.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Ym{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.N=a||jh(e)}Ba(e,i,a,d=!1){return new ec({Da:e,methodName:i,La:a,path:Es.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ic(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new Ym(s._databaseId,!!e.ignoreUndefinedProperties,i)}function zd(s,e,i,a,d,g={}){const E=s.Ba(g.merge||g.mergeFields?2:0,e,i,d);ny("Data must be an object, but it was:",E,a);const P=tg(a,E);let q,re;if(g.merge)q=new Ga(E.fieldMask),re=E.fieldTransforms;else if(g.mergeFields){const fe=[];for(const Re of g.mergeFields){const it=ng(e,Re,i);if(!E.contains(it))throw new gt(Xe.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);iy(fe,it)||fe.push(it)}q=new Ga(fe),re=E.fieldTransforms.filter(Re=>q.covers(Re.field))}else q=null,re=E.fieldTransforms;return new ql(new Is(P),q,re)}class Gl extends Za{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gl}}function Xp(s,e,i){return new ec({Da:3,La:e.settings.La,methodName:s._methodName,xa:i},e.databaseId,e.N,e.ignoreUndefinedProperties)}class hf extends Za{_toFieldTransform(e){return new hl(e.path,new hc)}isEqual(e){return e instanceof hf}}class Qm extends Za{constructor(e,i){super(e),this.Ua=i}_toFieldTransform(e){const i=Xp(this,e,!0),a=this.Ua.map(g=>Tc(g,i)),d=new Qa(a);return new hl(e.path,d)}isEqual(e){return this===e}}class Jm extends Za{constructor(e,i){super(e),this.Ua=i}_toFieldTransform(e){const i=Xp(this,e,!0),a=this.Ua.map(g=>Tc(g,i)),d=new _a(a);return new hl(e.path,d)}isEqual(e){return this===e}}class Xm extends Za{constructor(e,i){super(e),this.qa=i}_toFieldTransform(e){const i=new Uc(e.N,dh(e.N,this.qa));return new hl(e.path,i)}isEqual(e){return this===e}}function eg(s,e,i,a){const d=s.Ba(1,e,i);ny("Data must be an object, but it was:",d,a);const g=[],E=Is.empty();Ci(a,(q,re)=>{const fe=rg(e,q,i);re=(0,qe.m9)(re);const Re=d.$a(fe);if(re instanceof Gl)g.push(fe);else{const it=Tc(re,Re);null!=it&&(g.push(fe),E.set(fe,it))}});const P=new Ga(g);return new nl(E,P,d.fieldTransforms)}function ff(s,e,i,a,d,g){const E=s.Ba(1,e,i),P=[ng(e,a,i)],q=[d];if(g.length%2!=0)throw new gt(Xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<g.length;it+=2)P.push(ng(e,g[it])),q.push(g[it+1]);const re=[],fe=Is.empty();for(let it=P.length-1;it>=0;--it)if(!iy(re,P[it])){const ft=P[it];let Ot=q[it];Ot=(0,qe.m9)(Ot);const yn=E.$a(ft);if(Ot instanceof Gl)re.push(ft);else{const ir=Tc(Ot,yn);null!=ir&&(re.push(ft),fe.set(ft,ir))}}const Re=new Ga(re);return new nl(fe,Re,E.fieldTransforms)}function ey(s,e,i,a=!1){return Tc(i,s.Ba(a?4:3,e))}function Tc(s,e){if(ty(s=(0,qe.m9)(s)))return ny("Unsupported field value:",e,s),tg(s,e);if(s instanceof Za)return function(i,a){if(!rl(a.Da))throw a.Fa(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${i._methodName}() is not currently supported inside arrays`);const d=i._toFieldTransform(a);d&&a.fieldTransforms.push(d)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(i,a){const d=[];let g=0;for(const E of i){let P=Tc(E,a.Oa(g));null==P&&(P={nullValue:"NULL_VALUE"}),d.push(P),g++}return{arrayValue:{values:d}}}(s,e)}return function(i,a){if(null===(i=(0,qe.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return dh(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const d=bn.fromDate(i);return{timestampValue:_l(a.N,d)}}if(i instanceof bn){const d=new bn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_l(a.N,d)}}if(i instanceof Xu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yo)return{bytesValue:fd(a.N,i._byteString)};if(i instanceof Ai){const d=a.databaseId,g=i.firestore._databaseId;if(!g.isEqual(d))throw a.Fa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:wl(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Fa(`Unsupported field value: ${Wp(i)}`)}(s,e)}function tg(s,e){const i={};return Zo(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(s,(a,d)=>{const g=Tc(d,e.Na(a));null!=g&&(i[a]=g)}),{mapValue:{fields:i}}}function ty(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof bn||s instanceof Xu||s instanceof Yo||s instanceof Ai||s instanceof Za)}function ny(s,e,i){if(!ty(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Wp(i);throw e.Fa("an object"===a?s+" a custom object":s+" "+a)}var a}function ng(s,e,i){if((e=(0,qe.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return rg(s,e);throw Wd("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const ry=new RegExp("[~\\*/\\[\\]]");function rg(s,e,i){if(e.search(ry)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new tu(...e.split("."))._internalPath}catch(a){throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wd(s,e,i,a,d){const g=a&&!a.isEmpty(),E=void 0!==d;let P=`Function ${e}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let q="";return(g||E)&&(q+=" (found",g&&(q+=` in field ${a}`),E&&(q+=` in document ${d}`),q+=")"),new gt(Xe.INVALID_ARGUMENT,P+s+q)}function iy(s,e){return s.some(i=>i.isEqual(e))}class Kd{constructor(e,i,a,d,g){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=d,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pf("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class $w extends Kd{data(){return super.data()}}function pf(s,e){return"string"==typeof e?rg(s,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class Dc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends Kd{constructor(e,i,a,d,g,E){super(e,i,a,d,E),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(pf("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class gf extends Ac{data(e={}){return super.data(e)}}class il{constructor(e,i,a,d){this._firestore=e,this._userDataWriter=i,this._snapshot=d,this.metadata=new Dc(d.hasPendingWrites,d.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new gf(this._firestore,this._userDataWriter,a.key,a,new Dc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,d){if(a._snapshot.oldDocs.isEmpty()){let g=0;return a._snapshot.docChanges.map(E=>({type:"added",doc:new gf(a._firestore,a._userDataWriter,E.doc.key,E.doc,new Dc(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:g++}))}{let g=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(E=>d||3!==E.type).map(E=>{const P=new gf(a._firestore,a._userDataWriter,E.doc.key,E.doc,new Dc(a._snapshot.mutatedKeys.has(E.doc.key),a._snapshot.fromCache),a.query.converter);let q=-1,re=-1;return 0!==E.type&&(q=g.indexOf(E.doc.key),g=g.delete(E.doc.key)),1!==E.type&&(g=g.add(E.doc),re=g.indexOf(E.doc.key)),{type:Q_(E.type),doc:P,oldIndex:q,newIndex:re}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Q_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function J_(s,e){return s instanceof Ac&&e instanceof Ac?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof il&&e instanceof il&&s._firestore===e._firestore&&lf(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function sy(s){if(La(s)&&0===s.explicitOrderBy.length)throw new gt(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yd{}function wu(s,...e){for(const i of e)s=i._apply(s);return s}class ig extends Yd{constructor(e,i,a){super(),this.Ka=e,this.ja=i,this.Qa=a,this.type="where"}_apply(e){const i=Ic(e.firestore),a=function(d,g,E,P,q,re,fe){let Re;if(q.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new gt(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on FieldPath.documentId().`);if("in"===re||"not-in"===re){cy(fe,re);const ft=[];for(const Ot of fe)ft.push(Qd(P,d,Ot));Re={arrayValue:{values:ft}}}else Re=Qd(P,d,fe)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||cy(fe,re),Re=ey(E,"where",fe,"in"===re||"not-in"===re);const it=Oe.create(q,re,Re);return function(ft,Ot){if(Ot.v()){const ir=Li(ft);if(null!==ir&&!ir.isEqual(Ot.field))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ir.toString()}' and '${Ot.field.toString()}'`);const ts=td(ft);null!==ts&&og(0,Ot.field,ts)}const yn=function(ir,ts){for(const $a of ir.filters)if(ts.indexOf($a.op)>=0)return $a.op;return null}(ft,function(ir){switch(ir){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ot.op));if(null!==yn)throw new gt(Xe.INVALID_ARGUMENT,yn===Ot.op?`Invalid query. You cannot use more than one '${Ot.op.toString()}' filter.`:`Invalid query. You cannot use '${Ot.op.toString()}' filters with '${yn.toString()}' filters.`)}(d,it),it}(e._query,0,i,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Eo(e.firestore,e.converter,function(d,g){const E=d.filters.concat([g]);return new $o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),E,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,a))}}class qw extends Yd{constructor(e,i){super(),this.Ka=e,this.Wa=i,this.type="orderBy"}_apply(e){const i=function(a,d,g){if(null!==a.startAt)throw new gt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new gt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Ds(d,g);return function(P,q){if(null===td(P)){const re=Li(P);null!==re&&og(0,re,q.field)}}(a,E),E}(e._query,this.Ka,this.Wa);return new Eo(e.firestore,e.converter,function(a,d){const g=a.explicitOrderBy.concat([d]);return new $o(a.path,a.collectionGroup,g,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,i))}}class ev extends Yd{constructor(e,i,a){super(),this.type=e,this.Ga=i,this.za=a}_apply(e){return new Eo(e.firestore,e.converter,dc(e._query,this.Ga,this.za))}}class nv extends Yd{constructor(e,i,a){super(),this.type=e,this.Ha=i,this.Ja=a}_apply(e){const i=sg(e,this.type,this.Ha,this.Ja);return new Eo(e.firestore,e.converter,(d=i,new $o((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,d,a.endAt)));var a,d}}class ay extends Yd{constructor(e,i,a){super(),this.type=e,this.Ha=i,this.Ja=a}_apply(e){const i=sg(e,this.type,this.Ha,this.Ja);return new Eo(e.firestore,e.converter,(d=i,new $o((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,d)));var a,d}}function sg(s,e,i,a){if(i[0]=(0,qe.m9)(i[0]),i[0]instanceof Kd)return function(d,g,E,P,q){if(!P)throw new gt(Xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const re=[];for(const fe of kc(d))if(fe.field.isKeyField())re.push(Mu(g,P.key));else{const Re=P.data.field(fe.field);if(ul(Re))throw new gt(Xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const it=fe.field.canonicalString();throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}re.push(Re)}return new oo(re,q)}(s._query,s.firestore._databaseId,e,i[0]._document,a);{const d=Ic(s.firestore);return function(g,E,P,q,re,fe){const Re=g.explicitOrderBy;if(re.length>Re.length)throw new gt(Xe.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let ft=0;ft<re.length;ft++){const Ot=re[ft];if(Re[ft].field.isKeyField()){if("string"!=typeof Ot)throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof Ot}`);if(!lc(g)&&-1!==Ot.indexOf("/"))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${q}() must be a plain document ID, but '${Ot}' contains a slash.`);const yn=g.path.child(Vn.fromString(Ot));if(!Xt.isDocumentKey(yn))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${q}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const ir=new Xt(yn);it.push(Mu(E,ir))}else{const yn=ey(P,q,Ot);it.push(yn)}}return new oo(it,fe)}(s._query,s.firestore._databaseId,d,e,i,a)}}function Qd(s,e,i){if("string"==typeof(i=(0,qe.m9)(i))){if(""===i)throw new gt(Xe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lc(e)&&-1!==i.indexOf("/"))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Vn.fromString(i));if(!Xt.isDocumentKey(a))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Mu(s,new Xt(a))}if(i instanceof Ai)return Mu(s,i._key);throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wp(i)}.`)}function cy(s,e){if(!Array.isArray(s)||0===s.length)throw new gt(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new gt(Xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function og(s,e,i){if(!i.isEqual(e))throw new gt(Xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class ag{convertValue(e,i="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Yt()}}convertObject(e,i){const a={};return Ci(e.fields,(d,g)=>{a[d]=this.convertValue(g,i)}),a}convertGeoPoint(e){return new Xu(Ti(e.latitude),Ti(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ac(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const i=ta(e);return new bn(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Vn.fromString(e);wn(_d(a));const d=new Zd(a.get(1),a.get(3)),g=new Xt(a.popFirst(5));return d.isEqual(i)||br(`Document ${g} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),g}}function mf(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class sv extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,i)}}class ly{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Ic(e)}set(e,i,a){this._verifyNotCommitted();const d=Sc(e,this._firestore),g=mf(d.converter,i,a),E=zd(this._dataReader,"WriteBatch.set",d._key,g,null!==d.converter,a);return this._mutations.push(E.toMutation(d._key,ps.none())),this}update(e,i,a,...d){this._verifyNotCommitted();const g=Sc(e,this._firestore);let E;return E="string"==typeof(i=(0,qe.m9)(i))||i instanceof tu?ff(this._dataReader,"WriteBatch.update",g._key,i,a,d):eg(this._dataReader,"WriteBatch.update",g._key,i),this._mutations.push(E.toMutation(g._key,ps.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Sc(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(i._key,ps.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sc(s,e){if((s=(0,qe.m9)(s)).firestore!==e)throw new gt(Xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class sl extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,i)}}function py(s,e,i){s=rr(s,Ai);const a=rr(s.firestore,ys),d=mf(s.converter,e,i);return Wl(a,[zd(Ic(a),"setDoc",s._key,d,null!==s.converter,i).toMutation(s._key,ps.none())])}function ov(s,e,i,...a){s=rr(s,Ai);const d=rr(s.firestore,ys),g=Ic(d);let E;return E="string"==typeof(e=(0,qe.m9)(e))||e instanceof tu?ff(g,"updateDoc",s._key,e,i,a):eg(g,"updateDoc",s._key,e),Wl(d,[E.toMutation(s._key,ps.exists(!0))])}function yf(s,...e){var i,a,d;s=(0,qe.m9)(s);let g={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||Kp(e[E])||(g=e[E],E++);const P={includeMetadataChanges:g.includeMetadataChanges};if(Kp(e[E])){const Re=e[E];e[E]=null===(i=Re.next)||void 0===i?void 0:i.bind(Re),e[E+1]=null===(a=Re.error)||void 0===a?void 0:a.bind(Re),e[E+2]=null===(d=Re.complete)||void 0===d?void 0:d.bind(Re)}let q,re,fe;if(s instanceof Ai)re=rr(s.firestore,ys),fe=Wa(s._key.path),q={next:Re=>{e[E]&&e[E](Xd(re,s,Re))},error:e[E+1],complete:e[E+2]};else{const Re=rr(s,Eo);re=rr(Re.firestore,ys),fe=Re._query;const it=new sl(re);q={next:ft=>{e[E]&&e[E](new il(re,it,Re,ft))},error:e[E+1],complete:e[E+2]},sy(s._query)}return function(Re,it,ft,Ot){const yn=new _i(Ot),ir=new Cp(it,yn,ft);return Re.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return bp(yield el(Re),ir)})),()=>{yn.Xo(),Re.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Kh(yield el(Re),ir)}))}}(zi(re),fe,P,q)}function Wl(s,e){return function(i,a){const d=new D;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(s,e,i){return xp.apply(this,arguments)}(yield jd(i),a,d)})),d.promise}(zi(s),e)}function Xd(s,e,i){const a=i.docs.get(e._key),d=new sl(s);return new Ac(s,d,e._key,a,new Dc(i.hasPendingWrites,i.fromCache),e.converter)}class dg extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ic(e)}get(e){const i=Sc(e,this._firestore),a=new sv(this._firestore);return this._transaction.lookup([i._key]).then(d=>{if(!d||1!==d.length)return Yt();const g=d[0];if(g.isFoundDocument())return new Kd(this._firestore,a,g.key,g,i.converter);if(g.isNoDocument())return new Kd(this._firestore,a,i._key,null,i.converter);throw Yt()})}set(e,i,a){const d=Sc(e,this._firestore),g=mf(d.converter,i,a),E=zd(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,a);return this._transaction.set(d._key,E),this}update(e,i,a,...d){const g=Sc(e,this._firestore);let E;return E="string"==typeof(i=(0,qe.m9)(i))||i instanceof tu?ff(this._dataReader,"Transaction.update",g._key,i,a,d):eg(this._dataReader,"Transaction.update",g._key,i),this._transaction.update(g._key,E),this}delete(e){const i=Sc(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Sc(e,this._firestore),a=new sl(this._firestore);return super.get(e).then(d=>new Ac(this._firestore,a,i._key,d._document,new Dc(!1,!1),i.converter))}}function eh(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function pg(){if("undefined"==typeof Uint8Array)throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function wy(){if("undefined"==typeof atob)throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){vo=s})(rt.SDK_VERSION),(0,rt._registerComponent)(new qt.wA("firestore",(s,{options:e})=>{const i=s.getProvider("app").getImmediate(),a=new ys(i,new U(s.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),a._setSettings(e),a},"PUBLIC")),(0,rt.registerVersion)(Du,"3.1.1",void 0),(0,rt.registerVersion)(Du,"3.1.1","esm2017");class Kl{constructor(e){this._delegate=e}static fromBase64String(e){return wy(),new Kl(Yo.fromBase64String(e))}static fromUint8Array(e){return pg(),new Kl(Yo.fromUint8Array(e))}toBase64(){return wy(),this._delegate.toBase64()}toUint8Array(){return pg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _f(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const i=s;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(s)}class by{enableIndexedDbPersistence(e,i){return function(s,e){Ia(s=rr(s,ys));const i=zi(s),a=s._freezeSettings(),d=new Bp;return Km(i,d,new km(d,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return function(s){Ia(s=rr(s,ys));const e=zi(s),i=s._freezeSettings(),a=new Bp;return Km(e,a,new Bw(a,i.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new gt(Xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new D;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(i=(0,ye.Z)(function*(a){if(!zo.bt())return Promise.resolve();const d=a+"main";yield zo.delete(d)}),function(a){return i.apply(this,arguments)})(np(s._databaseId,s._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}(e._delegate)}}class Ey{constructor(e,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)}useEmulator(e,i,a={}){!function(s,e,i,a={}){var d;const g=(s=rr(s,cf))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${i}`,ssl:!1})),a.mockUserToken){let E,P;if("string"==typeof a.mockUserToken)E=a.mockUserToken,P=oi.MOCK_USER;else{E=(0,qe.Sg)(a.mockUserToken,null===(d=s._app)||void 0===d?void 0:d.options.projectId);const q=a.mockUserToken.sub||a.mockUserToken.user_id;if(!q)throw new gt(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new oi(q)}s._credentials=new R(new w(E,P))}}(this._delegate,e,i,a)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Vm(s),i=yield Zl(s);return e.setNetworkEnabled(!0),function(a){const d=St(a);return d.Kr.delete(0),ja(d)}(i)}))}(zi(s=rr(s,ys)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield Vm(s),i=yield Zl(s);return e.setNetworkEnabled(!1),(a=(0,ye.Z)(function*(d){const g=St(d);g.Kr.add(0),yield Pl(g),g.Wr.set("Offline")}),function(d){return a.apply(this,arguments)})(i);var a}))}(zi(s=rr(s,ys)))}(this._delegate)}enablePersistence(e){let i=!1,a=!1;return e&&(i=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,qm("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const i=new D;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(s,e){return Np.apply(this,arguments)}(yield jd(e),i)})),i.promise}(zi(s=rr(s,ys)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const i=new _i(e);return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield el(s),d=i,St(a).Zr.add(d),void d.next();var a,d})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return a=yield el(s),d=i,void St(a).Zr.delete(d);var a,d}))}}(zi(s=rr(s,ys)),Kp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jl(this,G_(this._delegate,e))}catch(i){throw Ro(i,"collection()","Firestore.collection()")}}doc(e){try{return new Ta(this,Hl(this._delegate,e))}catch(i){throw Ro(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Po(this,function(s,e){if(s=rr(s,cf),Hd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt(Xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Eo(s,null,(i=e,new $o(Vn.emptyPath(),i)));var i}(this._delegate,e))}catch(i){throw Ro(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e){return function(s,e){const i=new D;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const a=yield(d=s,Bd(d).then(g=>g.datastore));var d;new Ju(s.asyncQueue,a,e,i).run()})),i.promise}(zi(s),i=>e(new dg(s,i)))}(this._delegate,i=>e(new wf(this,i)))}batch(){return zi(this._delegate),new bf(new ly(this._delegate,e=>Wl(this._delegate,e)))}loadBundle(e){return function(s,e){const i=zi(s=rr(s,ys)),a=new W_;return function(s,e,i,a){const d=function(g,E){let P;return P="string"==typeof g?(new TextEncoder).encode(g):g,q=function(q,re){if(q instanceof Uint8Array)return jp(q,void 0);if(q instanceof ArrayBuffer)return jp(new Uint8Array(q),void 0);if(q instanceof ReadableStream)return q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Zp(q,E);var q}(i,jh(e));s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(s,e,i){const a=St(s);var d;(d=(0,ye.Z)(function*(g,E,P){try{const q=yield E.getMetadata();if(yield function(it,ft){const Ot=St(it),yn=Rs(ft.createTime);return Ot.persistence.runTransaction("hasNewerBundle","readonly",ir=>Ot.Je.getBundleMetadata(ir,ft.id)).then(ir=>!!ir&&ir.createTime.compareTo(yn)>=0)}(g.localStore,q))return yield E.close(),void P._completeWith((it=q,{taskState:"Success",documentsLoaded:it.totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}));P._updateProgress(Ip(q));const re=new M_(q,g.localStore,E.N);let fe=yield E.Qo();for(;fe;){const it=yield re.fo(fe);it&&P._updateProgress(it),fe=yield E.Qo()}const Re=yield re.complete();yield Qu(g,Re.En,void 0),yield function(it,ft){const Ot=St(it);return Ot.persistence.runTransaction("Save bundle","readwrite",yn=>Ot.Je.saveBundleMetadata(yn,ft))}(g.localStore,q),P._completeWith(Re.progress)}catch(q){pa("SyncEngine",`Loading bundle failed with ${q}`),P._failWith(q)}var it}),function(g,E,P){return d.apply(this,arguments)})(a,e,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield jd(s),d,a)}))}(i,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ye.Z)(function*(){return function(i,a){const d=St(i);return d.persistence.runTransaction("Get named query","readonly",g=>d.Je.getNamedQuery(g,a))}(yield qp(s),e)}))}(zi(s=rr(s,ys)),e).then(i=>i?new Eo(s,null,i.query):null)}(this._delegate,e).then(i=>i?new Po(this,i):null)}}class vf extends ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(new Yo(e))}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return Ta.forKey(i,this.firestore,null)}}class wf{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new vf(e)}get(e){const i=Mc(e);return this._delegate.get(i).then(a=>new Yl(this._firestore,new Ac(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(e,i,a){const d=Mc(e);return a?(eh("Transaction.set",a),this._delegate.set(d,i,a)):this._delegate.set(d,i),this}update(e,i,a,...d){const g=Mc(e);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,a,...d),this}delete(e){const i=Mc(e);return this._delegate.delete(i),this}}class bf{constructor(e){this._delegate=e}set(e,i,a){const d=Mc(e);return a?(eh("WriteBatch.set",a),this._delegate.set(d,i,a)):this._delegate.set(d,i),this}update(e,i,a,...d){const g=Mc(e);return 2===arguments.length?this._delegate.update(g,i):this._delegate.update(g,i,a,...d),this}delete(e){const i=Mc(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class xc{constructor(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}fromFirestore(e,i){const a=new gf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ql(this._firestore,a),null!=i?i:{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){const a=xc.INSTANCES;let d=a.get(e);d||(d=new WeakMap,a.set(e,d));let g=d.get(i);return g||(g=new xc(e,new vf(e),i),d.set(i,g)),g}}xc.INSTANCES=new WeakMap;class Ta{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new vf(e)}static forPath(e,i,a){if(e.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ta(i,new Ai(i._delegate,a,new Xt(e)))}static forKey(e,i,a){return new Ta(i,new Ai(i._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new Jl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jl(this.firestore,G_(this._delegate,e))}catch(i){throw Ro(i,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qe.m9)(e))instanceof Ai&&Wm(this._delegate,e)}set(e,i){i=eh("DocumentReference.set",i);try{return i?py(this._delegate,e,i):py(this._delegate,e)}catch(a){throw Ro(a,"setDoc()","DocumentReference.set()")}}update(e,i,...a){try{return 1===arguments.length?ov(this._delegate,e):ov(this._delegate,e,i,...a)}catch(d){throw Ro(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Wl(rr(s.firestore,ys),[new Bc(s._key,ps.none())])}(this._delegate)}onSnapshot(...e){const i=mg(e),a=yg(e,d=>new Yl(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return yf(this._delegate,i,a)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=rr(s,Ai);const e=rr(s.firestore,ys),i=zi(e),a=new sl(e);return function(s,e){const i=new D;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(d,g,E){try{const P=yield function(q,re){const fe=St(q);return fe.persistence.runTransaction("read document","readonly",Re=>fe.Qn.An(Re,re))}(d,g);P.isFoundDocument()?E.resolve(P):P.isNoDocument()?E.resolve(null):E.reject(new gt(Xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const q=Vl(P,`Failed to get document '${g} from cache`);E.reject(q)}}),function(d,g,E){return a.apply(this,arguments)})(yield qp(s),e,i);var a})),i.promise}(i,s._key).then(d=>new Ac(e,a,s._key,d,new Dc(null!==d&&d.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=rr(s,Ai);const e=rr(s.firestore,ys);return jm(zi(e),s._key,{source:"server"}).then(i=>Xd(e,s,i))}(this._delegate):function(s){s=rr(s,Ai);const e=rr(s.firestore,ys);return jm(zi(e),s._key).then(i=>Xd(e,s,i))}(this._delegate),i.then(a=>new Yl(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}function Ro(s,e,i){return s.message=s.message.replace(e,i),s}function mg(s){for(const e of s)if("object"==typeof e&&!_f(e))return e;return{}}function yg(s,e){var i,a;let d;return d=_f(s[0])?s[0]:_f(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:g=>{d.next&&d.next(e(g))},error:null===(i=d.error)||void 0===i?void 0:i.bind(d),complete:null===(a=d.complete)||void 0===a?void 0:a.bind(d)}}class Yl{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return J_(this._delegate,e._delegate)}}class Ql extends Yl{data(e){const i=this._delegate.data(e);return function(s,e){s||Yt()}(void 0!==i),i}}class Po{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new vf(e)}where(e,i,a){try{return new Po(this.firestore,wu(this._delegate,function(s,e,i){const a=e,d=pf("where",s);return new ig(d,a,i)}(e,i,a)))}catch(d){throw Ro(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new Po(this.firestore,wu(this._delegate,function(s,e="asc"){const i=e,a=pf("orderBy",s);return new qw(a,i)}(e,i)))}catch(a){throw Ro(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Po(this.firestore,wu(this._delegate,function(s){return $_("limit",s),new ev("limit",s,"F")}(e)))}catch(i){throw Ro(i,"limit()","Query.limit()")}}limitToLast(e){try{return new Po(this.firestore,wu(this._delegate,function(s){return $_("limitToLast",s),new ev("limitToLast",s,"L")}(e)))}catch(i){throw Ro(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Po(this.firestore,wu(this._delegate,function(...s){return new nv("startAt",s,!0)}(...e)))}catch(i){throw Ro(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Po(this.firestore,wu(this._delegate,function(...s){return new nv("startAfter",s,!1)}(...e)))}catch(i){throw Ro(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Po(this.firestore,wu(this._delegate,function(...s){return new ay("endBefore",s,!0)}(...e)))}catch(i){throw Ro(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Po(this.firestore,wu(this._delegate,function(...s){return new ay("endAt",s,!1)}(...e)))}catch(i){throw Ro(i,"endAt()","Query.endAt()")}}isEqual(e){return lf(this._delegate,e._delegate)}get(e){let i;return i="cache"===(null==e?void 0:e.source)?function(s){s=rr(s,Eo);const e=rr(s.firestore,ys),i=zi(e),a=new sl(e);return function(s,e){const i=new D;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(a=(0,ye.Z)(function*(d,g,E){try{const P=yield Dd(d,g,!0),q=new Xa(g,P.Gn),re=q.Io(P.documents),fe=q.applyChanges(re,!1);E.resolve(fe.snapshot)}catch(P){const q=Vl(P,`Failed to execute query '${g} against cache`);E.reject(q)}}),function(d,g,E){return a.apply(this,arguments)})(yield qp(s),e,i);var a})),i.promise}(i,s._query).then(d=>new il(e,a,s,d))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=rr(s,Eo);const e=rr(s.firestore,ys),i=zi(e),a=new sl(e);return Zm(i,s._query,{source:"server"}).then(d=>new il(e,a,s,d))}(this._delegate):function(s){s=rr(s,Eo);const e=rr(s.firestore,ys),i=zi(e),a=new sl(e);return sy(s._query),Zm(i,s._query).then(d=>new il(e,a,s,d))}(this._delegate),i.then(a=>new _g(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const i=mg(e),a=yg(e,d=>new _g(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return yf(this._delegate,i,a)}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}class Kw{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Ql(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _g{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ql(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new Kw(this._firestore,i))}forEach(e,i){this._delegate.forEach(a=>{e.call(i,new Ql(this._firestore,a))})}isEqual(e){return J_(this._delegate,e._delegate)}}class Jl extends Po{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ta(this.firestore,e):null}doc(e){try{return new Ta(this.firestore,void 0===e?Hl(this._delegate):Hl(this._delegate,e))}catch(i){throw Ro(i,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const i=rr(s.firestore,ys),a=Hl(s),d=mf(s.converter,e);return Wl(i,[zd(Ic(s.firestore),"addDoc",a._key,d,null!==s.converter,{}).toMutation(a._key,ps.exists(!1))]).then(()=>a)}(this._delegate,e).then(i=>new Ta(this.firestore,i))}isEqual(e){return Wm(this._delegate,e._delegate)}withConverter(e){return new Jl(this.firestore,this._delegate.withConverter(e?xc.getInstance(this.firestore,e):null))}}function Mc(s){return rr(s,Ai)}class vg{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new vg(Es.keyField().canonicalString())}isEqual(e){return(e=(0,qe.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ui{constructor(e){this._delegate=e}static serverTimestamp(){const e=new hf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ui(e)}static delete(){const e=new Gl("deleteField");return e._methodName="FieldValue.delete",new Ui(e)}static arrayUnion(...e){const i=function(...s){return new Qm("arrayUnion",s)}(...e);return i._methodName="FieldValue.arrayUnion",new Ui(i)}static arrayRemove(...e){const i=function(...s){return new Jm("arrayRemove",s)}(...e);return i._methodName="FieldValue.arrayRemove",new Ui(i)}static increment(e){const i=function(s){return new Xm("increment",s)}(e);return i._methodName="FieldValue.increment",new Ui(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cy={Firestore:Ey,GeoPoint:Xu,Timestamp:bn,Blob:Kl,Transaction:wf,WriteBatch:bf,DocumentReference:Ta,DocumentSnapshot:Yl,Query:Po,QueryDocumentSnapshot:Ql,QuerySnapshot:_g,CollectionReference:Jl,FieldPath:vg,FieldValue:Ui,setLogLevel:function(s){!function(s){Ms.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new qt.wA("firestore-compat",i=>((e,i)=>new Ey(e,i,new by))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Cy)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.4")}(Qe.Z);var tc=Z(8006),fv=Z(2965),Iy=Z(7841);function ol(s,e){return function(s,e=c.z){return new X.y(i=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},i)}):a=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(s,e)}function wg(s,e){return ol(s,e).pipe((0,Je.U)(i=>({payload:i,type:"query"})))}function th(s,e){return wg(s,e).pipe((0,Ae.O)(void 0),Ie(),(0,Je.U)(([i,a])=>{const d=a.payload.docChanges(),g=d.map(E=>({type:E.type,payload:E}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((E,P)=>{const q=d.find(fe=>fe.doc.ref.isEqual(E.ref)),re=null==i?void 0:i.payload.docs.find(fe=>fe.ref.isEqual(E.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(E.metadata)||!q&&re&&JSON.stringify(re.metadata)===JSON.stringify(E.metadata)||g.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:E}})}),g}))}function Dy(s,e,i){return th(s,i).pipe((0,Be.R)((a,d)=>function(s,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sy(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=s.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return Sy(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sy(s,e.oldIndex,1)}return s}(s,a))}),s}(a,d.map(g=>g.payload),e),[]),i=>i.lift(new pe(void 0,void 0)),(0,Je.U)(a=>a.map(d=>({type:d.type,payload:d}))))}function Sy(s,e,i,...a){const d=s.slice();return d.splice(e,i,...a),d}function Ef(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class nu{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=th(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,Je.U)(a=>a.filter(d=>e.indexOf(d.type)>-1)))),i.pipe((0,Ae.O)(void 0),Ie(),(0,be.h)(([a,d])=>d.length>0||!a),(0,Je.U)(([a,d])=>d),me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Be.R)((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Ef(e);return Dy(this.query,i,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),me.iC)}get(e){return(0,se.D)(this.query.get(e)).pipe(me.iC)}add(e){return this.ref.add(e)}doc(e){return new My(this.ref.doc(e),this.afs)}}class My{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:d,query:g}=bg(a,i);return new nu(d,g,this.afs)}snapshotChanges(){return function(s,e){return ol(s,e).pipe((0,Ae.O)(void 0),Ie(),(0,Je.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,se.D)(this.ref.get(e)).pipe(me.iC)}}class gv{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?th(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),(0,be.h)(i=>i.length>0),me.iC):th(this.query,this.afs.schedulers.outsideAngular).pipe(me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Be.R)((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=Ef(e);return Dy(this.query,i,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(a=>a.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),me.iC)}get(e){return(0,se.D)(this.query.get(e)).pipe(me.iC)}}const ru=new _.OlP("angularfire2.enableFirestorePersistence"),Ha=new _.OlP("angularfire2.firestore.persistenceSettings"),iu=new _.OlP("angularfire2.firestore.settings"),Oy=new _.OlP("angularfire2.firestore.use-emulator");function bg(s,e=(i=>i)){return{query:e(s),ref:s}}let Ny=(()=>{class s{constructor(i,a,d,g,E,P,q,re,fe,Re,it,ft,Ot,yn,ir,ts,$a){this.schedulers=q;const su=(0,ae.on)(i,P,a),bu=fe;Re&&(0,tc.nw)(su,P,it,Ot,yn,ir,ft,ts),[this.firestore,this.persistenceEnabled$]=(0,ae.cc)(`${su.name}.firestore`,"AngularFirestore",su.name,()=>{const Eu=P.runOutsideAngular(()=>su.firestore());if(g&&Eu.settings(g),bu&&Eu.useEmulator(...bu),d&&!(0,Me.PM)(E)){const nh=()=>{try{return(0,se.D)(Eu.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(yv){return"undefined"!=typeof console&&console.warn(yv),(0,Te.of)(!1)}};return[Eu,P.runOutsideAngular(nh)]}return[Eu,(0,Te.of)(!1)]},[g,bu,d])}collection(i,a){let d;d="string"==typeof i?this.firestore.collection(i):i;const{ref:g,query:E}=bg(d,a),P=this.schedulers.ngZone.run(()=>g);return new nu(P,E,this)}collectionGroup(i,a){const d=a||(E=>E),g=this.firestore.collectionGroup(i);return new gv(d(g),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const d=this.schedulers.ngZone.run(()=>a);return new My(d,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(_.LFG(ae.Dh),_.LFG(ae.xv,8),_.LFG(ru,8),_.LFG(iu,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(me.HU),_.LFG(Ha,8),_.LFG(Oy,8),_.LFG(tc.zQ,8),_.LFG(tc.Qv,8),_.LFG(tc.L6,8),_.LFG(tc._Q,8),_.LFG(tc.rT,8),_.LFG(tc.lh,8),_.LFG(tc.f7,8),_.LFG(fv.nm,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),mv=(()=>{class s{constructor(){Iy.Z.registerVersion("angularfire",me.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:ru,useValue:!0},{provide:Ha,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[Ny]}),s})()},8939:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{hO:()=>de,xv:()=>ue,Dh:()=>Ie,GT:()=>me,cc:()=>Ae,on:()=>ne,pX:()=>Te});var _=Z(3018),c=Z(7841),X=Z(6643);Pt=Z.hmd(Pt);const se=["ngOnDestroy"],Te=(ae,Me,Ve,Qe={})=>new Proxy(ae,{get:(ye,rt)=>Ve.runOutsideAngular(()=>{var qt;if(ae[rt])return(null===(qt=null==Qe?void 0:Qe.spy)||void 0===qt?void 0:qt.get)&&Qe.spy.get(rt,ae[rt]),ae[rt];if(se.indexOf(rt)>-1)return()=>{};const Gt=Me.toPromise().then(qe=>{const je=qe&&qe[rt];return"function"==typeof je?je.bind(qe):je&&je.then?je.then(He=>Ve.run(()=>He)):Ve.run(()=>je)});return new Proxy(()=>{},{get:(qe,je)=>Gt[je],apply:(qe,je,He)=>Gt.then(he=>{var ke;const Ze=he&&he(...He);return(null===(ke=null==Qe?void 0:Qe.spy)||void 0===ke?void 0:ke.apply)&&Qe.spy.apply(rt,He,Ze),Ze})})})}),me=(ae,Me)=>{Me.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Qe=>{Object.defineProperty(ae.prototype,Qe,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Qe))})})};class Ue{constructor(Me){return Me}}const Ie=new _.OlP("angularfire2.app.options"),ue=new _.OlP("angularfire2.app.name");function ne(ae,Me,Ve){const ye="object"==typeof Ve&&Ve||{};ye.name=ye.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const qt=c.Z.apps.filter(Gt=>Gt&&Gt.name===ye.name)[0]||Me.runOutsideAngular(()=>c.Z.initializeApp(ae,ye));try{JSON.stringify(ae)!==JSON.stringify(qt.options)&&W("error",`${qt.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Gt){}return new Ue(qt)}const W=(ae,...Me)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[ae](...Me)},pe={provide:Ue,useFactory:ne,deps:[Ie,_.R0b,[new _.FiY,ue]]};let de=(()=>{class ae{constructor(Ve){c.Z.registerVersion("angularfire",X.q4.full,"core"),c.Z.registerVersion("angularfire",X.q4.full,"app-compat"),c.Z.registerVersion("angular",_.q4F.full,Ve.toString())}static initializeApp(Ve,Qe){return{ngModule:ae,providers:[{provide:Ie,useValue:Ve},{provide:ue,useValue:Qe}]}}}return ae.\u0275fac=function(Ve){return new(Ve||ae)(_.LFG(_.Lbi))},ae.\u0275mod=_.oAB({type:ae}),ae.\u0275inj=_.cJS({providers:[pe]}),ae})();function Ae(ae,Me,Ve,Qe,ye){const[,rt,qt]=globalThis.\u0275AngularfireInstanceCache.find(Gt=>Gt[0]===ae)||[];if(rt)return function(ae,Me){try{return ae.toString()===Me.toString()}catch(Ve){return ae===Me}}(ye,qt)||(be("error",`${Me} was already initialized on the ${Ve} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:ye,was:qt})),rt;{const Gt=Qe();return globalThis.\u0275AngularfireInstanceCache.push([ae,Gt,ye]),Gt}}const Be=!!Pt.hot,be=(ae,...Me)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[ae](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{q4:()=>ul,iC:()=>Pc,fc:()=>ka,HU:()=>so,vb:()=>Ra,JM:()=>xu});var _=Z(3018),c=Z(2329),X=Z(8239),se=Z(5452),Te=Z(3854),me=Z(6034),Ue=Z(5601),Ie=Z(6676);const ue="@firebase/installations",pe="w:0.5.2",de="FIS_v2",Me=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(x){return x instanceof Te.ZR&&x.code.includes("request-failed")}function Qe({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ye(x){return{token:x.token,requestStatus:2,expiresIn:he(x.expiresIn),creationTime:Date.now()}}function rt(x,V){return qt.apply(this,arguments)}function qt(){return(qt=(0,X.Z)(function*(x,V){const le=(yield V.json()).error;return Me.create("request-failed",{requestName:x,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function Gt({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function qe(x,{refreshToken:V}){const Q=Gt(x);return Q.append("Authorization",function(x){return`${de} ${x}`}(V)),Q}function je(x){return He.apply(this,arguments)}function He(){return(He=(0,X.Z)(function*(x){const V=yield x();return V.status>=500&&V.status<600?x():V})).apply(this,arguments)}function he(x){return Number(x.replace("s","000"))}function Ze(x,V){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,X.Z)(function*(x,{fid:V}){const Q=Qe(x),nt={method:"POST",headers:Gt(x),body:JSON.stringify({fid:V,authVersion:de,appId:x.appId,sdkVersion:pe})},vt=yield je(()=>fetch(Q,nt));if(vt.ok){const en=yield vt.json();return{fid:en.fid||V,registrationStatus:2,refreshToken:en.refreshToken,authToken:ye(en.authToken)}}throw yield rt("Create Installation",vt)})).apply(this,arguments)}function It(x){return new Promise(V=>{setTimeout(V,x)})}const Kn=/^[cdef][\w-]{21}$/;function zt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const Q=function(x){return function(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Kn.test(Q)?Q:""}catch(x){return""}}function Rt(x){return`${x.appName}!${x.appId}`}const Wt=new Map;function fn(x,V){const Q=Rt(x);bt(Q,V),function(x,V){const Q=(!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=x=>{bt(x.data.key,x.data.fid)}),Yn);Q&&Q.postMessage({key:x,fid:V}),0===Wt.size&&Yn&&(Yn.close(),Yn=null)}(Q,V)}function bt(x,V){const Q=Wt.get(x);if(Q)for(const le of Q)le(V)}let Yn=null;const fr="firebase-installations-store";let kt=null;function Qt(){return kt||(kt=(0,Ie.openDb)("firebase-installations-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(fr)}})),kt}function jn(x,V){return cn.apply(this,arguments)}function cn(){return(cn=(0,X.Z)(function*(x,V){const Q=Rt(x),Oe=(yield Qt()).transaction(fr,"readwrite"),nt=Oe.objectStore(fr),vt=yield nt.get(Q);return yield nt.put(V,Q),yield Oe.complete,(!vt||vt.fid!==V.fid)&&fn(x,V.fid),V})).apply(this,arguments)}function Sn(x){return mn.apply(this,arguments)}function mn(){return(mn=(0,X.Z)(function*(x){const V=Rt(x),le=(yield Qt()).transaction(fr,"readwrite");yield le.objectStore(fr).delete(V),yield le.complete})).apply(this,arguments)}function Ft(x,V){return st.apply(this,arguments)}function st(){return(st=(0,X.Z)(function*(x,V){const Q=Rt(x),Oe=(yield Qt()).transaction(fr,"readwrite"),nt=Oe.objectStore(fr),vt=yield nt.get(Q),en=V(vt);return void 0===en?yield nt.delete(Q):yield nt.put(en,Q),yield Oe.complete,en&&(!vt||vt.fid!==en.fid)&&fn(x,en.fid),en})).apply(this,arguments)}function pn(x){return nr.apply(this,arguments)}function nr(){return(nr=(0,X.Z)(function*(x){let V;const Q=yield Ft(x,le=>{const Oe=zn(le),nt=Ln(x,Oe);return V=nt.registrationPromise,nt.installationEntry});return""===Q.fid?{installationEntry:yield V}:{installationEntry:Q,registrationPromise:V}})).apply(this,arguments)}function zn(x){return Qn(x||{fid:zt(),registrationStatus:0})}function Ln(x,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Me.create("app-offline"))};const Q={fid:V.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Q,registrationPromise:function(x,V){return Ut.apply(this,arguments)}(x,Q)}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:lr(x)}:{installationEntry:V}}function Ut(){return(Ut=(0,X.Z)(function*(x,V){try{return jn(x,yield Ze(x,V))}catch(Q){throw Ve(Q)&&409===Q.customData.serverCode?yield Sn(x):yield jn(x,{fid:V.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function lr(x){return ci.apply(this,arguments)}function ci(){return(ci=(0,X.Z)(function*(x){let V=yield li(x);for(;1===V.registrationStatus;)yield It(100),V=yield li(x);if(0===V.registrationStatus){const{installationEntry:Q,registrationPromise:le}=yield pn(x);return le||Q}return V})).apply(this,arguments)}function li(x){return Ft(x,V=>{if(!V)throw Me.create("installation-not-found");return Qn(V)})}function Qn(x){return function(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function zr(x,V){return ve.apply(this,arguments)}function ve(){return(ve=(0,X.Z)(function*({appConfig:x,platformLoggerProvider:V},Q){const le=De(x,Q),Oe=qe(x,Q),nt=V.getImmediate({optional:!0});nt&&Oe.append("x-firebase-client",nt.getPlatformInfoString());const en={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:pe}})},Kt=yield je(()=>fetch(le,en));if(Kt.ok)return ye(yield Kt.json());throw yield rt("Generate Auth Token",Kt)})).apply(this,arguments)}function De(x,{fid:V}){return`${Qe(x)}/${V}/authTokens:generate`}function ge(x){return ot.apply(this,arguments)}function ot(){return(ot=(0,X.Z)(function*(x,V=!1){let Q;const le=yield Ft(x.appConfig,nt=>{if(!Cn(nt))throw Me.create("not-registered");const vt=nt.authToken;if(!V&&Dr(vt))return nt;if(1===vt.requestStatus)return Q=Ge(x,V),nt;{if(!navigator.onLine)throw Me.create("app-offline");const en=xn(nt);return Q=Bn(x,en),en}});return Q?yield Q:le.authToken})).apply(this,arguments)}function Ge(x,V){return xt.apply(this,arguments)}function xt(){return(xt=(0,X.Z)(function*(x,V){let Q=yield yt(x.appConfig);for(;1===Q.authToken.requestStatus;)yield It(100),Q=yield yt(x.appConfig);const le=Q.authToken;return 0===le.requestStatus?ge(x,V):le})).apply(this,arguments)}function yt(x){return Ft(x,V=>{if(!Cn(V))throw Me.create("not-registered");return function(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function Bn(x,V){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,X.Z)(function*(x,V){try{const Q=yield zr(x,V),le=Object.assign(Object.assign({},V),{authToken:Q});return yield jn(x.appConfig,le),Q}catch(Q){if(!Ve(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const le=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield jn(x.appConfig,le)}else yield Sn(x.appConfig);throw Q}})).apply(this,arguments)}function Cn(x){return void 0!==x&&2===x.registrationStatus}function Dr(x){return 2===x.requestStatus&&!function(x){const V=Date.now();return V<x.creationTime||x.creationTime+x.expiresIn<V+36e5}(x)}function xn(x){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:V})}function ln(){return(ln=(0,X.Z)(function*(x){const V=x,{installationEntry:Q,registrationPromise:le}=yield pn(V.appConfig);return le?le.catch(console.error):ge(V).catch(console.error),Q.fid})).apply(this,arguments)}function Si(){return(Si=(0,X.Z)(function*(x,V=!1){const Q=x;return yield di(Q.appConfig),(yield ge(Q,V)).token})).apply(this,arguments)}function di(x){return xi.apply(this,arguments)}function xi(){return(xi=(0,X.Z)(function*(x){const{registrationPromise:V}=yield pn(x);V&&(yield V)})).apply(this,arguments)}function Nr(x){return Me.create("missing-app-config-values",{valueName:x})}const Bi="installations";(0,se._registerComponent)(new me.wA(Bi,x=>{const V=x.getProvider("app").getImmediate();return{app:V,appConfig:function(x){if(!x||!x.options)throw Nr("App Configuration");if(!x.name)throw Nr("App Name");const V=["projectId","apiKey","appId"];for(const Q of V)if(!x.options[Q])throw Nr(Q);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(V),platformLoggerProvider:(0,se._getProvider)(V,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",x=>{const V=x.getProvider("app").getImmediate(),Q=(0,se._getProvider)(V,Bi).getImmediate();return{getId:()=>function(x){return ln.apply(this,arguments)}(Q),getToken:Oe=>function(x){return Si.apply(this,arguments)}(Q,Oe)}},"PRIVATE")),(0,se.registerVersion)(ue,"0.5.2"),(0,se.registerVersion)(ue,"0.5.2","esm2017");const wr="@firebase/remote-config",Cr=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kr{constructor(V,Q,le,Oe){this.client=V,this.storage=Q,this.storageCache=le,this.logger=Oe}isCachedDataFresh(V,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-Q,Oe=le<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Oe}.`),Oe}fetch(V){var Q=this;return(0,X.Z)(function*(){const[le,Oe]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Oe&&Q.isCachedDataFresh(V.cacheMaxAgeMillis,le))return Oe;V.eTag=Oe&&Oe.eTag;const nt=yield Q.client.fetch(V),vt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nt.status&&vt.push(Q.storage.setLastSuccessfulFetchResponse(nt)),yield Promise.all(vt),nt})()}}function $r(x=navigator){return x.languages&&x.languages[0]||x.language}class On{constructor(V,Q,le,Oe,nt,vt){this.firebaseInstallations=V,this.sdkVersion=Q,this.namespace=le,this.projectId=Oe,this.apiKey=nt,this.appId=vt}fetch(V){var Q=this;return(0,X.Z)(function*(){const[le,Oe]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,en={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Kt={sdk_version:Q.sdkVersion,app_instance_id:le,app_instance_id_token:Oe,app_id:Q.appId,language_code:$r()},vr={method:"POST",headers:en,body:JSON.stringify(Kt)},Sr=fetch(vt,vr),Ts=new Promise((ra,ya)=>{V.signal.addEventListener(()=>{const cc=new Error("The operation was aborted.");cc.name="AbortError",ya(cc)})});let Gs;try{yield Promise.race([Sr,Ts]),Gs=yield Sr}catch(ra){let ya="fetch-client-network";throw"AbortError"===ra.name&&(ya="fetch-timeout"),Cr.create(ya,{originalErrorMessage:ra.message})}let Os=Gs.status;const oo=Gs.headers.get("ETag")||void 0;let Fa,Ds;if(200===Gs.status){let ra;try{ra=yield Gs.json()}catch(ya){throw Cr.create("fetch-client-parse",{originalErrorMessage:ya.message})}Fa=ra.entries,Ds=ra.state}if("INSTANCE_STATE_UNSPECIFIED"===Ds?Os=500:"NO_CHANGE"===Ds?Os=304:("NO_TEMPLATE"===Ds||"EMPTY_CONFIG"===Ds)&&(Fa={}),304!==Os&&200!==Os)throw Cr.create("fetch-status",{httpStatus:Os});return{status:Os,eTag:oo,config:Fa}})()}}class Ur{constructor(V,Q){this.client=V,this.storage=Q}fetch(V){var Q=this;return(0,X.Z)(function*(){const le=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(V,le)})()}attemptFetch(V,{throttleEndTimeMillis:Q,backoffCount:le}){var Oe=this;return(0,X.Z)(function*(){yield function(x,V){return new Promise((Q,le)=>{const Oe=Math.max(V-Date.now(),0),nt=setTimeout(Q,Oe);x.addEventListener(()=>{clearTimeout(nt),le(Cr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Q);try{const nt=yield Oe.client.fetch(V);return yield Oe.storage.deleteThrottleMetadata(),nt}catch(nt){if(!function(x){if(!(x instanceof Te.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}(nt))throw nt;const vt={throttleEndTimeMillis:Date.now()+(0,Te.$s)(le),backoffCount:le+1};return yield Oe.storage.setThrottleMetadata(vt),Oe.attemptFetch(V,vt)}})()}}class Ws{constructor(V,Q,le,Oe,nt){this.app=V,this._client=Q,this._storageCache=le,this._storage=Oe,this._logger=nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gr(x,V){const Q=x.target.error||void 0;return Cr.create(V,{originalErrorMessage:Q&&Q.message})}const Mi="app_namespace_store";class os{constructor(V,Q,le,Oe=function(){return new Promise((x,V)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=le=>{V(gr(le,"storage-open"))},Q.onsuccess=le=>{x(le.target.result)},Q.onupgradeneeded=le=>{const Oe=le.target.result;switch(le.oldVersion){case 0:Oe.createObjectStore(Mi,{keyPath:"compositeKey"})}}}catch(Q){V(Cr.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=V,this.appName=Q,this.namespace=le,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Q=this;return(0,X.Z)(function*(){const le=yield Q.openDbPromise;return new Promise((Oe,nt)=>{const en=le.transaction([Mi],"readonly").objectStore(Mi),Kt=Q.createCompositeKey(V);try{const vr=en.get(Kt);vr.onerror=Sr=>{nt(gr(Sr,"storage-get"))},vr.onsuccess=Sr=>{const Ts=Sr.target.result;Oe(Ts?Ts.value:void 0)}}catch(vr){nt(Cr.create("storage-get",{originalErrorMessage:vr&&vr.message}))}})})()}set(V,Q){var le=this;return(0,X.Z)(function*(){const Oe=yield le.openDbPromise;return new Promise((nt,vt)=>{const Kt=Oe.transaction([Mi],"readwrite").objectStore(Mi),vr=le.createCompositeKey(V);try{const Sr=Kt.put({compositeKey:vr,value:Q});Sr.onerror=Ts=>{vt(gr(Ts,"storage-set"))},Sr.onsuccess=()=>{nt()}}catch(Sr){vt(Cr.create("storage-set",{originalErrorMessage:Sr&&Sr.message}))}})})()}delete(V){var Q=this;return(0,X.Z)(function*(){const le=yield Q.openDbPromise;return new Promise((Oe,nt)=>{const en=le.transaction([Mi],"readwrite").objectStore(Mi),Kt=Q.createCompositeKey(V);try{const vr=en.delete(Kt);vr.onerror=Sr=>{nt(gr(Sr,"storage-delete"))},vr.onsuccess=()=>{Oe()}}catch(vr){nt(Cr.create("storage-delete",{originalErrorMessage:vr&&vr.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Kr{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,X.Z)(function*(){const Q=V.storage.getLastFetchStatus(),le=V.storage.getLastSuccessfulFetchTimestampMillis(),Oe=V.storage.getActiveConfig(),nt=yield Q;nt&&(V.lastFetchStatus=nt);const vt=yield le;vt&&(V.lastSuccessfulFetchTimestampMillis=vt);const en=yield Oe;en&&(V.activeConfig=en)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Io(){return _s.apply(this,arguments)}function _s(){return(_s=(0,X.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,se._registerComponent)(new me.wA("remote-config",function(V,{instanceIdentifier:Q}){const le=V.getProvider("app").getImmediate(),Oe=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Cr.create("registration-window");if(!(0,Te.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:nt,apiKey:vt,appId:en}=le.options;if(!nt)throw Cr.create("registration-project-id");if(!vt)throw Cr.create("registration-api-key");if(!en)throw Cr.create("registration-app-id");const Kt=new os(en,le.name,Q=Q||"firebase"),vr=new Kr(Kt),Sr=new Ue.Yd(wr);Sr.logLevel=Ue.in.ERROR;const Ts=new On(Oe,se.SDK_VERSION,Q,nt,vt,en),Gs=new Ur(Ts,Kt),Os=new kr(Gs,Kt,vr,Sr),oo=new Ws(le,Os,vr,Kt,Sr);return function(x){const V=(0,Te.m9)(x);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(oo),oo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(wr,"0.3.1"),(0,se.registerVersion)(wr,"0.3.1","esm2017");const Ei="/firebase-messaging-sw.js",Zi="/firebase-cloud-messaging-push-scope",Hi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yi="google.c.a.c_id",vs="google.c.a.c_l",Qs="google.c.a.ts",as="google.c.a.e";var qr=(()=>{return(x=qr||(qr={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",qr;var x})();function Yr(x){const V=new Uint8Array(x);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fi(x){const Q=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(Q),Oe=new Uint8Array(le.length);for(let nt=0;nt<le.length;++nt)Oe[nt]=le.charCodeAt(nt);return Oe}const Qi="fcm_token_details_db",Oi="fcm_token_object_Store";function Jr(x){return us.apply(this,arguments)}function us(){return(us=(0,X.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(nt=>nt.name).includes(Qi))return null;let V=null;return(yield(0,Ie.openDb)(Qi,5,function(){var le=(0,X.Z)(function*(Oe){var nt;if(Oe.oldVersion<2||!Oe.objectStoreNames.contains(Oi))return;const vt=Oe.transaction.objectStore(Oi),en=yield vt.index("fcmSenderId").get(x);if(yield vt.clear(),en)if(2===Oe.oldVersion){const Kt=en;if(!Kt.auth||!Kt.p256dh||!Kt.endpoint)return;V={token:Kt.fcmToken,createTime:null!==(nt=Kt.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Kt.auth,p256dh:Kt.p256dh,endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:"string"==typeof Kt.vapidKey?Kt.vapidKey:Yr(Kt.vapidKey)}}}else if(3===Oe.oldVersion){const Kt=en;V={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Yr(Kt.auth),p256dh:Yr(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Yr(Kt.vapidKey)}}}else if(4===Oe.oldVersion){const Kt=en;V={token:Kt.fcmToken,createTime:Kt.createTime,subscriptionOptions:{auth:Yr(Kt.auth),p256dh:Yr(Kt.p256dh),endpoint:Kt.endpoint,swScope:Kt.swScope,vapidKey:Yr(Kt.vapidKey)}}}});return function(Oe){return le.apply(this,arguments)}}())).close(),yield(0,Ie.deleteDb)(Qi),yield(0,Ie.deleteDb)("fcm_vapid_details_db"),yield(0,Ie.deleteDb)("undefined"),Ni(V)?V:null})).apply(this,arguments)}function Ni(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:V}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const Fr="firebase-messaging-store";let Ri=null;function F(){return Ri||(Ri=(0,Ie.openDb)("firebase-messaging-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(Fr)}})),Ri}function z(x){return L.apply(this,arguments)}function L(){return(L=(0,X.Z)(function*(x){const V=N(x),le=yield(yield F()).transaction(Fr).objectStore(Fr).get(V);if(le)return le;{const Oe=yield Jr(x.appConfig.senderId);if(Oe)return yield J(x,Oe),Oe}})).apply(this,arguments)}function J(x,V){return we.apply(this,arguments)}function we(){return(we=(0,X.Z)(function*(x,V){const Q=N(x),Oe=(yield F()).transaction(Fr,"readwrite");return yield Oe.objectStore(Fr).put(V,Q),yield Oe.complete,V})).apply(this,arguments)}function ze(x){return ht.apply(this,arguments)}function ht(){return(ht=(0,X.Z)(function*(x){const V=N(x),le=(yield F()).transaction(Fr,"readwrite");yield le.objectStore(Fr).delete(V),yield le.complete})).apply(this,arguments)}function N({appConfig:x}){return x.appId}const T=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function G(x,V){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,X.Z)(function*(x,V){const Q=yield dr(x),le=Pi(V),Oe={method:"POST",headers:Q,body:JSON.stringify(le)};let nt;try{nt=yield(yield fetch(Mr(x.appConfig),Oe)).json()}catch(vt){throw T.create("token-subscribe-failed",{errorInfo:vt})}if(nt.error)throw T.create("token-subscribe-failed",{errorInfo:nt.error.message});if(!nt.token)throw T.create("token-subscribe-no-token");return nt.token})).apply(this,arguments)}function wt(x,V){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,X.Z)(function*(x,V){const Q=yield dr(x),le=Pi(V.subscriptionOptions),Oe={method:"PATCH",headers:Q,body:JSON.stringify(le)};let nt;try{nt=yield(yield fetch(`${Mr(x.appConfig)}/${V.token}`,Oe)).json()}catch(vt){throw T.create("token-update-failed",{errorInfo:vt})}if(nt.error)throw T.create("token-update-failed",{errorInfo:nt.error.message});if(!nt.token)throw T.create("token-update-no-token");return nt.token})).apply(this,arguments)}function cr(x,V){return Br.apply(this,arguments)}function Br(){return(Br=(0,X.Z)(function*(x,V){const le={method:"DELETE",headers:yield dr(x)};try{const nt=yield(yield fetch(`${Mr(x.appConfig)}/${V}`,le)).json();if(nt.error)throw T.create("token-unsubscribe-failed",{errorInfo:nt.error.message})}catch(Oe){throw T.create("token-unsubscribe-failed",{errorInfo:Oe})}})).apply(this,arguments)}function Mr({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function dr(x){return pi.apply(this,arguments)}function pi(){return(pi=(0,X.Z)(function*({appConfig:x,installations:V}){const Q=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Pi({p256dh:x,auth:V,endpoint:Q,vapidKey:le}){const Oe={web:{endpoint:Q,auth:V,p256dh:x}};return le!==Hi&&(Oe.web.applicationPubKey=le),Oe}const Ji=6048e5;function jr(x){return Js.apply(this,arguments)}function Js(){return(Js=(0,X.Z)(function*(x){const V=yield Sa(x.swRegistration,x.vapidKey),Q={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:V.endpoint,auth:Yr(V.getKey("auth")),p256dh:Yr(V.getKey("p256dh"))},le=yield z(x.firebaseDependencies);if(le){if(Bo(le.subscriptionOptions,Q))return Date.now()>=le.createTime+Ji?To(x,{token:le.token,createTime:Date.now(),subscriptionOptions:Q}):le.token;try{yield cr(x.firebaseDependencies,le.token)}catch(Oe){console.warn(Oe)}return Qo(x.firebaseDependencies,Q)}return Qo(x.firebaseDependencies,Q)})).apply(this,arguments)}function Vo(x){return rn.apply(this,arguments)}function rn(){return(rn=(0,X.Z)(function*(x){const V=yield z(x.firebaseDependencies);V&&(yield cr(x.firebaseDependencies,V.token),yield ze(x.firebaseDependencies));const Q=yield x.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function To(x,V){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,X.Z)(function*(x,V){try{const Q=yield wt(x.firebaseDependencies,V),le=Object.assign(Object.assign({},V),{token:Q,createTime:Date.now()});return yield J(x.firebaseDependencies,le),Q}catch(Q){throw yield Vo(x),Q}})).apply(this,arguments)}function Qo(x,V){return co.apply(this,arguments)}function co(){return(co=(0,X.Z)(function*(x,V){const le={token:yield G(x,V),createTime:Date.now(),subscriptionOptions:V};return yield J(x,le),le.token})).apply(this,arguments)}function Sa(x,V){return lo.apply(this,arguments)}function lo(){return(lo=(0,X.Z)(function*(x,V){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fi(V)})})).apply(this,arguments)}function Bo(x,V){return V.vapidKey===x.vapidKey&&V.endpoint===x.endpoint&&V.auth===x.auth&&V.p256dh===x.p256dh}function dt(x){const V={from:x.from,collapseKey:x.collapse_key,messageId:x.fcm_message_id};return function(x,V){if(!V.notification)return;x.notification={};const Q=V.notification.title;Q&&(x.notification.title=Q);const le=V.notification.body;le&&(x.notification.body=le);const Oe=V.notification.image;Oe&&(x.notification.image=Oe)}(V,x),function(x,V){!V.data||(x.data=V.data)}(V,x),function(x,V){if(!V.fcmOptions)return;x.fcmOptions={};const Q=V.fcmOptions.link;Q&&(x.fcmOptions.link=Q);const le=V.fcmOptions.analytics_label;le&&(x.fcmOptions.analyticsLabel=le)}(V,x),V}function Xs(x){return"object"==typeof x&&!!x&&Yi in x}function Ao(x,V){const Q=[];for(let le=0;le<x.length;le++)Q.push(x.charAt(le)),le<V.length&&Q.push(V.charAt(le));return Q.join("")}function ws(x){return T.create("missing-app-config-values",{valueName:x})}Ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Us{constructor(V,Q,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function(x){if(!x||!x.options)throw ws("App Configuration Object");if(!x.name)throw ws("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=x;for(const le of V)if(!Q[le])throw ws(le);return{appName:x.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Oe,installations:Q,analyticsProvider:le}}_delete(){return Promise.resolve()}}function eo(x){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,X.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Ei,{scope:Zi}),x.swRegistration.update().catch(()=>{})}catch(V){throw T.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function to(x,V){return ki.apply(this,arguments)}function ki(){return(ki=(0,X.Z)(function*(x,V){if(!V&&!x.swRegistration&&(yield eo(x)),V||!x.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw T.create("invalid-sw-registration");x.swRegistration=V}})).apply(this,arguments)}function Xr(x,V){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,X.Z)(function*(x,V){V?x.vapidKey=V:x.vapidKey||(x.vapidKey=Hi)})).apply(this,arguments)}function ar(){return(ar=(0,X.Z)(function*(x,V){if(!navigator)throw T.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw T.create("permission-blocked");return yield Xr(x,null==V?void 0:V.vapidKey),yield to(x,null==V?void 0:V.serviceWorkerRegistration),jr(x)})).apply(this,arguments)}function Fi(x,V,Q){return ho.apply(this,arguments)}function ho(){return(ho=(0,X.Z)(function*(x,V,Q){const le=fo(V);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:Q[Yi],message_name:Q[vs],message_time:Q[Qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fo(x){switch(x){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ca(){return(ca=(0,X.Z)(function*(x,V){const Q=V.data;if(!Q.isFirebaseMessaging)return;x.onMessageHandler&&Q.messageType===qr.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(dt(Q)):x.onMessageHandler.next(dt(Q)));const le=Q.data;Xs(le)&&"1"===le[as]&&(yield Fi(x,Q.messageType,le))})).apply(this,arguments)}const po="@firebase/messaging";function hs(){return go.apply(this,arguments)}function go(){return(go=(0,X.Z)(function*(){return"undefined"!=typeof window&&(0,Te.hl)()&&(yield(0,Te.eu)())&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,se._registerComponent)(new me.wA("messaging",x=>{const V=new Us(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function(x,V){return ca.apply(this,arguments)}(V,Q)),V},"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",x=>{const V=x.getProvider("messaging").getImmediate();return{getToken:le=>function(x,V){return ar.apply(this,arguments)}(V,le)}},"PRIVATE")),(0,se.registerVersion)(po,"0.9.2"),(0,se.registerVersion)(po,"0.9.2","esm2017");const Xn="analytics",er="firebase_id",xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mo="https://www.googletagmanager.com/gtag/js",ei=new Ue.Yd("@firebase/analytics");function da(x){return Promise.all(x.map(V=>V.catch(Q=>Q)))}function yo(x,V){const Q=document.createElement("script");Q.src=`${mo}?l=${x}&id=${V}`,Q.async=!0,document.head.appendChild(Q)}function jo(x,V,Q,le,Oe,nt){return fs.apply(this,arguments)}function fs(){return(fs=(0,X.Z)(function*(x,V,Q,le,Oe,nt){const vt=le[Oe];try{if(vt)yield V[vt];else{const Kt=(yield da(Q)).find(vr=>vr.measurementId===Oe);Kt&&(yield V[Kt.appId])}}catch(en){ei.error(en)}x("config",Oe,nt)})).apply(this,arguments)}function _r(x,V,Q,le,Oe){return A.apply(this,arguments)}function A(){return(A=(0,X.Z)(function*(x,V,Q,le,Oe){try{let nt=[];if(Oe&&Oe.send_to){let vt=Oe.send_to;Array.isArray(vt)||(vt=[vt]);const en=yield da(Q);for(const Kt of vt){const vr=en.find(Ts=>Ts.measurementId===Kt),Sr=vr&&V[vr.appId];if(!Sr){nt=[];break}nt.push(Sr)}}0===nt.length&&(nt=Object.values(V)),yield Promise.all(nt),x("event",le,Oe||{})}catch(nt){ei.error(nt)}})).apply(this,arguments)}function Ce(){const x=window.document.getElementsByTagName("script");for(const V of Object.values(x))if(V.src&&V.src.includes(mo))return V;return null}const Nt=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hs=new class{constructor(V={},Q=1e3){this.throttleMetadata=V,this.intervalMillis=Q}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,Q){this.throttleMetadata[V]=Q}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function au(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Zr(x){return qa.apply(this,arguments)}function qa(){return(qa=(0,X.Z)(function*(x){var V;const{appId:Q,apiKey:le}=x,Oe={method:"GET",headers:au(le)},nt=xs.replace("{app-id}",Q),vt=yield fetch(nt,Oe);if(200!==vt.status&&304!==vt.status){let en="";try{const Kt=yield vt.json();(null===(V=Kt.error)||void 0===V?void 0:V.message)&&(en=Kt.error.message)}catch(Kt){}throw Nt.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:en})}return vt.json()})).apply(this,arguments)}function ha(x){return xa.apply(this,arguments)}function xa(){return(xa=(0,X.Z)(function*(x,V=Hs,Q){const{appId:le,apiKey:Oe,measurementId:nt}=x.options;if(!le)throw Nt.create("no-app-id");if(!Oe){if(nt)return{measurementId:nt,appId:le};throw Nt.create("no-api-key")}const vt=V.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new oi;return setTimeout((0,X.Z)(function*(){en.abort()}),void 0!==Q?Q:6e4),_o({appId:le,apiKey:Oe,measurementId:nt},vt,en,V)})).apply(this,arguments)}function _o(x,V,Q){return ea.apply(this,arguments)}function ea(){return(ea=(0,X.Z)(function*(x,{throttleEndTimeMillis:V,backoffCount:Q},le,Oe=Hs){const{appId:nt,measurementId:vt}=x;try{yield Ma(le,V)}catch(en){if(vt)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${en.message}]`),{appId:nt,measurementId:vt};throw en}try{const en=yield Zr(x);return Oe.deleteThrottleMetadata(nt),en}catch(en){if(!Du(en)){if(Oe.deleteThrottleMetadata(nt),vt)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${en.message}]`),{appId:nt,measurementId:vt};throw en}const Kt=503===Number(en.customData.httpStatus)?(0,Te.$s)(Q,Oe.intervalMillis,30):(0,Te.$s)(Q,Oe.intervalMillis),vr={throttleEndTimeMillis:Date.now()+Kt,backoffCount:Q+1};return Oe.setThrottleMetadata(nt,vr),ei.debug(`Calling attemptFetch again in ${Kt} millis`),_o(x,vr,le,Oe)}})).apply(this,arguments)}function Ma(x,V){return new Promise((Q,le)=>{const Oe=Math.max(V-Date.now(),0),nt=setTimeout(Q,Oe);x.addEventListener(()=>{clearTimeout(nt),le(Nt.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Du(x){if(!(x instanceof Te.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}class oi{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function vo(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,X.Z)(function*(){if(!(0,Te.hl)())return ei.warn(Nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(x){return ei.warn(Nt.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function fa(){return(fa=(0,X.Z)(function*(x,V,Q,le,Oe,nt,vt){var en;const Kt=ha(x);Kt.then(Os=>{Q[Os.measurementId]=Os.appId,x.options.measurementId&&Os.measurementId!==x.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Os=>ei.error(Os)),V.push(Kt);const vr=vo().then(Os=>{if(Os)return le.getId()}),[Sr,Ts]=yield Promise.all([Kt,vr]);Ce()||yo(nt,Sr.measurementId),Oe("js",new Date);const Gs=null!==(en=null==vt?void 0:vt.config)&&void 0!==en?en:{};return Gs.origin="firebase",Gs.update=!0,null!=Ts&&(Gs[er]=Ts),Oe("config",Sr.measurementId,Gs),Sr.measurementId})).apply(this,arguments)}class Tt{constructor(V){this.app=V}_delete(){return delete br[this.app.options.appId],Promise.resolve()}}let br={},pa=[];const Mo={};let Na,St,Yt="dataLayer",Xe=!1;function w(x,V,Q){!function(){const x=[];if((0,Te.ru)()&&x.push("This is a browser extension environment."),(0,Te.zI)()||x.push("Cookies are not available."),x.length>0){const V=x.map((le,Oe)=>`(${Oe+1}) ${le}`).join(" "),Q=Nt.create("invalid-analytics-context",{errorInfo:V});ei.warn(Q.message)}}();const le=x.options.appId;if(!le)throw Nt.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Nt.create("no-api-key");ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=br[le])throw Nt.create("already-exists",{id:le});if(!Xe){!function(x){let V=[];Array.isArray(window[x])?V=window[x]:window[x]=V}(Yt);const{wrappedGtag:nt,gtagCore:vt}=function(x,V,Q,le,Oe){let nt=function(...vt){window[le].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(nt=window[Oe]),window[Oe]=function(x,V,Q,le){function nt(){return(nt=(0,X.Z)(function*(vt,en,Kt){try{"event"===vt?yield _r(x,V,Q,en,Kt):"config"===vt?yield jo(x,V,Q,le,en,Kt):x("set",en)}catch(vr){ei.error(vr)}})).apply(this,arguments)}return function(vt,en,Kt){return nt.apply(this,arguments)}}(nt,x,V,Q),{gtagCore:nt,wrappedGtag:window[Oe]}}(br,pa,Mo,Yt,"gtag");St=nt,Na=vt,Xe=!0}return br[le]=function(x,V,Q,le,Oe,nt,vt){return fa.apply(this,arguments)}(x,pa,Mo,V,Na,Yt,Q),new Tt(x)}function R(){return(R=(0,X.Z)(function*(x,V,Q,le,Oe){if(Oe&&Oe.global)x("event",Q,le);else{const nt=yield V;x("event",Q,Object.assign(Object.assign({},le),{send_to:nt}))}})).apply(this,arguments)}function hn(){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,X.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(x){return!1}})).apply(this,arguments)}const Es="@firebase/analytics";(0,se._registerComponent)(new me.wA(Xn,(V,{options:Q})=>w(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function(V){try{const Q=V.getProvider(Xn).getImmediate();return{logEvent:(le,Oe,nt)=>function(x,V,Q,le){x=(0,Te.m9)(x),function(x,V,Q,le,Oe){return R.apply(this,arguments)}(St,br[x.app.options.appId],V,Q,le).catch(Oe=>ei.error(Oe))}(Q,le,Oe,nt)}}catch(Q){throw Nt.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,se.registerVersion)(Es,"0.7.2"),(0,se.registerVersion)(Es,"0.7.2","esm2017");var qi=Z(7771),Ii=Z(3637),ta=Z(3342),Ti=Z(309),za=Z(3101);const ul=new _.GfV("7.1.0"),ga="__angularfire_symbol__analyticsIsSupported",Su="__angularfire_symbol__remoteConfigIsSupported",Xt="__angularfire_symbol__messagingIsSupported";function xu(x,V,Q){if(V){if(1===V.length)return V[0];const nt=V.filter(vt=>vt.app===Q);if(1===nt.length)return nt[0]}return Q.container.getProvider(x).getImmediate({optional:!0})}globalThis[ga]||(globalThis[ga]=hn().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[Xt]||(globalThis[Xt]=hs().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[Su]||(globalThis[Su]=Io().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const Ra=(x,V)=>{const Q=V?[V]:(0,c.C6)(),le=[];return Q.forEach(Oe=>{Oe.container.getProvider(x).instances.forEach(vt=>{le.includes(vt)||le.push(vt)})}),le};function Pa(){}class Mu{constructor(V,Q=qi.N){this.zone=V,this.delegate=Q}now(){return this.delegate.now()}schedule(V,Q,le){const Oe=this.zone;return this.delegate.schedule(function(vt){Oe.runGuarded(()=>{V.apply(this,[vt])})},Q,le)}}class io{constructor(V){this.zone=V,this.task=null}call(V,Q){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),Q.pipe((0,ta.b)({next:le,complete:le,error:le})).subscribe(V).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let so=(()=>{class x{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Mu(Zone.current)),this.insideAngular=Q.run(()=>new Mu(Zone.current,Ii.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(Q){return new(Q||x)(_.LFG(_.R0b))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ho(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ka(x){return x.pipe((0,Ti.QV)(Ho().outsideAngular))}function Pc(x){return Ho(),function(x){return function(Q){return(Q=Q.lift(new io(x.ngZone))).pipe((0,za.R)(x.outsideAngular),(0,Ti.QV)(x.insideAngular))}}(Ho())(x)}},665:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{Wl:()=>Ae,Zs:()=>fi,Fj:()=>ae,CE:()=>Ws,qu:()=>ze,u:()=>ss,sg:()=>ji,u5:()=>L,JJ:()=>mn,JL:()=>Ft,F:()=>Hn,On:()=>Wr,YN:()=>Ks,wV:()=>$e,_:()=>Pn,UX:()=>J,Q7:()=>Yr,EJ:()=>Kr,kI:()=>qt,_Y:()=>yr,Kr:()=>Zi});var _=Z(3018),c=Z(8583),X=Z(7574),se=Z(9796),Te=Z(8002),me=Z(1555),Ue=Z(4402);function ue(N,M){return new X.y(T=>{const G=N.length;if(0===G)return void T.complete();const Fe=new Array(G);let wt=0,Zt=0;for(let cr=0;cr<G;cr++){const Br=(0,Ue.D)(N[cr]);let Mr=!1;T.add(Br.subscribe({next:dr=>{Mr||(Mr=!0,Zt++),Fe[cr]=dr},error:dr=>T.error(dr),complete:()=>{wt++,(wt===G||!Mr)&&(Zt===G&&T.next(M?M.reduce((dr,pi,Pi)=>(dr[pi]=Fe[Pi],dr),{}):Fe),T.complete())}}))}})}let ne=(()=>{class N{constructor(T,G){this._renderer=T,this._elementRef=G,this.onChange=Fe=>{},this.onTouched=()=>{}}setProperty(T,G){this._renderer.setProperty(this._elementRef.nativeElement,T,G)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(_.Qsj),_.Y36(_.SBq))},N.\u0275dir=_.lG2({type:N}),N})(),W=(()=>{class N extends ne{}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,features:[_.qOj]}),N})();const pe=new _.OlP("NgValueAccessor"),de={provide:pe,useExisting:(0,_.Gpc)(()=>Ae),multi:!0};let Ae=(()=>{class N extends W{writeValue(T){this.setProperty("checked",T)}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,G){1&T&&_.NdJ("change",function(wt){return G.onChange(wt.target.checked)})("blur",function(){return G.onTouched()})},features:[_._Bn([de]),_.qOj]}),N})();const Je={provide:pe,useExisting:(0,_.Gpc)(()=>ae),multi:!0},be=new _.OlP("CompositionEventMode");let ae=(()=>{class N extends ne{constructor(T,G,Fe){super(T,G),this._compositionMode=Fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const N=(0,c.q)()?(0,c.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(be,8))},N.\u0275dir=_.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,G){1&T&&_.NdJ("input",function(wt){return G._handleInput(wt.target.value)})("blur",function(){return G.onTouched()})("compositionstart",function(){return G._compositionStart()})("compositionend",function(wt){return G._compositionEnd(wt.target.value)})},features:[_._Bn([Je]),_.qOj]}),N})();function Me(N){return null==N||0===N.length}function Ve(N){return null!=N&&"number"==typeof N.length}const Qe=new _.OlP("NgValidators"),ye=new _.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qt{static min(M){return N=M,M=>{if(Me(M.value)||Me(N))return null;const T=parseFloat(M.value);return!isNaN(T)&&T<N?{min:{min:N,actual:M.value}}:null};var N}static max(M){return N=M,M=>{if(Me(M.value)||Me(N))return null;const T=parseFloat(M.value);return!isNaN(T)&&T>N?{max:{max:N,actual:M.value}}:null};var N}static required(M){return je(M)}static requiredTrue(M){return He(M)}static email(M){return Me((N=M).value)||rt.test(N.value)?null:{email:!0};var N}static minLength(M){return N=M,M=>Me(M.value)||!Ve(M.value)?null:M.value.length<N?{minlength:{requiredLength:N,actualLength:M.value.length}}:null;var N}static maxLength(M){return N=M,M=>Ve(M.value)&&M.value.length>N?{maxlength:{requiredLength:N,actualLength:M.value.length}}:null;var N}static pattern(M){return function(N){if(!N)return It;let M,T;return"string"==typeof N?(T="","^"!==N.charAt(0)&&(T+="^"),T+=N,"$"!==N.charAt(N.length-1)&&(T+="$"),M=new RegExp(T)):(T=N.toString(),M=N),G=>{if(Me(G.value))return null;const Fe=G.value;return M.test(Fe)?null:{pattern:{requiredPattern:T,actualValue:Fe}}}}(M)}static nullValidator(M){return null}static compose(M){return Wt(M)}static composeAsync(M){return Vt(M)}}function je(N){return Me(N.value)?{required:!0}:null}function He(N){return!0===N.value?null:{required:!0}}function It(N){return null}function gn(N){return null!=N}function Kn(N){const M=(0,_.QGY)(N)?(0,Ue.D)(N):N;return(0,_.CqO)(M),M}function an(N){let M={};return N.forEach(T=>{M=null!=T?Object.assign(Object.assign({},M),T):M}),0===Object.keys(M).length?null:M}function zt(N,M){return M.map(T=>T(N))}function Rt(N){return N.map(M=>function(N){return!N.validate}(M)?M:T=>M.validate(T))}function Wt(N){if(!N)return null;const M=N.filter(gn);return 0==M.length?null:function(T){return an(zt(T,M))}}function fn(N){return null!=N?Wt(Rt(N)):null}function Vt(N){if(!N)return null;const M=N.filter(gn);return 0==M.length?null:function(T){return function(...N){if(1===N.length){const M=N[0];if((0,se.k)(M))return ue(M,null);if((0,me.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const T=Object.keys(M);return ue(T.map(G=>M[G]),T)}}if("function"==typeof N[N.length-1]){const M=N.pop();return ue(N=1===N.length&&(0,se.k)(N[0])?N[0]:N,null).pipe((0,Te.U)(T=>M(...T)))}return ue(N,null)}(zt(T,M).map(Kn)).pipe((0,Te.U)(an))}}function pt(N){return null!=N?Vt(Rt(N)):null}function bt(N,M){return null===N?[M]:Array.isArray(N)?[...N,M]:[N,M]}function En(N){return N._rawValidators}function Yn(N){return N._rawAsyncValidators}function Nn(N){return N?Array.isArray(N)?N:[N]:[]}function Un(N,M){return Array.isArray(N)?N.includes(M):N===M}function Gn(N,M){const T=Nn(M);return Nn(N).forEach(Fe=>{Un(T,Fe)||T.push(Fe)}),T}function Fn(N,M){return Nn(M).filter(T=>!Un(N,T))}let fr=(()=>{class N{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T){this.control&&this.control.reset(T)}hasError(T,G){return!!this.control&&this.control.hasError(T,G)}getError(T,G){return this.control?this.control.getError(T,G):null}}return N.\u0275fac=function(T){return new(T||N)},N.\u0275dir=_.lG2({type:N}),N})(),kt=(()=>{class N extends fr{get formDirective(){return null}get path(){return null}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,features:[_.qOj]}),N})();class Qt extends fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn{constructor(M){this._cd=M}is(M){var T,G,Fe;return"submitted"===M?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(Fe=null===(G=this._cd)||void 0===G?void 0:G.control)||void 0===Fe?void 0:Fe[M])}}let mn=(()=>{class N extends jn{constructor(T){super(T)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(Qt,2))},N.\u0275dir=_.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,G){2&T&&_.ekj("ng-untouched",G.is("untouched"))("ng-touched",G.is("touched"))("ng-pristine",G.is("pristine"))("ng-dirty",G.is("dirty"))("ng-valid",G.is("valid"))("ng-invalid",G.is("invalid"))("ng-pending",G.is("pending"))},features:[_.qOj]}),N})(),Ft=(()=>{class N extends jn{constructor(T){super(T)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(kt,10))},N.\u0275dir=_.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,G){2&T&&_.ekj("ng-untouched",G.is("untouched"))("ng-touched",G.is("touched"))("ng-pristine",G.is("pristine"))("ng-dirty",G.is("dirty"))("ng-valid",G.is("valid"))("ng-invalid",G.is("invalid"))("ng-pending",G.is("pending"))("ng-submitted",G.is("submitted"))},features:[_.qOj]}),N})();function zr(N,M){return[...M.path,N]}function ve(N,M){Ge(N,M),M.valueAccessor.writeValue(N.value),function(N,M){M.valueAccessor.registerOnChange(T=>{N._pendingValue=T,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Zn(N,M)})}(N,M),function(N,M){const T=(G,Fe)=>{M.valueAccessor.writeValue(G),Fe&&M.viewToModelUpdate(G)};N.registerOnChange(T),M._registerOnDestroy(()=>{N._unregisterOnChange(T)})}(N,M),function(N,M){M.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Zn(N,M),"submit"!==N.updateOn&&N.markAsTouched()})}(N,M),function(N,M){if(M.valueAccessor.setDisabledState){const T=G=>{M.valueAccessor.setDisabledState(G)};N.registerOnDisabledChange(T),M._registerOnDestroy(()=>{N._unregisterOnDisabledChange(T)})}}(N,M)}function De(N,M,T=!0){const G=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(G),M.valueAccessor.registerOnTouched(G)),xt(N,M),N&&(M._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function ge(N,M){N.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(M)})}function Ge(N,M){const T=En(N);null!==M.validator?N.setValidators(bt(T,M.validator)):"function"==typeof T&&N.setValidators([T]);const G=Yn(N);null!==M.asyncValidator?N.setAsyncValidators(bt(G,M.asyncValidator)):"function"==typeof G&&N.setAsyncValidators([G]);const Fe=()=>N.updateValueAndValidity();ge(M._rawValidators,Fe),ge(M._rawAsyncValidators,Fe)}function xt(N,M){let T=!1;if(null!==N){if(null!==M.validator){const Fe=En(N);if(Array.isArray(Fe)&&Fe.length>0){const wt=Fe.filter(Zt=>Zt!==M.validator);wt.length!==Fe.length&&(T=!0,N.setValidators(wt))}}if(null!==M.asyncValidator){const Fe=Yn(N);if(Array.isArray(Fe)&&Fe.length>0){const wt=Fe.filter(Zt=>Zt!==M.asyncValidator);wt.length!==Fe.length&&(T=!0,N.setAsyncValidators(wt))}}}const G=()=>{};return ge(M._rawValidators,G),ge(M._rawAsyncValidators,G),T}function Zn(N,M){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function Dr(N,M){Ge(N,M)}function ns(N,M){if(!N.hasOwnProperty("model"))return!1;const T=N.model;return!!T.isFirstChange()||!Object.is(M,T.currentValue)}function Wi(N,M){N._syncPendingControls(),M.forEach(T=>{const G=T.control;"submit"===G.updateOn&&G._pendingChange&&(T.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}function Si(N,M){if(!M)return null;let T,G,Fe;return Array.isArray(M),M.forEach(wt=>{wt.constructor===ae?T=wt:function(N){return Object.getPrototypeOf(N.constructor)===W}(wt)?G=wt:Fe=wt}),Fe||G||T||null}function di(N,M){const T=N.indexOf(M);T>-1&&N.splice(T,1)}const ni="VALID",mr="INVALID",pr="PENDING",Hr="DISABLED";function Mn(N){return(Bi(N)?N.validators:N)||null}function vi(N){return Array.isArray(N)?fn(N):N||null}function xr(N,M){return(Bi(M)?M.asyncValidators:N)||null}function Nr(N){return Array.isArray(N)?pt(N):N||null}function Bi(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}class Rn{constructor(M,T){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=T,this._composedValidatorFn=vi(this._rawValidators),this._composedAsyncValidatorFn=Nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===ni}get invalid(){return this.status===mr}get pending(){return this.status==pr}get disabled(){return this.status===Hr}get enabled(){return this.status!==Hr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=vi(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=Nr(M)}addValidators(M){this.setValidators(Gn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Gn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Fn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Fn(M,this._rawAsyncValidators))}hasValidator(M){return Un(this._rawValidators,M)}hasAsyncValidator(M){return Un(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=pr,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const T=this._parentMarkedDirty(M.onlySelf);this.status=Hr,this.errors=null,this._forEachChild(G=>{G.disable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:T})),this._onDisabledChange.forEach(G=>G(!0))}enable(M={}){const T=this._parentMarkedDirty(M.onlySelf);this.status=ni,this._forEachChild(G=>{G.enable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:T})),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ni||this.status===pr)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hr:ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator=!0;const T=Kn(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,T={}){this.errors=M,this._updateControlsErrors(!1!==T.emitEvent)}get(M){return function(N,M,T){if(null==M||(Array.isArray(M)||(M=M.split(".")),Array.isArray(M)&&0===M.length))return null;let G=N;return M.forEach(Fe=>{G=G instanceof Bt?G.controls.hasOwnProperty(Fe)?G.controls[Fe]:null:G instanceof dn&&G.at(Fe)||null}),G}(this,M)}getError(M,T){const G=T?this.get(T):this;return G&&G.errors?G.errors[M]:null}hasError(M,T){return!!this.getError(M,T)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Hr:this.errors?mr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(mr)?mr:ni}_anyControlsHaveStatus(M){return this._anyControls(T=>T.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Bi(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Et extends Rn{constructor(M=null,T,G){super(Mn(T),xr(G,T)),this._onChange=[],this._applyFormState(M),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(M,T={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(M,T={}){this.setValue(M,T)}reset(M=null,T={}){this._applyFormState(M),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){di(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){di(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class Bt extends Rn{constructor(M,T,G){super(Mn(T),xr(G,T)),this.controls=M,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,T){return this.controls[M]?this.controls[M]:(this.controls[M]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(M,T,G={}){this.registerControl(M,T),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(M,T={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(M,T,G={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],T&&this.registerControl(M,T),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,T={}){this._checkAllValuesPresent(M),Object.keys(M).forEach(G=>{this._throwIfControlMissing(G),this.controls[G].setValue(M[G],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(M,T={}){null!=M&&(Object.keys(M).forEach(G=>{this.controls[G]&&this.controls[G].patchValue(M[G],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(M={},T={}){this._forEachChild((G,Fe)=>{G.reset(M[Fe],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(M,T,G)=>(M[G]=T instanceof Et?T.value:T.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(T,G)=>!!G._syncPendingControls()||T);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[M])throw new Error(`Cannot find form control with name: ${M}.`)}_forEachChild(M){Object.keys(this.controls).forEach(T=>{const G=this.controls[T];G&&M(G,T)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const T of Object.keys(this.controls)){const G=this.controls[T];if(this.contains(T)&&M(G))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,T,G)=>((T.enabled||this.disabled)&&(M[G]=T.value),M))}_reduceChildren(M,T){let G=M;return this._forEachChild((Fe,wt)=>{G=T(G,Fe,wt)}),G}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(M){this._forEachChild((T,G)=>{if(void 0===M[G])throw new Error(`Must supply a value for form control with name: '${G}'.`)})}}class dn extends Rn{constructor(M,T,G){super(Mn(T),xr(G,T)),this.controls=M,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,T={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(M,T,G={}){this.controls.splice(M,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(M,T={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(M,T,G={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),T&&(this.controls.splice(M,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,T={}){this._checkAllValuesPresent(M),M.forEach((G,Fe)=>{this._throwIfControlMissing(Fe),this.at(Fe).setValue(G,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(M,T={}){null!=M&&(M.forEach((G,Fe)=>{this.at(Fe)&&this.at(Fe).patchValue(G,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(M=[],T={}){this._forEachChild((G,Fe)=>{G.reset(M[Fe],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(M=>M instanceof Et?M.value:M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((T,G)=>!!G._syncPendingControls()||T,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(M))throw new Error(`Cannot find form control at index ${M}`)}_forEachChild(M){this.controls.forEach((T,G)=>{M(T,G)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(T=>T.enabled&&M(T))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_checkAllValuesPresent(M){this._forEachChild((T,G)=>{if(void 0===M[G])throw new Error(`Must supply a value for form control at index: ${G}.`)})}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}const wr={provide:kt,useExisting:(0,_.Gpc)(()=>Hn)},ur=(()=>Promise.resolve(null))();let Hn=(()=>{class N extends kt{constructor(T,G){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new Bt({},fn(T),pt(G))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){ur.then(()=>{const G=this._findContainer(T.path);T.control=G.registerControl(T.name,T.control),ve(T.control,T),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){ur.then(()=>{const G=this._findContainer(T.path);G&&G.removeControl(T.name),di(this._directives,T)})}addFormGroup(T){ur.then(()=>{const G=this._findContainer(T.path),Fe=new Bt({});Dr(Fe,T),G.registerControl(T.name,Fe),Fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){ur.then(()=>{const G=this._findContainer(T.path);G&&G.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,G){ur.then(()=>{this.form.get(T.path).setValue(G)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,Wi(this.form,this._directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(Qe,10),_.Y36(ye,10))},N.\u0275dir=_.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,G){1&T&&_.NdJ("submit",function(wt){return G.onSubmit(wt)})("reset",function(){return G.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([wr]),_.qOj]}),N})(),Jn=(()=>{class N extends kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,features:[_.qOj]}),N})();const hi={provide:Qt,useExisting:(0,_.Gpc)(()=>Wr)},wi=(()=>Promise.resolve(null))();let Wr=(()=>{class N extends Qt{constructor(T,G,Fe,wt){super(),this.control=new Et,this._registered=!1,this.update=new _.vpe,this._parent=T,this._setValidators(G),this._setAsyncValidators(Fe),this.valueAccessor=Si(0,wt)}ngOnChanges(T){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in T&&this._updateDisabled(T),ns(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zr(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ve(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(T){wi.then(()=>{this.control.setValue(T,{emitViewToModelChange:!1})})}_updateDisabled(T){const G=T.isDisabled.currentValue,Fe=""===G||G&&"false"!==G;wi.then(()=>{Fe&&!this.control.disabled?this.control.disable():!Fe&&this.control.disabled&&this.control.enable()})}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(kt,9),_.Y36(Qe,10),_.Y36(ye,10),_.Y36(pe,10))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([hi]),_.qOj,_.TTD]}),N})(),yr=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275dir=_.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Pe={provide:pe,useExisting:(0,_.Gpc)(()=>$e),multi:!0};let $e=(()=>{class N extends W{writeValue(T){this.setProperty("value",null==T?"":T)}registerOnChange(T){this.onChange=G=>{T(""==G?null:parseFloat(G))}}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,G){1&T&&_.NdJ("input",function(wt){return G.onChange(wt.target.value)})("blur",function(){return G.onTouched()})},features:[_._Bn([Pe]),_.qOj]}),N})();const Le={provide:pe,useExisting:(0,_.Gpc)(()=>Pn),multi:!0};let At=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({}),N})(),on=(()=>{class N{constructor(){this._accessors=[]}add(T,G){this._accessors.push([T,G])}remove(T){for(let G=this._accessors.length-1;G>=0;--G)if(this._accessors[G][1]===T)return void this._accessors.splice(G,1)}select(T){this._accessors.forEach(G=>{this._isSameGroup(G,T)&&G[1]!==T&&G[1].fireUncheck(T.value)})}_isSameGroup(T,G){return!!T[0].control&&T[0]._parent===G._control._parent&&T[1].name===G.name}}return N.\u0275fac=function(T){return new(T||N)},N.\u0275prov=(0,_.Yz7)({factory:function(){return new N},token:N,providedIn:At}),N})(),Pn=(()=>{class N extends W{constructor(T,G,Fe,wt){super(T,G),this._registry=Fe,this._injector=wt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Qt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(T){this._state=T===this.value,this.setProperty("checked",this._state)}registerOnChange(T){this._fn=T,this.onChange=()=>{T(this.value),this._registry.select(this)}}fireUncheck(T){this.writeValue(T)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(on),_.Y36(_.zs3))},N.\u0275dir=_.lG2({type:N,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(T,G){1&T&&_.NdJ("change",function(){return G.onChange()})("blur",function(){return G.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_._Bn([Le]),_.qOj]}),N})();const kr=new _.OlP("NgModelWithFormControlWarning"),ii={provide:kt,useExisting:(0,_.Gpc)(()=>ji)};let ji=(()=>{class N extends kt{constructor(T,G){super(),this.validators=T,this.asyncValidators=G,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(T),this._setAsyncValidators(G)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const G=this.form.get(T.path);return ve(G,T),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),G}getControl(T){return this.form.get(T.path)}removeControl(T){De(T.control||null,T,!1),di(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,G){this.form.get(T.path).setValue(G)}onSubmit(T){return this.submitted=!0,Wi(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const G=T.control,Fe=this.form.get(T.path);G!==Fe&&(De(G||null,T),Fe instanceof Et&&(ve(Fe,T),T.control=Fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const G=this.form.get(T.path);Dr(G,T),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const G=this.form.get(T.path);G&&function(N,M){return xt(N,M)}(G,T)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ge(this.form,this),this._oldForm&&xt(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(Qe,10),_.Y36(ye,10))},N.\u0275dir=_.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(T,G){1&T&&_.NdJ("submit",function(wt){return G.onSubmit(wt)})("reset",function(){return G.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([ii]),_.qOj,_.TTD]}),N})();const Ur={provide:kt,useExisting:(0,_.Gpc)(()=>Ir)};let Ir=(()=>{class N extends Jn{constructor(T,G,Fe){super(),this._parent=T,this._setValidators(G),this._setAsyncValidators(Fe)}_checkParentType(){gr(this._parent)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(kt,13),_.Y36(Qe,10),_.Y36(ye,10))},N.\u0275dir=_.lG2({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[_._Bn([Ur]),_.qOj]}),N})();const Ki={provide:kt,useExisting:(0,_.Gpc)(()=>Ws)};let Ws=(()=>{class N extends kt{constructor(T,G,Fe){super(),this._parent=T,this._setValidators(G),this._setAsyncValidators(Fe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){gr(this._parent)}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(kt,13),_.Y36(Qe,10),_.Y36(ye,10))},N.\u0275dir=_.lG2({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[_._Bn([Ki]),_.qOj]}),N})();function gr(N){return!(N instanceof Ir||N instanceof ji||N instanceof Ws)}const Mi={provide:Qt,useExisting:(0,_.Gpc)(()=>ss)};let ss=(()=>{class N extends Qt{constructor(T,G,Fe,wt,Zt){super(),this._ngModelWarningConfig=Zt,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(G),this._setAsyncValidators(Fe),this.valueAccessor=Si(0,wt)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),ns(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return zr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(kt,13),_.Y36(Qe,10),_.Y36(ye,10),_.Y36(pe,10),_.Y36(kr,8))},N.\u0275dir=_.lG2({type:N,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Mi]),_.qOj,_.TTD]}),N._ngModelWarningSentOnce=!1,N})();const Ls={provide:pe,useExisting:(0,_.Gpc)(()=>Kr),multi:!0};function uo(N,M){return null==N?`${M}`:(M&&"object"==typeof M&&(M="Object"),`${N}: ${M}`.slice(0,50))}let Kr=(()=>{class N extends W{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const G=this._getOptionId(T);null==G&&this.setProperty("selectedIndex",-1);const Fe=uo(G,T);this.setProperty("value",Fe)}registerOnChange(T){this.onChange=G=>{this.value=this._getOptionValue(G),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const G of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(G),T))return G;return null}_getOptionValue(T){const G=function(N){return N.split(":")[0]}(T);return this._optionMap.has(G)?this._optionMap.get(G):T}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,G){1&T&&_.NdJ("change",function(wt){return G.onChange(wt.target.value)})("blur",function(){return G.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([Ls]),_.qOj]}),N})(),Ks=(()=>{class N{constructor(T,G,Fe){this._element=T,this._renderer=G,this._select=Fe,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(uo(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Kr,9))},N.\u0275dir=_.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const Ys={provide:pe,useExisting:(0,_.Gpc)(()=>Ei),multi:!0};function bi(N,M){return null==N?`${M}`:("string"==typeof M&&(M=`'${M}'`),M&&"object"==typeof M&&(M="Object"),`${N}: ${M}`.slice(0,50))}let Ei=(()=>{class N extends W{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let G;if(this.value=T,Array.isArray(T)){const Fe=T.map(wt=>this._getOptionId(wt));G=(wt,Zt)=>{wt._setSelected(Fe.indexOf(Zt.toString())>-1)}}else G=(Fe,wt)=>{Fe._setSelected(!1)};this._optionMap.forEach(G)}registerOnChange(T){this.onChange=G=>{const Fe=[];if(void 0!==G.selectedOptions){const wt=G.selectedOptions;for(let Zt=0;Zt<wt.length;Zt++){const cr=wt.item(Zt),Br=this._getOptionValue(cr.value);Fe.push(Br)}}else{const wt=G.options;for(let Zt=0;Zt<wt.length;Zt++){const cr=wt.item(Zt);if(cr.selected){const Br=this._getOptionValue(cr.value);Fe.push(Br)}}}this.value=Fe,T(Fe)}}_registerOption(T){const G=(this._idCounter++).toString();return this._optionMap.set(G,T),G}_getOptionId(T){for(const G of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(G)._value,T))return G;return null}_getOptionValue(T){const G=function(N){return N.split(":")[0]}(T);return this._optionMap.has(G)?this._optionMap.get(G)._value:T}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,G){1&T&&_.NdJ("change",function(wt){return G.onChange(wt.target)})("blur",function(){return G.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([Ys]),_.qOj]}),N})(),Zi=(()=>{class N{constructor(T,G,Fe){this._element=T,this._renderer=G,this._select=Fe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(bi(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(bi(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(T){return new(T||N)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Ei,9))},N.\u0275dir=_.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const Lo={provide:Qe,useExisting:(0,_.Gpc)(()=>Yr),multi:!0},qr={provide:Qe,useExisting:(0,_.Gpc)(()=>fi),multi:!0};let Yr=(()=>{class N{constructor(){this._required=!1}get required(){return this._required}set required(T){this._required=null!=T&&!1!==T&&"false"!=`${T}`,this._onChange&&this._onChange()}validate(T){return this.required?je(T):null}registerOnValidatorChange(T){this._onChange=T}}return N.\u0275fac=function(T){return new(T||N)},N.\u0275dir=_.lG2({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,G){2&T&&_.uIk("required",G.required?"":null)},inputs:{required:"required"},features:[_._Bn([Lo])]}),N})(),fi=(()=>{class N extends Yr{validate(T){return this.required?He(T):null}}return N.\u0275fac=function(){let M;return function(G){return(M||(M=_.n5z(N)))(G||N)}}(),N.\u0275dir=_.lG2({type:N,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(T,G){2&T&&_.uIk("required",G.required?"":null)},features:[_._Bn([qr]),_.qOj]}),N})(),z=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({imports:[[At]]}),N})(),L=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({imports:[z]}),N})(),J=(()=>{class N{static withConfig(T){return{ngModule:N,providers:[{provide:kr,useValue:T.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({imports:[z]}),N})(),ze=(()=>{class N{group(T,G=null){const Fe=this._reduceControls(T);let cr,wt=null,Zt=null;return null!=G&&(function(N){return void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn}(G)?(wt=null!=G.validators?G.validators:null,Zt=null!=G.asyncValidators?G.asyncValidators:null,cr=null!=G.updateOn?G.updateOn:void 0):(wt=null!=G.validator?G.validator:null,Zt=null!=G.asyncValidator?G.asyncValidator:null)),new Bt(Fe,{asyncValidators:Zt,updateOn:cr,validators:wt})}control(T,G,Fe){return new Et(T,G,Fe)}array(T,G,Fe){const wt=T.map(Zt=>this._createControl(Zt));return new dn(wt,G,Fe)}_reduceControls(T){const G={};return Object.keys(T).forEach(Fe=>{G[Fe]=this._createControl(T[Fe])}),G}_createControl(T){return T instanceof Et||T instanceof Bt||T instanceof dn?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return N.\u0275fac=function(T){return new(T||N)},N.\u0275prov=(0,_.Yz7)({factory:function(){return new N},token:N,providedIn:J}),N})()},5496:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{F0:()=>_r,rH:()=>$,yS:()=>Ce,Bz:()=>vo,lC:()=>$i});var _=Z(8583),c=Z(3018),X=Z(4869),se=Z(9796),Te=Z(7393);class me extends Te.L{notifyNext(w,v,R,U,Y){this.destination.next(v)}notifyError(w,v){this.destination.error(w)}notifyComplete(w){this.destination.complete()}}class Ue extends Te.L{constructor(w,v,R){super(),this.parent=w,this.outerValue=v,this.outerIndex=R,this.index=0}_next(w){this.parent.notifyNext(this.outerValue,w,this.outerIndex,this.index++,this)}_error(w){this.parent.notifyError(w,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ie=Z(7444),ue=Z(7574);function ne(D,w,v,R,U=new Ue(D,v,R)){if(!U.closed)return w instanceof ue.y?w.subscribe(U):(0,Ie.s)(w)(U)}var W=Z(6693);const pe={};class Ae{constructor(w){this.resultSelector=w}call(w,v){return v.subscribe(new Je(w,this.resultSelector))}}class Je extends me{constructor(w,v){super(w),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(w){this.values.push(pe),this.observables.push(w)}_complete(){const w=this.observables,v=w.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let R=0;R<v;R++)this.add(ne(this,w[R],void 0,R))}}notifyComplete(w){0==(this.active-=1)&&this.destination.complete()}notifyNext(w,v,R){const U=this.values,ce=this.toRespond?U[R]===pe?--this.toRespond:this.toRespond:0;U[R]=v,0===ce&&(this.resultSelector?this._tryResultSelector(U):this.destination.next(U.slice()))}_tryResultSelector(w){let v;try{v=this.resultSelector.apply(this,w)}catch(R){return void this.destination.error(R)}this.destination.next(v)}}var Be=Z(4402),be=Z(9193);function ae(D){return new ue.y(w=>{let v;try{v=D()}catch(U){return void w.error(U)}return(v?(0,Be.D)(v):(0,be.c)()).subscribe(w)})}var Me=Z(5917),Ve=Z(6215),Qe=Z(3410),ye=Z(8071),rt=Z(2441),qt=Z(9765),Gt=Z(5345);function qe(D){return function(v){const R=new je(D),U=v.lift(R);return R.caught=U}}class je{constructor(w){this.selector=w}call(w,v){return v.subscribe(new He(w,this.selector,this.caught))}}class He extends Gt.Ds{constructor(w,v,R){super(w),this.selector=v,this.caught=R}error(w){if(!this.isStopped){let v;try{v=this.selector(w,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const R=new Gt.IY(this);this.add(R);const U=(0,Gt.ft)(v,R);U!==R&&this.add(U)}}}var he=Z(9773);function ke(D,w){return(0,he.zg)(D,w,1)}var Ze=Z(5435),Ye=Z(7108);function It(D){return function(v){return 0===D?(0,be.c)():v.lift(new gn(D))}}class gn{constructor(w){if(this.total=w,this.total<0)throw new Ye.W}call(w,v){return v.subscribe(new Kn(w,this.total))}}class Kn extends Te.L{constructor(w,v){super(w),this.total=v,this.ring=new Array,this.count=0}_next(w){const v=this.ring,R=this.total,U=this.count++;v.length<R?v.push(w):v[U%R]=w}_complete(){const w=this.destination;let v=this.count;if(v>0){const R=this.count>=this.total?this.total:this.count,U=this.ring;for(let Y=0;Y<R;Y++){const ce=v++%R;w.next(U[ce])}}w.complete()}}var an=Z(4635),zt=Z(5242),$t=Z(4487),Wt=Z(5319);class Vt{constructor(w){this.callback=w}call(w,v){return v.subscribe(new pt(w,this.callback))}}class pt extends Te.L{constructor(w,v){super(w),this.add(new Wt.w(v))}}var bt=Z(8002),En=Z(3190),Yn=Z(5257),Nn=Z(9761),Un=Z(2145),Gn=Z(8049),Fn=Z(3342),fr=Z(1307),kt=Z(3282);class Qt{constructor(w,v){this.id=w,this.url=v}}class jn extends Qt{constructor(w,v,R="imperative",U=null){super(w,v),this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cn extends Qt{constructor(w,v,R){super(w,v),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sn extends Qt{constructor(w,v,R){super(w,v),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mn extends Qt{constructor(w,v,R){super(w,v),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ft extends Qt{constructor(w,v,R,U){super(w,v),this.urlAfterRedirects=R,this.state=U}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Qt{constructor(w,v,R,U){super(w,v),this.urlAfterRedirects=R,this.state=U}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends Qt{constructor(w,v,R,U,Y){super(w,v),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nr extends Qt{constructor(w,v,R,U){super(w,v),this.urlAfterRedirects=R,this.state=U}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Qt{constructor(w,v,R,U){super(w,v),this.urlAfterRedirects=R,this.state=U}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ut{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(w,v,R){this.routerEvent=w,this.position=v,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class zr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v[0]:v}return null}getAll(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function ve(D){return new zr(D)}const De="ngNavigationCancelingError";function ge(D){const w=Error("NavigationCancelingError: "+D);return w[De]=!0,w}function Ge(D,w,v){const R=v.path.split("/");if(R.length>D.length||"full"===v.pathMatch&&(w.hasChildren()||R.length<D.length))return null;const U={};for(let Y=0;Y<R.length;Y++){const ce=R[Y],Ee=D[Y];if(ce.startsWith(":"))U[ce.substring(1)]=Ee;else if(ce!==Ee.path)return null}return{consumed:D.slice(0,R.length),posParams:U}}function yt(D,w){const v=D?Object.keys(D):void 0,R=w?Object.keys(w):void 0;if(!v||!R||v.length!=R.length)return!1;let U;for(let Y=0;Y<v.length;Y++)if(U=v[Y],!Bn(D[U],w[U]))return!1;return!0}function Bn(D,w){if(Array.isArray(D)&&Array.isArray(w)){if(D.length!==w.length)return!1;const v=[...D].sort(),R=[...w].sort();return v.every((U,Y)=>R[Y]===U)}return D===w}function Zn(D){return Array.prototype.concat.apply([],D)}function Cn(D){return D.length>0?D[D.length-1]:null}function nn(D,w){for(const v in D)D.hasOwnProperty(v)&&w(D[v],v)}function xn(D){return(0,c.CqO)(D)?D:(0,c.QGY)(D)?(0,Be.D)(Promise.resolve(D)):(0,Me.of)(D)}const ns={exact:function di(D,w,v){if(!xr(D.segments,w.segments)||!pr(D.segments,w.segments,v)||D.numberOfChildren!==w.numberOfChildren)return!1;for(const R in w.children)if(!D.children[R]||!di(D.children[R],w.children[R],v))return!1;return!0},subset:ni},ln={exact:function(D,w){return yt(D,w)},subset:function(D,w){return Object.keys(w).length<=Object.keys(D).length&&Object.keys(w).every(v=>Bn(D[v],w[v]))},ignored:()=>!0};function Wi(D,w,v){return ns[v.paths](D.root,w.root,v.matrixParams)&&ln[v.queryParams](D.queryParams,w.queryParams)&&!("exact"===v.fragment&&D.fragment!==w.fragment)}function ni(D,w,v){return mr(D,w,w.segments,v)}function mr(D,w,v,R){if(D.segments.length>v.length){const U=D.segments.slice(0,v.length);return!(!xr(U,v)||w.hasChildren()||!pr(U,v,R))}if(D.segments.length===v.length){if(!xr(D.segments,v)||!pr(D.segments,v,R))return!1;for(const U in w.children)if(!D.children[U]||!ni(D.children[U],w.children[U],R))return!1;return!0}{const U=v.slice(0,D.segments.length),Y=v.slice(D.segments.length);return!!(xr(D.segments,U)&&pr(D.segments,U,R)&&D.children[Jt])&&mr(D.children[Jt],w,Y,R)}}function pr(D,w,v){return w.every((R,U)=>ln[v](D[U].parameters,R.parameters))}class Hr{constructor(w,v,R){this.root=w,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return Et.serialize(this)}}class _n{constructor(w,v){this.segments=w,this.children=v,this.parent=null,nn(v,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bt(this)}}class Mn{constructor(w,v){this.path=w,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=ve(this.parameters)),this._parameterMap}toString(){return rs(this)}}function xr(D,w){return D.length===w.length&&D.every((v,R)=>v.path===w[R].path)}class Bi{}class Rn{parse(w){const v=new yr(w);return new Hr(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(w){var D;return`${`/${dn(w.root,!0)}`}${function(D){const w=Object.keys(D).map(v=>{const R=D[v];return Array.isArray(R)?R.map(U=>`${ri(v)}=${ri(U)}`).join("&"):`${ri(v)}=${ri(R)}`}).filter(v=>!!v);return w.length?`?${w.join("&")}`:""}(w.queryParams)}${"string"==typeof w.fragment?`#${D=w.fragment,encodeURI(D)}`:""}`}}const Et=new Rn;function Bt(D){return D.segments.map(w=>rs(w)).join("/")}function dn(D,w){if(!D.hasChildren())return Bt(D);if(w){const v=D.children[Jt]?dn(D.children[Jt],!1):"",R=[];return nn(D.children,(U,Y)=>{Y!==Jt&&R.push(`${Y}:${dn(U,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function(D,w){let v=[];return nn(D.children,(R,U)=>{U===Jt&&(v=v.concat(w(R,U)))}),nn(D.children,(R,U)=>{U!==Jt&&(v=v.concat(w(R,U)))}),v}(D,(R,U)=>U===Jt?[dn(D.children[Jt],!1)]:[`${U}:${dn(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Jt]?`${Bt(D)}/${v[0]}`:`${Bt(D)}/(${v.join("//")})`}}function wr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ri(D){return wr(D).replace(/%3B/gi,";")}function Hn(D){return wr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jn(D){return decodeURIComponent(D)}function Cr(D){return Jn(D.replace(/\+/g,"%20"))}function rs(D){return`${Hn(D.path)}${function(D){return Object.keys(D).map(w=>`;${Hn(w)}=${Hn(D[w])}`).join("")}(D.parameters)}`}const Rr=/^[^\/()?;=#]+/;function or(D){const w=D.match(Rr);return w?w[0]:""}const hi=/^[^=?&#]+/,wi=/^[^?&#]+/;class yr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(w.length>0||Object.keys(v).length>0)&&(R[Jt]=new _n(w,v)),R}parseSegment(){const w=or(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new Mn(Jn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const v=or(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const U=or(this.remaining);U&&(R=U,this.capture(R))}w[Jn(v)]=Jn(R)}parseQueryParam(w){const v=function(D){const w=D.match(hi);return w?w[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const ce=function(D){const w=D.match(wi);return w?w[0]:""}(this.remaining);ce&&(R=ce,this.capture(R))}const U=Cr(v),Y=Cr(R);if(w.hasOwnProperty(U)){let ce=w[U];Array.isArray(ce)||(ce=[ce],w[U]=ce),ce.push(Y)}else w[U]=Y}parseParens(w){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=or(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let Y;R.indexOf(":")>-1?(Y=R.substr(0,R.indexOf(":")),this.capture(Y),this.capture(":")):w&&(Y=Jt);const ce=this.parseChildren();v[Y]=1===Object.keys(ce).length?ce[Jt]:new _n([],ce),this.consumeOptional("//")}return v}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class Pe{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const v=this.pathFromRoot(w);return v.length>1?v[v.length-2]:null}children(w){const v=$e(w,this._root);return v?v.children.map(R=>R.value):[]}firstChild(w){const v=$e(w,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(w){const v=Le(w,this._root);return v.length<2?[]:v[v.length-2].children.map(U=>U.value).filter(U=>U!==w)}pathFromRoot(w){return Le(w,this._root).map(v=>v.value)}}function $e(D,w){if(D===w.value)return w;for(const v of w.children){const R=$e(D,v);if(R)return R}return null}function Le(D,w){if(D===w.value)return[w];for(const v of w.children){const R=Le(D,v);if(R.length)return R.unshift(w),R}return[]}class _t{constructor(w,v){this.value=w,this.children=v}toString(){return`TreeNode(${this.value})`}}function At(D){const w={};return D&&D.children.forEach(v=>w[v.value.outlet]=v),w}class on extends Pe{constructor(w,v){super(w),this.snapshot=v,ji(this,w)}toString(){return this.snapshot.toString()}}function Pn(D,w){const v=function(D,w){const ce=new On([],{},{},"",{},Jt,w,null,D.root,-1,{});return new ii("",new _t(ce,[]))}(D,w),R=new Ve.X([new Mn("",{})]),U=new Ve.X({}),Y=new Ve.X({}),ce=new Ve.X({}),Ee=new Ve.X(""),at=new vn(R,U,ce,Ee,Y,Jt,w,v.root);return at.snapshot=v.root,new on(new _t(at,[]),v)}class vn{constructor(w,v,R,U,Y,ce,Ee,at){this.url=w,this.params=v,this.queryParams=R,this.fragment=U,this.data=Y,this.outlet=ce,this.component=Ee,this._futureSnapshot=at}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(w=>ve(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(w=>ve(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kr(D,w="emptyOnly"){const v=D.pathFromRoot;let R=0;if("always"!==w)for(R=v.length-1;R>=1;){const U=v[R],Y=v[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(Y.component)break;R--}}return function(D){return D.reduce((w,v)=>({params:Object.assign(Object.assign({},w.params),v.params),data:Object.assign(Object.assign({},w.data),v.data),resolve:Object.assign(Object.assign({},w.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(R))}class On{constructor(w,v,R,U,Y,ce,Ee,at,Ht,Lt,un){this.url=w,this.params=v,this.queryParams=R,this.fragment=U,this.data=Y,this.outlet=ce,this.component=Ee,this.routeConfig=at,this._urlSegment=Ht,this._lastPathIndex=Lt,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ve(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ii extends Pe{constructor(w,v){super(v),this.url=w,ji(this,v)}toString(){return Ur(this._root)}}function ji(D,w){w.value._routerState=D,w.children.forEach(v=>ji(D,v))}function Ur(D){const w=D.children.length>0?` { ${D.children.map(Ur).join(", ")} } `:"";return`${D.value}${w}`}function Ir(D){if(D.snapshot){const w=D.snapshot,v=D._futureSnapshot;D.snapshot=v,yt(w.queryParams,v.queryParams)||D.queryParams.next(v.queryParams),w.fragment!==v.fragment&&D.fragment.next(v.fragment),yt(w.params,v.params)||D.params.next(v.params),function(D,w){if(D.length!==w.length)return!1;for(let v=0;v<D.length;++v)if(!yt(D[v],w[v]))return!1;return!0}(w.url,v.url)||D.url.next(v.url),yt(w.data,v.data)||D.data.next(v.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Ki(D,w){return yt(D.params,w.params)&&function(D,w){return xr(D,w)&&D.every((v,R)=>yt(v.parameters,w[R].parameters))}(D.url,w.url)&&!(!D.parent!=!w.parent)&&(!D.parent||Ki(D.parent,w.parent))}function gr(D,w,v){if(v&&D.shouldReuseRoute(w.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=w.value;const U=function(D,w,v){return w.children.map(R=>{for(const U of v.children)if(D.shouldReuseRoute(R.value,U.value.snapshot))return gr(D,R,U);return gr(D,R)})}(D,w,v);return new _t(R,U)}{if(D.shouldAttach(w.value)){const Y=D.retrieve(w.value);if(null!==Y){const ce=Y.route;return Mi(w,ce),ce}}const R=function(D){return new vn(new Ve.X(D.url),new Ve.X(D.params),new Ve.X(D.queryParams),new Ve.X(D.fragment),new Ve.X(D.data),D.outlet,D.component,D)}(w.value),U=w.children.map(Y=>gr(D,Y));return new _t(R,U)}}function Mi(D,w){if(D.value.routeConfig!==w.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(D.children.length!==w.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");w.value._futureSnapshot=D.value;for(let v=0;v<D.children.length;++v)Mi(D.children[v],w.children[v])}function os(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Kr(D){return"object"==typeof D&&null!=D&&D.outlets}function Ks(D,w,v,R,U){let Y={};return R&&nn(R,(ce,Ee)=>{Y[Ee]=Array.isArray(ce)?ce.map(at=>`${at}`):`${ce}`}),new Hr(v.root===D?w:Ys(v.root,D,w),Y,U)}function Ys(D,w,v){const R={};return nn(D.children,(U,Y)=>{R[Y]=U===w?v:Ys(U,w,v)}),new _n(D.segments,R)}class bi{constructor(w,v,R){if(this.isAbsolute=w,this.numberOfDoubleDots=v,this.commands=R,w&&R.length>0&&os(R[0]))throw new Error("Root segment cannot have matrix parameters");const U=R.find(Kr);if(U&&U!==Cn(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _s{constructor(w,v,R){this.segmentGroup=w,this.processChildren=v,this.index=R}}function Vs(D,w,v){if(D||(D=new _n([],{})),0===D.segments.length&&D.hasChildren())return Yi(D,w,v);const R=function(D,w,v){let R=0,U=w;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<D.segments.length;){if(R>=v.length)return Y;const ce=D.segments[U],Ee=v[R];if(Kr(Ee))break;const at=`${Ee}`,Ht=R<v.length-1?v[R+1]:null;if(U>0&&void 0===at)break;if(at&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!qr(at,Ht,ce))return Y;R+=2}else{if(!qr(at,{},ce))return Y;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(D,w,v),U=v.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const Y=new _n(D.segments.slice(0,R.pathIndex),{});return Y.children[Jt]=new _n(D.segments.slice(R.pathIndex),D.children),Yi(Y,0,U)}return R.match&&0===U.length?new _n(D.segments,{}):R.match&&!D.hasChildren()?Qs(D,w,v):R.match?Yi(D,0,U):Qs(D,w,v)}function Yi(D,w,v){if(0===v.length)return new _n(D.segments,{});{const R=function(D){return Kr(D[0])?D[0].outlets:{[Jt]:D}}(v),U={};return nn(R,(Y,ce)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[ce]=Vs(D.children[ce],w,Y))}),nn(D.children,(Y,ce)=>{void 0===R[ce]&&(U[ce]=Y)}),new _n(D.segments,U)}}function Qs(D,w,v){const R=D.segments.slice(0,w);let U=0;for(;U<v.length;){const Y=v[U];if(Kr(Y)){const at=as(Y.outlets);return new _n(R,at)}if(0===U&&os(v[0])){R.push(new Mn(D.segments[w].path,Lo(v[0]))),U++;continue}const ce=Kr(Y)?Y.outlets[Jt]:`${Y}`,Ee=U<v.length-1?v[U+1]:null;ce&&Ee&&os(Ee)?(R.push(new Mn(ce,Lo(Ee))),U+=2):(R.push(new Mn(ce,{})),U++)}return new _n(R,{})}function as(D){const w={};return nn(D,(v,R)=>{"string"==typeof v&&(v=[v]),null!==v&&(w[R]=Qs(new _n([],{}),0,v))}),w}function Lo(D){const w={};return nn(D,(v,R)=>w[R]=`${v}`),w}function qr(D,w,v){return D==v.path&&yt(w,v.parameters)}class fi{constructor(w,v,R,U){this.routeReuseStrategy=w,this.futureState=v,this.currState=R,this.forwardEvent=U}activate(w){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,w),Ir(this.futureState.root),this.activateChildRoutes(v,R,w)}deactivateChildRoutes(w,v,R){const U=At(v);w.children.forEach(Y=>{const ce=Y.value.outlet;this.deactivateRoutes(Y,U[ce],R),delete U[ce]}),nn(U,(Y,ce)=>{this.deactivateRouteAndItsChildren(Y,R)})}deactivateRoutes(w,v,R){const U=w.value,Y=v?v.value:null;if(U===Y)if(U.component){const ce=R.getContext(U.outlet);ce&&this.deactivateChildRoutes(w,v,ce.children)}else this.deactivateChildRoutes(w,v,R);else Y&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(w,v){this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,v):this.deactivateRouteAndOutlet(w,v)}detachAndStoreRouteSubtree(w,v){const R=v.getContext(w.value.outlet);if(R&&R.outlet){const U=R.outlet.detach(),Y=R.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:U,route:w,contexts:Y})}}deactivateRouteAndOutlet(w,v){const R=v.getContext(w.value.outlet),U=R&&w.value.component?R.children:v,Y=At(w);for(const ce of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ce],U);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(w,v,R){const U=At(v);w.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],R),this.forwardEvent(new li(Y.value.snapshot))}),w.children.length&&this.forwardEvent(new lr(w.value.snapshot))}activateRoutes(w,v,R){const U=w.value,Y=v?v.value:null;if(Ir(U),U===Y)if(U.component){const ce=R.getOrCreateContext(U.outlet);this.activateChildRoutes(w,v,ce.children)}else this.activateChildRoutes(w,v,R);else if(U.component){const ce=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Ee=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),ce.children.onOutletReAttached(Ee.contexts),ce.attachRef=Ee.componentRef,ce.route=Ee.route.value,ce.outlet&&ce.outlet.attach(Ee.componentRef,Ee.route.value),Qi(Ee.route)}else{const Ee=function(D){for(let w=D.parent;w;w=w.parent){const v=w.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(U.snapshot),at=Ee?Ee.module.componentFactoryResolver:null;ce.attachRef=null,ce.route=U,ce.resolver=at,ce.outlet&&ce.outlet.activateWith(U,at),this.activateChildRoutes(w,null,ce.children)}}else this.activateChildRoutes(w,null,R)}}function Qi(D){Ir(D.value),D.children.forEach(Qi)}class Oi{constructor(w,v){this.routes=w,this.module=v}}function Jr(D){return"function"==typeof D}function Ni(D){return D instanceof Hr}const F=Symbol("INITIAL_VALUE");function z(){return(0,En.w)(D=>function(...D){let w,v;return(0,X.K)(D[D.length-1])&&(v=D.pop()),"function"==typeof D[D.length-1]&&(w=D.pop()),1===D.length&&(0,se.k)(D[0])&&(D=D[0]),(0,W.n)(D,v).lift(new Ae(w))}(D.map(w=>w.pipe((0,Yn.q)(1),(0,Nn.O)(F)))).pipe((0,Un.R)((w,v)=>{let R=!1;return v.reduce((U,Y,ce)=>U!==F?U:(Y===F&&(R=!0),R||!1!==Y&&ce!==v.length-1&&!Ni(Y)?U:Y),w)},F),(0,Ze.h)(w=>w!==F),(0,bt.U)(w=>Ni(w)?w:!0===w),(0,Yn.q)(1)))}let L=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275cmp=c.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,R){1&v&&c._UZ(0,"router-outlet")},directives:function(){return[$i]},encapsulation:2}),D})();function J(D,w=""){for(let v=0;v<D.length;v++){const R=D[v];we(R,ze(w,R))}}function we(D,w){D.children&&J(D.children,w)}function ze(D,w){return w?D||w.path?D&&!w.path?`${D}/`:!D&&w.path?w.path:`${D}/${w.path}`:"":D}function ht(D){const w=D.children&&D.children.map(ht),v=w?Object.assign(Object.assign({},D),{children:w}):Object.assign({},D);return!v.component&&(w||v.loadChildren)&&v.outlet&&v.outlet!==Jt&&(v.component=L),v}function N(D){return D.outlet||Jt}function M(D,w){const v=D.filter(R=>N(R)===w);return v.push(...D.filter(R=>N(R)!==w)),v}const T={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function G(D,w,v){var R;if(""===w.path)return"full"===w.pathMatch&&(D.hasChildren()||v.length>0)?Object.assign({},T):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Y=(w.matcher||Ge)(v,D,w);if(!Y)return Object.assign({},T);const ce={};nn(Y.posParams,(at,Ht)=>{ce[Ht]=at.path});const Ee=Y.consumed.length>0?Object.assign(Object.assign({},ce),Y.consumed[Y.consumed.length-1].parameters):ce;return{matched:!0,consumedSegments:Y.consumed,lastChild:Y.consumed.length,parameters:Ee,positionalParamSegments:null!==(R=Y.posParams)&&void 0!==R?R:{}}}function Fe(D,w,v,R,U="corrected"){if(v.length>0&&function(D,w,v){return v.some(R=>Mr(D,w,R)&&N(R)!==Jt)}(D,v,R)){const ce=new _n(w,function(D,w,v,R){const U={};U[Jt]=R,R._sourceSegment=D,R._segmentIndexShift=w.length;for(const Y of v)if(""===Y.path&&N(Y)!==Jt){const ce=new _n([],{});ce._sourceSegment=D,ce._segmentIndexShift=w.length,U[N(Y)]=ce}return U}(D,w,R,new _n(v,D.children)));return ce._sourceSegment=D,ce._segmentIndexShift=w.length,{segmentGroup:ce,slicedSegments:[]}}if(0===v.length&&function(D,w,v){return v.some(R=>Mr(D,w,R))}(D,v,R)){const ce=new _n(D.segments,function(D,w,v,R,U,Y){const ce={};for(const Ee of R)if(Mr(D,v,Ee)&&!U[N(Ee)]){const at=new _n([],{});at._sourceSegment=D,at._segmentIndexShift="legacy"===Y?D.segments.length:w.length,ce[N(Ee)]=at}return Object.assign(Object.assign({},U),ce)}(D,w,v,R,D.children,U));return ce._sourceSegment=D,ce._segmentIndexShift=w.length,{segmentGroup:ce,slicedSegments:v}}const Y=new _n(D.segments,D.children);return Y._sourceSegment=D,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:v}}function Mr(D,w,v){return(!(D.hasChildren()||w.length>0)||"full"!==v.pathMatch)&&""===v.path}function dr(D,w,v,R){return!!(N(D)===R||R!==Jt&&Mr(w,v,D))&&("**"===D.path||G(w,D,v).matched)}function pi(D,w,v){return 0===w.length&&!D.children[v]}class Pi{constructor(w){this.segmentGroup=w||null}}class Ji{constructor(w){this.urlTree=w}}function jr(D){return new ue.y(w=>w.error(new Pi(D)))}function Js(D){return new ue.y(w=>w.error(new Ji(D)))}function Vo(D){return new ue.y(w=>w.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class Uo{constructor(w,v,R,U,Y){this.configLoader=v,this.urlSerializer=R,this.urlTree=U,this.config=Y,this.allowRedirects=!0,this.ngModule=w.get(c.h0i)}apply(){const w=Fe(this.urlTree.root,[],[],this.config).segmentGroup,v=new _n(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,v,Jt).pipe((0,bt.U)(Y=>this.createUrlTree(co(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qe(Y=>{if(Y instanceof Ji)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof Pi?this.noMatchError(Y):Y}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,Jt).pipe((0,bt.U)(U=>this.createUrlTree(co(U),w.queryParams,w.fragment))).pipe(qe(U=>{throw U instanceof Pi?this.noMatchError(U):U}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,v,R){const U=w.segments.length>0?new _n([],{[Jt]:w}):w;return new Hr(U,v,R)}expandSegmentGroup(w,v,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(w,v,R).pipe((0,bt.U)(Y=>new _n([],Y))):this.expandSegment(w,R,v,R.segments,U,!0)}expandChildren(w,v,R){const U=[];for(const Y of Object.keys(R.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,Be.D)(U).pipe(ke(Y=>{const ce=R.children[Y],Ee=M(v,Y);return this.expandSegmentGroup(w,Ee,ce,Y).pipe((0,bt.U)(at=>({segment:at,outlet:Y})))}),(0,Un.R)((Y,ce)=>(Y[ce.outlet]=ce.segment,Y),{}),function(D,w){const v=arguments.length>=2;return R=>R.pipe(D?(0,Ze.h)((U,Y)=>D(U,Y,R)):$t.y,It(1),v?(0,zt.d)(w):(0,an.T)(()=>new Qe.K))}())}expandSegment(w,v,R,U,Y,ce){return(0,Be.D)(R).pipe(ke(Ee=>this.expandSegmentAgainstRoute(w,v,R,Ee,U,Y,ce).pipe(qe(Ht=>{if(Ht instanceof Pi)return(0,Me.of)(null);throw Ht}))),(0,Gn.P)(Ee=>!!Ee),qe((Ee,at)=>{if(Ee instanceof Qe.K||"EmptyError"===Ee.name){if(pi(v,U,Y))return(0,Me.of)(new _n([],{}));throw new Pi(v)}throw Ee}))}expandSegmentAgainstRoute(w,v,R,U,Y,ce,Ee){return dr(U,v,Y,ce)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(w,v,U,Y,ce):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,v,R,U,Y,ce):jr(v):jr(v)}expandSegmentAgainstRouteUsingRedirect(w,v,R,U,Y,ce){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,R,U,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(w,v,R,U,Y,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,v,R,U){const Y=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Js(Y):this.lineralizeSegments(R,Y).pipe((0,he.zg)(ce=>{const Ee=new _n(ce,{});return this.expandSegment(w,Ee,v,ce,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,v,R,U,Y,ce){const{matched:Ee,consumedSegments:at,lastChild:Ht,positionalParamSegments:Lt}=G(v,U,Y);if(!Ee)return jr(v);const un=this.applyRedirectCommands(at,U.redirectTo,Lt);return U.redirectTo.startsWith("/")?Js(un):this.lineralizeSegments(U,un).pipe((0,he.zg)(Ar=>this.expandSegment(w,v,R,Ar.concat(Y.slice(Ht)),ce,!1)))}matchSegmentAgainstRoute(w,v,R,U,Y){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,Me.of)(R._loadedConfig):this.configLoader.load(w.injector,R)).pipe((0,bt.U)(Ar=>(R._loadedConfig=Ar,new _n(U,{})))):(0,Me.of)(new _n(U,{}));const{matched:ce,consumedSegments:Ee,lastChild:at}=G(v,R,U);if(!ce)return jr(v);const Ht=U.slice(at);return this.getChildConfig(w,R,U).pipe((0,he.zg)(un=>{const Ar=un.module,bn=un.routes,{segmentGroup:hn,slicedSegments:Xi}=Fe(v,Ee,Ht,bn),Ci=new _n(hn.segments,hn.children);if(0===Xi.length&&Ci.hasChildren())return this.expandChildren(Ar,bn,Ci).pipe((0,bt.U)(Au=>new _n(Ee,Au)));if(0===bn.length&&0===Xi.length)return(0,Me.of)(new _n(Ee,{}));const Zo=N(R)===Y;return this.expandSegment(Ar,Ci,bn,Xi,Zo?Jt:Y,!0).pipe((0,bt.U)(Vn=>new _n(Ee.concat(Vn.segments),Vn.children)))}))}getChildConfig(w,v,R){return v.children?(0,Me.of)(new Oi(v.children,w)):v.loadChildren?void 0!==v._loadedConfig?(0,Me.of)(v._loadedConfig):this.runCanLoadGuards(w.injector,v,R).pipe((0,he.zg)(U=>{return U?this.configLoader.load(w.injector,v).pipe((0,bt.U)(Y=>(v._loadedConfig=Y,Y))):(D=v,new ue.y(w=>w.error(ge(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,Me.of)(new Oi([],w))}runCanLoadGuards(w,v,R){const U=v.canLoad;if(!U||0===U.length)return(0,Me.of)(!0);const Y=U.map(ce=>{const Ee=w.get(ce);let at;if((D=Ee)&&Jr(D.canLoad))at=Ee.canLoad(v,R);else{if(!Jr(Ee))throw new Error("Invalid CanLoad guard");at=Ee(v,R)}var D;return xn(at)});return(0,Me.of)(Y).pipe(z(),(0,Fn.b)(ce=>{if(!Ni(ce))return;const Ee=ge(`Redirecting to "${this.urlSerializer.serialize(ce)}"`);throw Ee.url=ce,Ee}),(0,bt.U)(ce=>!0===ce))}lineralizeSegments(w,v){let R=[],U=v.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,Me.of)(R);if(U.numberOfChildren>1||!U.children[Jt])return Vo(w.redirectTo);U=U.children[Jt]}}applyRedirectCommands(w,v,R){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),w,R)}applyRedirectCreatreUrlTree(w,v,R,U){const Y=this.createSegmentGroup(w,v.root,R,U);return new Hr(Y,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(w,v){const R={};return nn(w,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const Ee=U.substring(1);R[Y]=v[Ee]}else R[Y]=U}),R}createSegmentGroup(w,v,R,U){const Y=this.createSegments(w,v.segments,R,U);let ce={};return nn(v.children,(Ee,at)=>{ce[at]=this.createSegmentGroup(w,Ee,R,U)}),new _n(Y,ce)}createSegments(w,v,R,U){return v.map(Y=>Y.path.startsWith(":")?this.findPosParam(w,Y,U):this.findOrReturn(Y,R))}findPosParam(w,v,R){const U=R[v.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${w}'. Cannot find '${v.path}'.`);return U}findOrReturn(w,v){let R=0;for(const U of v){if(U.path===w.path)return v.splice(R),U;R++}return w}}function co(D){const w={};for(const R of Object.keys(D.children)){const Y=co(D.children[R]);(Y.segments.length>0||Y.hasChildren())&&(w[R]=Y)}return function(D){if(1===D.numberOfChildren&&D.children[Jt]){const w=D.children[Jt];return new _n(D.segments.concat(w.segments),w.children)}return D}(new _n(D.segments,w))}class lo{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Bo{constructor(w,v){this.component=w,this.route=v}}function dt(D,w,v){const R=D._root;return Xs(R,w?w._root:null,v,[R.value])}function Do(D,w,v){const R=function(D){if(!D)return null;for(let w=D.parent;w;w=w.parent){const v=w.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(w);return(R?R.module.injector:v).get(D)}function Xs(D,w,v,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=At(w);return D.children.forEach(ce=>{(function(D,w,v,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=D.value,ce=w?w.value:null,Ee=v?v.getContext(D.value.outlet):null;if(ce&&Y.routeConfig===ce.routeConfig){const at=function(D,w,v){if("function"==typeof v)return v(D,w);switch(v){case"pathParamsChange":return!xr(D.url,w.url);case"pathParamsOrQueryParamsChange":return!xr(D.url,w.url)||!yt(D.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ki(D,w)||!yt(D.queryParams,w.queryParams);case"paramsChange":default:return!Ki(D,w)}}(ce,Y,Y.routeConfig.runGuardsAndResolvers);at?U.canActivateChecks.push(new lo(R)):(Y.data=ce.data,Y._resolvedData=ce._resolvedData),Xs(D,w,Y.component?Ee?Ee.children:null:v,R,U),at&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&U.canDeactivateChecks.push(new Bo(Ee.outlet.component,ce))}else ce&&ws(w,Ee,U),U.canActivateChecks.push(new lo(R)),Xs(D,null,Y.component?Ee?Ee.children:null:v,R,U)})(ce,Y[ce.value.outlet],v,R.concat([ce.value]),U),delete Y[ce.value.outlet]}),nn(Y,(ce,Ee)=>ws(ce,v.getContext(Ee),U)),U}function ws(D,w,v){const R=At(D),U=D.value;nn(R,(Y,ce)=>{ws(Y,U.component?w?w.children.getContext(ce):null:w,v)}),v.canDeactivateChecks.push(new Bo(U.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,U))}class ar{}function Fi(D){return new ue.y(w=>w.error(D))}class fo{constructor(w,v,R,U,Y,ce){this.rootComponentType=w,this.config=v,this.urlTree=R,this.url=U,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=ce}recognize(){const w=Fe(this.urlTree.root,[],[],this.config.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,w,Jt);if(null===v)return null;const R=new On([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new _t(R,v),Y=new ii(this.url,U);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(w){const v=w.value,R=kr(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),w.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(w,v,R){return 0===v.segments.length&&v.hasChildren()?this.processChildren(w,v):this.processSegment(w,v,v.segments,R)}processChildren(w,v){const R=[];for(const Y of Object.keys(v.children)){const ce=v.children[Y],Ee=M(w,Y),at=this.processSegmentGroup(Ee,ce,Y);if(null===at)return null;R.push(...at)}const U=So(R);return U.sort((w,v)=>w.value.outlet===Jt?-1:v.value.outlet===Jt?1:w.value.outlet.localeCompare(v.value.outlet)),U}processSegment(w,v,R,U){for(const Y of w){const ce=this.processSegmentAgainstRoute(Y,v,R,U);if(null!==ce)return ce}return pi(v,R,U)?[]:null}processSegmentAgainstRoute(w,v,R,U){if(w.redirectTo||!dr(w,v,R,U))return null;let Y,ce=[],Ee=[];if("**"===w.path){const bn=R.length>0?Cn(R).parameters:{};Y=new On(R,bn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hs(w),N(w),w.component,w,no(v),la(v)+R.length,go(w))}else{const bn=G(v,w,R);if(!bn.matched)return null;ce=bn.consumedSegments,Ee=R.slice(bn.lastChild),Y=new On(ce,bn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hs(w),N(w),w.component,w,no(v),la(v)+ce.length,go(w))}const at=(D=w).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:Ht,slicedSegments:Lt}=Fe(v,ce,Ee,at.filter(bn=>void 0===bn.redirectTo),this.relativeLinkResolution);var D;if(0===Lt.length&&Ht.hasChildren()){const bn=this.processChildren(at,Ht);return null===bn?null:[new _t(Y,bn)]}if(0===at.length&&0===Lt.length)return[new _t(Y,[])];const un=N(w)===U,Ar=this.processSegment(at,Ht,Lt,un?Jt:U);return null===Ar?null:[new _t(Y,Ar)]}}function po(D){const w=D.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function So(D){const w=[],v=new Set;for(const R of D){if(!po(R)){w.push(R);continue}const U=w.find(Y=>R.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...R.children),v.add(U)):w.push(R)}for(const R of v){const U=So(R.children);w.push(new _t(R.value,U))}return w.filter(R=>!v.has(R))}function no(D){let w=D;for(;w._sourceSegment;)w=w._sourceSegment;return w}function la(D){let w=D,v=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,v+=w._segmentIndexShift?w._segmentIndexShift:0;return v-1}function hs(D){return D.data||{}}function go(D){return D.resolve||{}}function Ne(D){return(0,En.w)(w=>{const v=D(w);return v?(0,Be.D)(v).pipe((0,bt.U)(()=>w)):(0,Me.of)(w)})}class Xn extends class{shouldDetach(w){return!1}store(w,v){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,v){return w.routeConfig===v.routeConfig}}{}const er=new c.OlP("ROUTES");class bs{constructor(w,v,R,U){this.loader=w,this.compiler=v,this.onLoadStartListener=R,this.onLoadEndListener=U}load(w,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const U=this.loadModuleFactory(v.loadChildren).pipe((0,bt.U)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(v);const ce=Y.create(w);return new Oi(Zn(ce.injector.get(er,void 0,c.XFs.Self|c.XFs.Optional)).map(ht),ce)}),qe(Y=>{throw v._loader$=void 0,Y}));return v._loader$=new rt.c(U,()=>new qt.xQ).pipe((0,fr.x)()),v._loader$}loadModuleFactory(w){return"string"==typeof w?(0,Be.D)(this.loader.load(w)):xn(w()).pipe((0,he.zg)(v=>v instanceof c.YKP?(0,Me.of)(v):(0,Be.D)(this.compiler.compileModuleAsync(v))))}}class js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xs,this.attachRef=null}}class xs{constructor(){this.contexts=new Map}onChildOutletCreated(w,v){const R=this.getOrCreateContext(w);R.outlet=v,this.contexts.set(w,R)}onChildOutletDestroyed(w){const v=this.getContext(w);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let v=this.getContext(w);return v||(v=new js,this.contexts.set(w,v)),v}getContext(w){return this.contexts.get(w)||null}}class ei{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,v){return w}}function da(D){throw D}function yo(D,w,v){return w.parse("/")}function Zs(D,w){return(0,Me.of)(null)}const jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class D{constructor(v,R,U,Y,ce,Ee,at,Ht){this.rootComponentType=v,this.urlSerializer=R,this.rootContexts=U,this.location=Y,this.config=Ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.xQ,this.errorHandler=da,this.malformedUriErrorHandler=yo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zs,afterPreactivation:Zs},this.urlHandlingStrategy=new ei,this.routeReuseStrategy=new Xn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ce.get(c.h0i),this.console=ce.get(c.c2e);const Ar=ce.get(c.R0b);this.isNgZoneEnabled=Ar instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(Ht),this.currentUrlTree=new Hr(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bs(Ee,at,bn=>this.triggerEvent(new Ln(bn)),bn=>this.triggerEvent(new jt(bn))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const R=this.events;return v.pipe((0,Ze.h)(U=>0!==U.id),(0,bt.U)(U=>Object.assign(Object.assign({},U),{extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,En.w)(U=>{let Y=!1,ce=!1;return(0,Me.of)(U).pipe((0,Fn.b)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.currentRawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,En.w)(Ee=>{const at=this.browserUrlTree.toString(),Ht=!this.navigated||Ee.extractedUrl.toString()!==at||at!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ht)&&this.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl))return S(Ee.source)&&(this.browserUrlTree=Ee.extractedUrl),(0,Me.of)(Ee).pipe((0,En.w)(un=>{const Ar=this.transitions.getValue();return R.next(new jn(un.id,this.serializeUrl(un.extractedUrl),un.source,un.restoredState)),Ar!==this.transitions.getValue()?be.E:Promise.resolve(un)}),function(D,w,v,R){return(0,En.w)(U=>function(D,w,v,R,U){return new Uo(D,w,v,R,U).apply()}(D,w,v,U.extractedUrl,R).pipe((0,bt.U)(Y=>Object.assign(Object.assign({},U),{urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fn.b)(un=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:un.urlAfterRedirects})}),function(D,w,v,R,U){return(0,he.zg)(Y=>function(D,w,v,R,U="emptyOnly",Y="legacy"){try{const ce=new fo(D,w,v,R,U,Y).recognize();return null===ce?Fi(new ar):(0,Me.of)(ce)}catch(ce){return Fi(ce)}}(D,w,Y.urlAfterRedirects,v(Y.urlAfterRedirects),R,U).pipe((0,bt.U)(ce=>Object.assign(Object.assign({},Y),{targetSnapshot:ce}))))}(this.rootComponentType,this.config,un=>this.serializeUrl(un),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fn.b)(un=>{"eager"===this.urlUpdateStrategy&&(un.extras.skipLocationChange||this.setBrowserUrl(un.urlAfterRedirects,un),this.browserUrlTree=un.urlAfterRedirects);const Ar=new Ft(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);R.next(Ar)}));if(Ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ar,extractedUrl:bn,source:hn,restoredState:Xi,extras:Ci}=Ee,Zo=new jn(Ar,this.serializeUrl(bn),hn,Xi);R.next(Zo);const $s=Pn(bn,this.rootComponentType).snapshot;return(0,Me.of)(Object.assign(Object.assign({},Ee),{targetSnapshot:$s,urlAfterRedirects:bn,extras:Object.assign(Object.assign({},Ci),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ee.rawUrl,this.browserUrlTree=Ee.urlAfterRedirects,Ee.resolve(null),be.E}),Ne(Ee=>{const{targetSnapshot:at,id:Ht,extractedUrl:Lt,rawUrl:un,extras:{skipLocationChange:Ar,replaceUrl:bn}}=Ee;return this.hooks.beforePreactivation(at,{navigationId:Ht,appliedUrlTree:Lt,rawUrlTree:un,skipLocationChange:!!Ar,replaceUrl:!!bn})}),(0,Fn.b)(Ee=>{const at=new st(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(at)}),(0,bt.U)(Ee=>Object.assign(Object.assign({},Ee),{guards:dt(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)})),function(D,w){return(0,he.zg)(v=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:ce}}=v;return 0===ce.length&&0===Y.length?(0,Me.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function(D,w,v,R){return(0,Be.D)(D).pipe((0,he.zg)(U=>function(D,w,v,R,U){const Y=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,Me.of)(!0);const ce=Y.map(Ee=>{const at=Do(Ee,w,U);let Ht;if(function(D){return D&&Jr(D.canDeactivate)}(at))Ht=xn(at.canDeactivate(D,w,v,R));else{if(!Jr(at))throw new Error("Invalid CanDeactivate guard");Ht=xn(at(D,w,v,R))}return Ht.pipe((0,Gn.P)())});return(0,Me.of)(ce).pipe(z())}(U.component,U.route,v,w,R)),(0,Gn.P)(U=>!0!==U,!0))}(ce,R,U,D).pipe((0,he.zg)(Ee=>Ee&&function(D){return"boolean"==typeof D}(Ee)?function(D,w,v,R){return(0,Be.D)(w).pipe(ke(U=>(0,ye.z)(function(D,w){return null!==D&&w&&w(new Ut(D)),(0,Me.of)(!0)}(U.route.parent,R),function(D,w){return null!==D&&w&&w(new ci(D)),(0,Me.of)(!0)}(U.route,R),function(D,w,v){const R=w[w.length-1],Y=w.slice(0,w.length-1).reverse().map(ce=>function(D){const w=D.routeConfig?D.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:D,guards:w}:null}(ce)).filter(ce=>null!==ce).map(ce=>ae(()=>{const Ee=ce.guards.map(at=>{const Ht=Do(at,ce.node,v);let Lt;if(function(D){return D&&Jr(D.canActivateChild)}(Ht))Lt=xn(Ht.canActivateChild(R,D));else{if(!Jr(Ht))throw new Error("Invalid CanActivateChild guard");Lt=xn(Ht(R,D))}return Lt.pipe((0,Gn.P)())});return(0,Me.of)(Ee).pipe(z())}));return(0,Me.of)(Y).pipe(z())}(D,U.path,v),function(D,w,v){const R=w.routeConfig?w.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Me.of)(!0);const U=R.map(Y=>ae(()=>{const ce=Do(Y,w,v);let Ee;if(function(D){return D&&Jr(D.canActivate)}(ce))Ee=xn(ce.canActivate(w,D));else{if(!Jr(ce))throw new Error("Invalid CanActivate guard");Ee=xn(ce(w,D))}return Ee.pipe((0,Gn.P)())}));return(0,Me.of)(U).pipe(z())}(D,U.route,v))),(0,Gn.P)(U=>!0!==U,!0))}(R,Y,D,w):(0,Me.of)(Ee)),(0,bt.U)(Ee=>Object.assign(Object.assign({},v),{guardsResult:Ee})))})}(this.ngModule.injector,Ee=>this.triggerEvent(Ee)),(0,Fn.b)(Ee=>{if(Ni(Ee.guardsResult)){const Ht=ge(`Redirecting to "${this.serializeUrl(Ee.guardsResult)}"`);throw Ht.url=Ee.guardsResult,Ht}const at=new pn(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.triggerEvent(at)}),(0,Ze.h)(Ee=>!!Ee.guardsResult||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,""),!1)),Ne(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,Me.of)(Ee).pipe((0,Fn.b)(at=>{const Ht=new nr(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Ht)}),(0,En.w)(at=>{let Ht=!1;return(0,Me.of)(at).pipe(function(D,w){return(0,he.zg)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=v;if(!U.length)return(0,Me.of)(v);let Y=0;return(0,Be.D)(U).pipe(ke(ce=>function(D,w,v,R){return function(D,w,v,R){const U=Object.keys(D);if(0===U.length)return(0,Me.of)({});const Y={};return(0,Be.D)(U).pipe((0,he.zg)(ce=>function(D,w,v,R){const U=Do(D,w,R);return xn(U.resolve?U.resolve(w,v):U(w,v))}(D[ce],w,v,R).pipe((0,Fn.b)(Ee=>{Y[ce]=Ee}))),It(1),(0,he.zg)(()=>Object.keys(Y).length===U.length?(0,Me.of)(Y):be.E))}(D._resolve,D,w,R).pipe((0,bt.U)(Y=>(D._resolvedData=Y,D.data=Object.assign(Object.assign({},D.data),kr(D,v).resolve),null)))}(ce.route,R,D,w)),(0,Fn.b)(()=>Y++),It(1),(0,he.zg)(ce=>Y===U.length?(0,Me.of)(v):be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fn.b)({next:()=>Ht=!0,complete:()=>{Ht||(this.restoreHistory(at),this.cancelNavigationTransition(at,"At least one route resolver didn't emit any value."))}}))}),(0,Fn.b)(at=>{const Ht=new zn(at.id,this.serializeUrl(at.extractedUrl),this.serializeUrl(at.urlAfterRedirects),at.targetSnapshot);this.triggerEvent(Ht)}))}),Ne(Ee=>{const{targetSnapshot:at,id:Ht,extractedUrl:Lt,rawUrl:un,extras:{skipLocationChange:Ar,replaceUrl:bn}}=Ee;return this.hooks.afterPreactivation(at,{navigationId:Ht,appliedUrlTree:Lt,rawUrlTree:un,skipLocationChange:!!Ar,replaceUrl:!!bn})}),(0,bt.U)(Ee=>{const at=function(D,w,v){const R=gr(D,w._root,v?v._root:void 0);return new on(R,w)}(this.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return Object.assign(Object.assign({},Ee),{targetRouterState:at})}),(0,Fn.b)(Ee=>{this.currentUrlTree=Ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.urlAfterRedirects,Ee.rawUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee),this.browserUrlTree=Ee.urlAfterRedirects)}),((D,w,v)=>(0,bt.U)(R=>(new fi(w,R.targetRouterState,R.currentRouterState,v).activate(D),R)))(this.rootContexts,this.routeReuseStrategy,Ee=>this.triggerEvent(Ee)),(0,Fn.b)({next(){Y=!0},complete(){Y=!0}}),function(D){return w=>w.lift(new Vt(D))}(()=>{if(!Y&&!ce){const Ee=`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(U),this.cancelNavigationTransition(U,Ee)):this.cancelNavigationTransition(U,Ee)}this.currentNavigation=null}),qe(Ee=>{if(ce=!0,function(D){return D&&D[De]}(Ee)){const at=Ni(Ee.url);at||(this.navigated=!0,this.restoreHistory(U,!0));const Ht=new Sn(U.id,this.serializeUrl(U.extractedUrl),Ee.message);R.next(Ht),at?setTimeout(()=>{const Lt=this.urlHandlingStrategy.merge(Ee.url,this.rawUrlTree),un={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S(U.source)};this.scheduleNavigation(Lt,"imperative",null,un,{resolve:U.resolve,reject:U.reject,promise:U.promise})},0):U.resolve(!1)}else{this.restoreHistory(U,!0);const at=new mn(U.id,this.serializeUrl(U.extractedUrl),Ee);R.next(at);try{U.resolve(this.errorHandler(Ee))}catch(Ht){U.reject(Ht)}}return be.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}getTransition(){const v=this.transitions.value;return v.urlAfterRedirects=this.browserUrlTree,v}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R=this.extractLocationChangeInfoFromEvent(v);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:U,state:Y,urlTree:ce}=R,Ee={replaceUrl:!0};if(Y){const at=Object.assign({},Y);delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(Ee.state=at)}this.scheduleNavigation(ce,U,Y,Ee)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(v){var R;return{source:"popstate"===v.type?"popstate":"hashchange",urlTree:this.parseUrl(v.url),state:(null===(R=v.state)||void 0===R?void 0:R.navigationId)?v.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(v,R){if(!v)return!0;const U=R.urlTree.toString()===v.urlTree.toString();return R.transitionId!==v.transitionId||!U||!("hashchange"===R.source&&"popstate"===v.source||"popstate"===R.source&&"hashchange"===v.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){J(v),this.config=v.map(ht),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,R={}){const{relativeTo:U,queryParams:Y,fragment:ce,queryParamsHandling:Ee,preserveFragment:at}=R,Ht=U||this.routerState.root,Lt=at?this.currentUrlTree.fragment:ce;let un=null;switch(Ee){case"merge":un=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Y);break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=Y||null}return null!==un&&(un=this.removeEmptyProps(un)),function(D,w,v,R,U){if(0===v.length)return Ks(w.root,w.root,w,R,U);const Y=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new bi(!0,0,D);let w=0,v=!1;const R=D.reduce((U,Y,ce)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ee={};return nn(Y.outlets,(at,Ht)=>{Ee[Ht]="string"==typeof at?at.split("/"):at}),[...U,{outlets:Ee}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===ce?(Y.split("/").forEach((Ee,at)=>{0==at&&"."===Ee||(0==at&&""===Ee?v=!0:".."===Ee?w++:""!=Ee&&U.push(Ee))}),U):[...U,Y]},[]);return new bi(v,w,R)}(v);if(Y.toRoot())return Ks(w.root,new _n([],{}),w,R,U);const ce=function(D,w,v){if(D.isAbsolute)return new _s(w.root,!0,0);if(-1===v.snapshot._lastPathIndex){const Y=v.snapshot._urlSegment;return new _s(Y,Y===w.root,0)}const R=os(D.commands[0])?0:1;return function(D,w,v){let R=D,U=w,Y=v;for(;Y>U;){if(Y-=U,R=R.parent,!R)throw new Error("Invalid number of '../'");U=R.segments.length}return new _s(R,!1,U-Y)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+R,D.numberOfDoubleDots)}(Y,w,D),Ee=ce.processChildren?Yi(ce.segmentGroup,ce.index,Y.commands):Vs(ce.segmentGroup,ce.index,Y.commands);return Ks(ce.segmentGroup,Ee,w,R,U)}(Ht,this.currentUrlTree,v,un,null!=Lt?Lt:null)}navigateByUrl(v,R={skipLocationChange:!1}){const U=Ni(v)?v:this.parseUrl(v),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,R)}navigate(v,R={skipLocationChange:!1}){return function(D){for(let w=0;w<D.length;w++){const v=D[w];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${w}`)}}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,v)}return R}isActive(v,R){let U;if(U=!0===R?Object.assign({},jo):!1===R?Object.assign({},fs):R,Ni(v))return Wi(this.currentUrlTree,v,U);const Y=this.parseUrl(v);return Wi(this.currentUrlTree,Y,U)}removeEmptyProps(v){return Object.keys(v).reduce((R,U)=>{const Y=v[U];return null!=Y&&(R[U]=Y),R},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new cn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,R,U,Y,ce){var Ee,at;if(this.disposed)return Promise.resolve(!1);const Ht=this.getTransition(),Lt=S(R)&&Ht&&!S(Ht.source),bn=(this.lastSuccessfulId===Ht.id||this.currentNavigation?Ht.rawUrl:Ht.urlAfterRedirects).toString()===v.toString();if(Lt&&bn)return Promise.resolve(!0);let hn,Xi,Ci;ce?(hn=ce.resolve,Xi=ce.reject,Ci=ce.promise):Ci=new Promise((Vn,Au)=>{hn=Vn,Xi=Au});const Zo=++this.navigationId;let $s;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),$s=U&&U.\u0275routerPageId?U.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?null!==(Ee=this.browserPageId)&&void 0!==Ee?Ee:0:(null!==(at=this.browserPageId)&&void 0!==at?at:0)+1):$s=0,this.setTransition({id:Zo,targetPageId:$s,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:Y,resolve:hn,reject:Xi,promise:Ci,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ci.catch(Vn=>Promise.reject(Vn))}setBrowserUrl(v,R){const U=this.urlSerializer.serialize(v),Y=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl?this.location.replaceState(U,"",Y):this.location.go(U,"",Y)}restoreHistory(v,R=!1){var U,Y;if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)||0===ce?this.currentUrlTree===(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)&&0===ce&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,R){const U=new Sn(v.id,this.serializeUrl(v.extractedUrl),R);this.triggerEvent(U),v.resolve(!1)}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}}return D.\u0275fac=function(v){return new(v||D)(c.LFG(c.DyG),c.LFG(Bi),c.LFG(xs),c.LFG(_.Ye),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})();function S(D){return"imperative"!==D}let $=(()=>{class D{constructor(v,R,U,Y,ce){this.router=v,this.route=R,this.commands=[],this.onChanges=new qt.xQ,null==U&&Y.setAttribute(ce.nativeElement,"tabindex","0")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}onClick(){const v={skipLocationChange:ut(this.skipLocationChange),replaceUrl:ut(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ut(this.preserveFragment)})}}return D.\u0275fac=function(v){return new(v||D)(c.Y36(_r),c.Y36(vn),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},D.\u0275dir=c.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,R){1&v&&c.NdJ("click",function(){return R.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),D})(),Ce=(()=>{class D{constructor(v,R,U){this.router=v,this.route=R,this.locationStrategy=U,this.commands=[],this.onChanges=new qt.xQ,this.subscription=v.events.subscribe(Y=>{Y instanceof cn&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:[]}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,R,U,Y,ce){if(0!==v||R||U||Y||ce||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ee={skipLocationChange:ut(this.skipLocationChange),replaceUrl:ut(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ee),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ut(this.preserveFragment)})}}return D.\u0275fac=function(v){return new(v||D)(c.Y36(_r),c.Y36(vn),c.Y36(_.S$))},D.\u0275dir=c.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,R){1&v&&c.NdJ("click",function(Y){return R.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&v&&(c.Ikx("href",R.href,c.LSH),c.uIk("target",R.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),D})();function ut(D){return""===D||!!D}let $i=(()=>{class D{constructor(v,R,U,Y,ce){this.parentContexts=v,this.location=R,this.resolver=U,this.changeDetector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=Y||Jt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const ce=(R=R||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),Ee=this.parentContexts.getOrCreateContext(this.name).children,at=new si(v,Ee,this.location.injector);this.activated=this.location.createComponent(ce,this.location.length,at),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(v){return new(v||D)(c.Y36(xs),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},D.\u0275dir=c.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class si{constructor(w,v,R){this.route=w,this.childContexts=v,this.parent=R}get(w,v){return w===vn?this.route:w===xs?this.childContexts:this.parent.get(w,v)}}class Hs{}class Zr{preload(w,v){return(0,Me.of)(null)}}let qa=(()=>{class D{constructor(v,R,U,Y,ce){this.router=v,this.injector=Y,this.preloadingStrategy=ce,this.loader=new bs(R,U,Ht=>v.triggerEvent(new Ln(Ht)),Ht=>v.triggerEvent(new jt(Ht)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ze.h)(v=>v instanceof cn),ke(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(c.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const U=[];for(const Y of R)if(Y.loadChildren&&!Y.canLoad&&Y._loadedConfig){const ce=Y._loadedConfig;U.push(this.processRoutes(ce.module,ce.routes))}else Y.loadChildren&&!Y.canLoad?U.push(this.preloadConfig(v,Y)):Y.children&&U.push(this.processRoutes(v,Y.children));return(0,Be.D)(U).pipe((0,kt.J)(),(0,bt.U)(Y=>{}))}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,Me.of)(R._loadedConfig):this.loader.load(v.injector,R)).pipe((0,he.zg)(Y=>(R._loadedConfig=Y,this.processRoutes(Y.module,Y.routes)))))}}return D.\u0275fac=function(v){return new(v||D)(c.LFG(_r),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Hs))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})(),ha=(()=>{class D{constructor(v,R,U={}){this.router=v,this.viewportScroller=R,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof cn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Qn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.router.triggerEvent(new Qn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(v){return new(v||D)(c.LFG(_r),c.LFG(_.EM),c.LFG(void 0))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})();const _o=new c.OlP("ROUTER_CONFIGURATION"),ea=new c.OlP("ROUTER_FORROOT_GUARD"),Du=[_.Ye,{provide:Bi,useClass:Rn},{provide:_r,useFactory:function(D,w,v,R,U,Y,ce,Ee={},at,Ht){const Lt=new _r(null,D,w,v,R,U,Y,Zn(ce));return at&&(Lt.urlHandlingStrategy=at),Ht&&(Lt.routeReuseStrategy=Ht),function(D,w){D.errorHandler&&(w.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(w.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(w.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(w.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(w.urlUpdateStrategy=D.urlUpdateStrategy)}(Ee,Lt),Ee.enableTracing&&Lt.events.subscribe(un=>{var Ar,bn;null===(Ar=console.group)||void 0===Ar||Ar.call(console,`Router Event: ${un.constructor.name}`),console.log(un.toString()),console.log(un),null===(bn=console.groupEnd)||void 0===bn||bn.call(console)}),Lt},deps:[Bi,xs,_.Ye,c.zs3,c.v3s,c.Sil,er,_o,[class{},new c.FiY],[class{},new c.FiY]]},xs,{provide:vn,useFactory:function(D){return D.routerState.root},deps:[_r]},{provide:c.v3s,useClass:c.EAV},qa,Zr,class{preload(w,v){return v().pipe(qe(()=>(0,Me.of)(null)))}},{provide:_o,useValue:{enableTracing:!1}}];function oi(){return new c.PXZ("Router",_r)}let vo=(()=>{class D{constructor(v,R){}static forRoot(v,R){return{ngModule:D,providers:[Du,Tt(v),{provide:ea,useFactory:fa,deps:[[_r,new c.FiY,new c.tp0]]},{provide:_o,useValue:R||{}},{provide:_.S$,useFactory:Oa,deps:[_.lw,[new c.tBr(_.mr),new c.FiY],_o]},{provide:ha,useFactory:Ms,deps:[_r,_.EM,_o]},{provide:Hs,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:Zr},{provide:c.PXZ,multi:!0,useFactory:oi},[Yt,{provide:c.ip1,multi:!0,useFactory:wn,deps:[Yt]},{provide:St,useFactory:Na,deps:[Yt]},{provide:c.tb,multi:!0,useExisting:St}]]}}static forChild(v){return{ngModule:D,providers:[Tt(v)]}}}return D.\u0275fac=function(v){return new(v||D)(c.LFG(ea,8),c.LFG(_r,8))},D.\u0275mod=c.oAB({type:D}),D.\u0275inj=c.cJS({}),D})();function Ms(D,w,v){return v.scrollOffset&&w.setOffset(v.scrollOffset),new ha(D,w,v)}function Oa(D,w,v={}){return v.useHash?new _.Do(D,w):new _.b0(D,w)}function fa(D){return"guarded"}function Tt(D){return[{provide:c.deG,multi:!0,useValue:D},{provide:er,multi:!0,useValue:D}]}let Yt=(()=>{class D{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qt.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const U=new Promise(Ee=>R=Ee),Y=this.injector.get(_r),ce=this.injector.get(_o);return"disabled"===ce.initialNavigation?(Y.setUpLocationChangeListener(),R(!0)):"enabled"===ce.initialNavigation||"enabledBlocking"===ce.initialNavigation?(Y.hooks.afterPreactivation=()=>this.initNavigation?(0,Me.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),Y.initialNavigation()):R(!0),U})}bootstrapListener(v){const R=this.injector.get(_o),U=this.injector.get(qa),Y=this.injector.get(ha),ce=this.injector.get(_r),Ee=this.injector.get(c.z2F);v===Ee.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&ce.initialNavigation(),U.setUpPreloading(),Y.init(),ce.resetRootComponentType(Ee.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(v){return new(v||D)(c.LFG(c.zs3))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})();function wn(D){return D.appInitializer.bind(D)}function Na(D){return D.bootstrapListener.bind(D)}const St=new c.OlP("Router Initializer")},4486:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{Z:()=>Je});var _=Z(3854),c=Z(6034),X=Z(5452),se=Z(5601);class Te{constructor(be,ae){this._delegate=be,this.firebase=ae,(0,X._addComponent)(be,new c.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(be,ae=X._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(be);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Me=Ve.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:ae})}_removeServiceInstance(be,ae=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ae)}_addComponent(be){(0,X._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,X._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ue(){const Be=function(Be){const be={},ae={__esModule:!0,initializeApp:function(Gt,qe={}){const je=X.initializeApp(Gt,qe);if((0,_.r3)(be,je.name))return be[je.name];const He=new Be(je,ae);return be[je.name]=He,He},app:Ve,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function(Gt){const qe=Gt.name,je=qe.replace("-compat","");if(X._registerComponent(Gt)&&"PUBLIC"===Gt.type){const He=(he=Ve())=>{if("function"!=typeof he[je])throw Ue.create("invalid-app-argument",{appName:qe});return he[je]()};void 0!==Gt.serviceProps&&(0,_.ZB)(He,Gt.serviceProps),ae[je]=He,Be.prototype[je]=function(...he){return this._getService.bind(this,qe).apply(this,Gt.multipleInstances?he:[])}}return"PUBLIC"===Gt.type?ae[je]:null},removeApp:function(Gt){delete be[Gt]},useAsService:function(Gt,qe){return"serverAuth"===qe?null:qe},modularAPIs:X}};function Ve(Gt){if(!(0,_.r3)(be,Gt=Gt||X._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:Gt});return be[Gt]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function(){return Object.keys(be).map(Gt=>be[Gt])}}),Ve.App=Be,ae}(Te);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(ae){(0,_.ZB)(Be,ae)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Be}(),W=new se.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ne;(0,X.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Pt,Ke,Z)=>{"use strict";Z.r(Ke),Z.d(Ke,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Wt,_apps:()=>zt,_clearComponents:()=>bt,_components:()=>$t,_getProvider:()=>Vt,_registerComponent:()=>fn,_removeServiceInstance:()=>pt,deleteApp:()=>kt,getApp:()=>Fn,getApps:()=>fr,initializeApp:()=>Gn,onLog:()=>cn,registerVersion:()=>jn,setLogLevel:()=>Sn});var _=Z(8239),c=Z(6034),X=Z(5601),se=Z(3854);class Te{constructor(st){this.container=st}getPlatformInfoString(){return this.container.getProviders().map(pn=>{if(function(Ft){const st=Ft.getComponent();return"VERSION"===(null==st?void 0:st.type)}(pn)){const nr=pn.getImmediate();return`${nr.library}/${nr.version}`}return null}).filter(pn=>pn).join(" ")}}const Ue="@firebase/app",ue=new X.Yd("@firebase/app"),Kn="[DEFAULT]",an={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,$t=new Map;function Rt(Ft,st){try{Ft.container.addComponent(st)}catch(pn){ue.debug(`Component ${st.name} failed to register with FirebaseApp ${Ft.name}`,pn)}}function Wt(Ft,st){Ft.container.addOrOverwriteComponent(st)}function fn(Ft){const st=Ft.name;if($t.has(st))return ue.debug(`There were multiple attempts to register component ${st}.`),!1;$t.set(st,Ft);for(const pn of zt.values())Rt(pn,Ft);return!0}function Vt(Ft,st){return Ft.container.getProvider(st)}function pt(Ft,st,pn=Kn){Vt(Ft,st).clearInstance(pn)}function bt(){$t.clear()}const Yn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Nn{constructor(st,pn,nr){this._isDeleted=!1,this._options=Object.assign({},st),this._config=Object.assign({},pn),this._name=pn.name,this._automaticDataCollectionEnabled=pn.automaticDataCollectionEnabled,this._container=nr,this.container.addComponent(new c.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this.checkDestroyed(),this._automaticDataCollectionEnabled=st}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(st){this._isDeleted=st}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const Un="9.1.3";function Gn(Ft,st={}){"object"!=typeof st&&(st={name:st});const pn=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},st),nr=pn.name;if("string"!=typeof nr||!nr)throw Yn.create("bad-app-name",{appName:String(nr)});const zn=zt.get(nr);if(zn){if((0,se.vZ)(Ft,zn.options)&&(0,se.vZ)(pn,zn.config))return zn;throw Yn.create("duplicate-app",{appName:nr})}const Ln=new c.H0(nr);for(const Ut of $t.values())Ln.addComponent(Ut);const jt=new Nn(Ft,pn,Ln);return zt.set(nr,jt),jt}function Fn(Ft=Kn){const st=zt.get(Ft);if(!st)throw Yn.create("no-app",{appName:Ft});return st}function fr(){return Array.from(zt.values())}function kt(Ft){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(Ft){const st=Ft.name;zt.has(st)&&(zt.delete(st),yield Promise.all(Ft.container.getProviders().map(pn=>pn.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function jn(Ft,st,pn){var nr;let zn=null!==(nr=an[Ft])&&void 0!==nr?nr:Ft;pn&&(zn+=`-${pn}`);const Ln=zn.match(/\s|\//),jt=st.match(/\s|\//);if(Ln||jt){const Ut=[`Unable to register library "${zn}" with version "${st}":`];return Ln&&Ut.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),Ln&&jt&&Ut.push("and"),jt&&Ut.push(`version name "${st}" contains illegal characters (whitespace or "/")`),void ue.warn(Ut.join(" "))}fn(new c.wA(`${zn}-version`,()=>({library:zn,version:st}),"VERSION"))}function cn(Ft,st){if(null!==Ft&&"function"!=typeof Ft)throw Yn.create("invalid-log-argument");(0,X.Am)(Ft,st)}function Sn(Ft){(0,X.Ub)(Ft)}fn(new c.wA("platform-logger",st=>new Te(st),"PRIVATE")),jn(Ue,"0.7.4",""),jn(Ue,"0.7.4","esm2017"),jn("fire-js","")},6034:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{wA:()=>X,H0:()=>Ie});var _=Z(4762),c=Z(3854),X=function(){function ue(ne,W,pe){this.name=ne,this.instanceFactory=W,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ue.prototype.setInstantiationMode=function(ne){return this.instantiationMode=ne,this},ue.prototype.setMultipleInstances=function(ne){return this.multipleInstances=ne,this},ue.prototype.setServiceProps=function(ne){return this.serviceProps=ne,this},ue.prototype.setInstanceCreatedCallback=function(ne){return this.onInstanceCreated=ne,this},ue}(),se="[DEFAULT]",Te=function(){function ue(ne,W){this.name=ne,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ue.prototype.get=function(ne){var W=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(W)){var pe=new c.BH;if(this.instancesDeferred.set(W,pe),this.isInitialized(W)||this.shouldAutoInitialize())try{var de=this.getOrInitializeService({instanceIdentifier:W});de&&pe.resolve(de)}catch(Ae){}}return this.instancesDeferred.get(W).promise},ue.prototype.getImmediate=function(ne){var W,pe=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),de=null!==(W=null==ne?void 0:ne.optional)&&void 0!==W&&W;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(de)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ae){if(de)return null;throw Ae}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(ne){var W,pe;if(ne.name!==this.name)throw Error("Mismatching Component "+ne.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ne,this.shouldAutoInitialize()){if(function(ue){return"EAGER"===ue.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:se})}catch(Ve){}try{for(var de=(0,_.XA)(this.instancesDeferred.entries()),Ae=de.next();!Ae.done;Ae=de.next()){var Je=(0,_.CR)(Ae.value,2),be=Je[1],ae=this.normalizeInstanceIdentifier(Je[0]);try{var Me=this.getOrInitializeService({instanceIdentifier:ae});be.resolve(Me)}catch(Ve){}}}catch(Ve){W={error:Ve}}finally{try{Ae&&!Ae.done&&(pe=de.return)&&pe.call(de)}finally{if(W)throw W.error}}}},ue.prototype.clearInstance=function(ne){void 0===ne&&(ne=se),this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)},ue.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var ne;return(0,_.Jh)(this,function(W){switch(W.label){case 0:return ne=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(ne.filter(function(pe){return"INTERNAL"in pe}).map(function(pe){return pe.INTERNAL.delete()}))),(0,_.CR)(ne.filter(function(pe){return"_delete"in pe}).map(function(pe){return pe._delete()}))))];case 1:return W.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.isInitialized=function(ne){return void 0===ne&&(ne=se),this.instances.has(ne)},ue.prototype.getOptions=function(ne){return void 0===ne&&(ne=se),this.instancesOptions.get(ne)||{}},ue.prototype.initialize=function(ne){var W,pe;void 0===ne&&(ne={});var de=ne.options,Ae=void 0===de?{}:de,Je=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Je))throw Error(this.name+"("+Je+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Be=this.getOrInitializeService({instanceIdentifier:Je,options:Ae});try{for(var be=(0,_.XA)(this.instancesDeferred.entries()),ae=be.next();!ae.done;ae=be.next()){var Me=(0,_.CR)(ae.value,2),Qe=Me[1];Je===this.normalizeInstanceIdentifier(Me[0])&&Qe.resolve(Be)}}catch(rt){W={error:rt}}finally{try{ae&&!ae.done&&(pe=be.return)&&pe.call(be)}finally{if(W)throw W.error}}return Be},ue.prototype.onInit=function(ne,W){var pe,de=this.normalizeInstanceIdentifier(W),Ae=null!==(pe=this.onInitCallbacks.get(de))&&void 0!==pe?pe:new Set;Ae.add(ne),this.onInitCallbacks.set(de,Ae);var Je=this.instances.get(de);return Je&&ne(Je,de),function(){Ae.delete(ne)}},ue.prototype.invokeOnInitCallbacks=function(ne,W){var pe,de,Ae=this.onInitCallbacks.get(W);if(Ae)try{for(var Je=(0,_.XA)(Ae),Be=Je.next();!Be.done;Be=Je.next()){var be=Be.value;try{be(ne,W)}catch(ae){}}}catch(ae){pe={error:ae}}finally{try{Be&&!Be.done&&(de=Je.return)&&de.call(Je)}finally{if(pe)throw pe.error}}},ue.prototype.getOrInitializeService=function(ne){var W=ne.instanceIdentifier,pe=ne.options,de=void 0===pe?{}:pe,Ae=this.instances.get(W);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:me(W),options:de}),this.instances.set(W,Ae),this.instancesOptions.set(W,de),this.invokeOnInitCallbacks(Ae,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Ae)}catch(Je){}return Ae||null},ue.prototype.normalizeInstanceIdentifier=function(ne){return void 0===ne&&(ne=se),this.component?this.component.multipleInstances?ne:se:ne},ue.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ue}();function me(ue){return ue===se?void 0:ue}var Ie=function(){function ue(ne){this.name=ne,this.providers=new Map}return ue.prototype.addComponent=function(ne){var W=this.getProvider(ne.name);if(W.isComponentSet())throw new Error("Component "+ne.name+" has already been registered with "+this.name);W.setComponent(ne)},ue.prototype.addOrOverwriteComponent=function(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)},ue.prototype.getProvider=function(ne){if(this.providers.has(ne))return this.providers.get(ne);var W=new Te(ne,this);return this.providers.set(ne,W),W},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}()},5601:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{in:()=>c,Yd:()=>Ue,Ub:()=>Ie,Am:()=>ue});const _=[];var c=(()=>{return(ne=c||(c={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",c;var ne})();const X={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},se=c.INFO,Te={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},me=(ne,W,...pe)=>{if(W<ne.logLevel)return;const de=(new Date).toISOString(),Ae=Te[W];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ae](`[${de}]  ${ne.name}:`,...pe)};class Ue{constructor(W){this.name=W,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in c))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?X[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...W),this._logHandler(this,c.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...W),this._logHandler(this,c.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,c.INFO,...W),this._logHandler(this,c.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,c.WARN,...W),this._logHandler(this,c.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...W),this._logHandler(this,c.ERROR,...W)}}function Ie(ne){_.forEach(W=>{W.setLogLevel(ne)})}function ue(ne,W){for(const pe of _){let de=null;W&&W.level&&(de=X[W.level]),pe.userLogHandler=null===ne?null:(Ae,Je,...Be)=>{const be=Be.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch(Me){return null}}).filter(ae=>ae).join(" ");Je>=(null!=de?de:Ae.logLevel)&&ne({level:c[Je].toLowerCase(),message:be,args:Be,type:Ae.name})}}}},3854:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{BH:()=>de,LL:()=>Ye,ZR:()=>Ze,zI:()=>He,US:()=>me,tV:()=>ue,$s:()=>li,r3:()=>Vt,Sg:()=>Ae,ne:()=>kt,vZ:()=>Yn,ZB:()=>W,pd:()=>Fn,m9:()=>zr,z$:()=>Je,jU:()=>ae,ru:()=>Me,d:()=>Qe,xb:()=>bt,w1:()=>ye,hl:()=>qe,uI:()=>Be,UG:()=>be,b$:()=>Ve,G6:()=>Gt,Mn:()=>rt,xO:()=>Un,zd:()=>Gn,eu:()=>je});const se=function(ve){const De=[];let ge=0;for(let ot=0;ot<ve.length;ot++){let Ge=ve.charCodeAt(ot);Ge<128?De[ge++]=Ge:Ge<2048?(De[ge++]=Ge>>6|192,De[ge++]=63&Ge|128):55296==(64512&Ge)&&ot+1<ve.length&&56320==(64512&ve.charCodeAt(ot+1))?(Ge=65536+((1023&Ge)<<10)+(1023&ve.charCodeAt(++ot)),De[ge++]=Ge>>18|240,De[ge++]=Ge>>12&63|128,De[ge++]=Ge>>6&63|128,De[ge++]=63&Ge|128):(De[ge++]=Ge>>12|224,De[ge++]=Ge>>6&63|128,De[ge++]=63&Ge|128)}return De},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,De){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let Ge=0;Ge<ve.length;Ge+=3){const xt=ve[Ge],yt=Ge+1<ve.length,Bn=yt?ve[Ge+1]:0,Zn=Ge+2<ve.length,Cn=Zn?ve[Ge+2]:0;let xn=(15&Bn)<<2|Cn>>6,Or=63&Cn;Zn||(Or=64,yt||(xn=64)),ot.push(ge[xt>>2],ge[(3&xt)<<4|Bn>>4],ge[xn],ge[Or])}return ot.join("")},encodeString(ve,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(ve):this.encodeByteArray(se(ve),De)},decodeString(ve,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(ve):function(ve){const De=[];let ge=0,ot=0;for(;ge<ve.length;){const Ge=ve[ge++];if(Ge<128)De[ot++]=String.fromCharCode(Ge);else if(Ge>191&&Ge<224){const xt=ve[ge++];De[ot++]=String.fromCharCode((31&Ge)<<6|63&xt)}else if(Ge>239&&Ge<365){const Zn=((7&Ge)<<18|(63&ve[ge++])<<12|(63&ve[ge++])<<6|63&ve[ge++])-65536;De[ot++]=String.fromCharCode(55296+(Zn>>10)),De[ot++]=String.fromCharCode(56320+(1023&Zn))}else{const xt=ve[ge++],yt=ve[ge++];De[ot++]=String.fromCharCode((15&Ge)<<12|(63&xt)<<6|63&yt)}}return De.join("")}(this.decodeStringToByteArray(ve,De))},decodeStringToByteArray(ve,De){this.init_();const ge=De?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let Ge=0;Ge<ve.length;){const xt=ge[ve.charAt(Ge++)],Bn=Ge<ve.length?ge[ve.charAt(Ge)]:0;++Ge;const Cn=Ge<ve.length?ge[ve.charAt(Ge)]:64;++Ge;const nn=Ge<ve.length?ge[ve.charAt(Ge)]:64;if(++Ge,null==xt||null==Bn||null==Cn||null==nn)throw Error();ot.push(xt<<2|Bn>>4),64!==Cn&&(ot.push(Bn<<4&240|Cn>>2),64!==nn&&ot.push(Cn<<6&192|nn))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},Ie=function(ve){return function(ve){const De=se(ve);return me.encodeByteArray(De,!0)}(ve).replace(/\./g,"")},ue=function(ve){try{return me.decodeString(ve,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function W(ve,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return De}for(const ge in De)!De.hasOwnProperty(ge)||!pe(ge)||(ve[ge]=W(ve[ge],De[ge]));return ve}function pe(ve){return"__proto__"!==ve}class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,ge)=>{this.resolve=De,this.reject=ge})}wrapCallback(De){return(ge,ot)=>{ge?this.reject(ge):this.resolve(ot),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(ge):De(ge,ot))}}}function Ae(ve,De){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ot=De||"demo-project",Ge=ve.iat||0,xt=ve.sub||ve.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ot}`,aud:ot,iat:Ge,exp:Ge+3600,auth_time:Ge,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(yt)),""].join(".")}function Je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}function ae(){return"object"==typeof self&&self.self===self}function Me(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return Je().indexOf("Electron/")>=0}function ye(){const ve=Je();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function rt(){return Je().indexOf("MSAppHost/")>=0}function Gt(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function je(){return new Promise((ve,De)=>{try{let ge=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",Ge=self.indexedDB.open(ot);Ge.onsuccess=()=>{Ge.result.close(),ge||self.indexedDB.deleteDatabase(ot),ve(!0)},Ge.onupgradeneeded=()=>{ge=!1},Ge.onerror=()=>{var xt;De((null===(xt=Ge.error)||void 0===xt?void 0:xt.message)||"")}}catch(ge){De(ge)}})}function He(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ze extends Error{constructor(De,ge,ot){super(ge),this.code=De,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(De,ge,ot){this.service=De,this.serviceName=ge,this.errors=ot}create(De,...ge){const ot=ge[0]||{},Ge=`${this.service}/${De}`,xt=this.errors[De],yt=xt?function(ve,De){return ve.replace(gn,(ge,ot)=>{const Ge=De[ot];return null!=Ge?String(Ge):`<${ot}?>`})}(xt,ot):"Error";return new Ze(Ge,`${this.serviceName}: ${yt} (${Ge}).`,ot)}}const gn=/\{\$([^}]+)}/g;function Vt(ve,De){return Object.prototype.hasOwnProperty.call(ve,De)}function bt(ve){for(const De in ve)if(Object.prototype.hasOwnProperty.call(ve,De))return!1;return!0}function Yn(ve,De){if(ve===De)return!0;const ge=Object.keys(ve),ot=Object.keys(De);for(const Ge of ge){if(!ot.includes(Ge))return!1;const xt=ve[Ge],yt=De[Ge];if(Nn(xt)&&Nn(yt)){if(!Yn(xt,yt))return!1}else if(xt!==yt)return!1}for(const Ge of ot)if(!ge.includes(Ge))return!1;return!0}function Nn(ve){return null!==ve&&"object"==typeof ve}function Un(ve){const De=[];for(const[ge,ot]of Object.entries(ve))Array.isArray(ot)?ot.forEach(Ge=>{De.push(encodeURIComponent(ge)+"="+encodeURIComponent(Ge))}):De.push(encodeURIComponent(ge)+"="+encodeURIComponent(ot));return De.length?"&"+De.join("&"):""}function Gn(ve){const De={};return ve.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[Ge,xt]=ot.split("=");De[decodeURIComponent(Ge)]=decodeURIComponent(xt)}}),De}function Fn(ve){const De=ve.indexOf("?");if(!De)return"";const ge=ve.indexOf("#",De);return ve.substring(De,ge>0?ge:void 0)}function kt(ve,De){const ge=new Qt(ve,De);return ge.subscribe.bind(ge)}class Qt{constructor(De,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{De(this)}).catch(ot=>{this.error(ot)})}next(De){this.forEachObserver(ge=>{ge.next(De)})}error(De){this.forEachObserver(ge=>{ge.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,ge,ot){let Ge;if(void 0===De&&void 0===ge&&void 0===ot)throw new Error("Missing Observer.");Ge=function(ve,De){if("object"!=typeof ve||null===ve)return!1;for(const ge of["next","error","complete"])if(ge in ve&&"function"==typeof ve[ge])return!0;return!1}(De)?De:{next:De,error:ge,complete:ot},void 0===Ge.next&&(Ge.next=Sn),void 0===Ge.error&&(Ge.error=Sn),void 0===Ge.complete&&(Ge.complete=Sn);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ge.error(this.finalError):Ge.complete()}catch(yt){}}),this.observers.push(Ge),xt}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,De)}sendOne(De,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{ge(this.observers[De])}catch(ot){"undefined"!=typeof console&&console.error&&console.error(ot)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}function li(ve,De=1e3,ge=2){const ot=De*Math.pow(ge,ve),Ge=Math.round(.5*ot*(Math.random()-.5)*2);return Math.min(144e5,ot+Ge)}function zr(ve){return ve&&ve._delegate?ve._delegate:ve}},2329:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{Mq:()=>_.getApp,C6:()=>_.getApps});var _=Z(5452);(0,_.registerVersion)("firebase","9.1.3","app")},7841:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{Z:()=>_.Z});var _=Z(4486);_.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Pt,Ke,Z)=>{"use strict";Z.r(Ke);var _=Z(8239),c=Z(4486),X=Z(3854),se=Z(5452),Te=Z(4762),me=Z(5601),Ue=Z(6034);const Je=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new me.Yd("@firebase/auth");function Ve(y,...h){Me.logLevel<=me.in.ERROR&&Me.error(`Auth (${se.SDK_VERSION}): ${y}`,...h)}function Qe(y,...h){throw Gt(y,...h)}function ye(y,...h){return Gt(y,...h)}function rt(y,h,f){const C=Object.assign(Object.assign({},Be()),{[h]:f});return new X.LL("auth","Firebase",C).create(h,{appName:y.name})}function qt(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Qe(y,"argument-error"),rt(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gt(y,...h){if("string"!=typeof y){const f=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(f,...C)}return be.create(y,...h)}function qe(y,h,...f){if(!y)throw Gt(h,...f)}function je(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Ve(h),new Error(h)}function He(y,h){y||je(h)}const he=new Map;function ke(y){He(y instanceof Function,"Expected a class definition");let h=he.get(y);return h?(He(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,he.set(y,h),h)}function It(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function gn(){return"http:"===Kn()||"https:"===Kn()}function Kn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class $t{constructor(h,f){this.shortDelay=h,this.longDelay=f,He(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gn()||(0,X.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Rt(y,h){He(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Wt{static initialize(h,f,C){this.fetchImpl=h,f&&(this.headersImpl=f),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vt=new $t(3e4,6e4);function pt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function bt(y,h,f,C){return En.apply(this,arguments)}function En(){return(En=(0,_.Z)(function*(y,h,f,C,B={}){return Yn(y,B,()=>{let ee={},Se={};C&&("GET"===h?Se=C:ee={body:JSON.stringify(C)});const tt=(0,X.xO)(Object.assign({key:y.config.apiKey},Se)).slice(1),Mt=new(Wt.headers());return Mt.set("Content-Type","application/json"),Mt.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Mt.set("X-Firebase-Locale",y.languageCode),Wt.fetch()(Fn(y,y.config.apiHost,f,tt),Object.assign({method:h,headers:Mt,referrerPolicy:"no-referrer"},ee))})})).apply(this,arguments)}function Yn(y,h,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.Z)(function*(y,h,f){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},fn),h);try{const B=new fr(y),ee=yield Promise.race([f(),B.promise]);B.clearNetworkTimeout();const Se=yield ee.json();if("needConfirmation"in Se)throw kt(y,"account-exists-with-different-credential",Se);if(ee.ok&&!("errorMessage"in Se))return Se;{const tt=ee.ok?Se.errorMessage:Se.error.message,[Mt,tn]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw kt(y,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Mt)throw kt(y,"email-already-in-use",Se);const Dn=C[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw rt(y,Dn,tn);Qe(y,Dn)}}catch(B){if(B instanceof X.ZR)throw B;Qe(y,"network-request-failed")}})).apply(this,arguments)}function Un(y,h,f,C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,_.Z)(function*(y,h,f,C,B={}){const ee=yield bt(y,h,f,C,B);return"mfaPendingCredential"in ee&&Qe(y,"multi-factor-auth-required",{serverResponse:ee}),ee})).apply(this,arguments)}function Fn(y,h,f,C){const B=`${h}${f}?${C}`;return y.config.emulator?Rt(y.config,B):`${y.config.apiScheme}://${B}`}class fr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,C)=>{this.timer=setTimeout(()=>C(ye(this.auth,"timeout")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kt(y,h,f){const C={appName:y.name};f.email&&(C.email=f.email),f.phoneNumber&&(C.phoneNumber=f.phoneNumber);const B=ye(y,h,C);return B.customData._tokenResponse=f,B}function jn(){return(jn=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function cn(y,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function mn(y,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function st(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function zn(){return(zn=(0,_.Z)(function*(y,h=!1){const f=(0,X.m9)(y),C=yield f.getIdToken(h),B=jt(C);qe(B&&B.exp&&B.auth_time&&B.iat,f.auth,"internal-error");const ee="object"==typeof B.firebase?B.firebase:void 0,Se=null==ee?void 0:ee.sign_in_provider;return{claims:B,token:C,authTime:st(Ln(B.auth_time)),issuedAtTime:st(Ln(B.iat)),expirationTime:st(Ln(B.exp)),signInProvider:Se||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function Ln(y){return 1e3*Number(y)}function jt(y){const[h,f,C]=y.split(".");if(void 0===h||void 0===f||void 0===C)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,X.tV)(f);return B?JSON.parse(B):(Ve("Failed to decode base64 JWT payload"),null)}catch(B){return Ve("Caught error parsing JWT payload as JSON",B),null}}function lr(y,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(C){throw C instanceof X.ZR&&li(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function li({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Qn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const B=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,_.Z)(function*(){yield f.iteration()}),C)}iteration(){var h=this;return(0,_.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&h.schedule(!0))}h.schedule()})()}}class Jt{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=st(this.lastLoginAt),this.creationTime=st(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(y){return ve.apply(this,arguments)}function ve(){return(ve=(0,_.Z)(function*(y){var h;const f=y.auth,C=yield y.getIdToken(),B=yield lr(y,mn(f,{idToken:C}));qe(null==B?void 0:B.users.length,f,"internal-error");const ee=B.users[0];y._notifyReloadListener(ee);const Se=(null===(h=ee.providerUserInfo)||void 0===h?void 0:h.length)?Ge(ee.providerUserInfo):[],tt=ot(y.providerData,Se),Dn=!!y.isAnonymous&&!(y.email&&ee.passwordHash||(null==tt?void 0:tt.length)),An={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:tt,metadata:new Jt(ee.createdAt,ee.lastLoginAt),isAnonymous:Dn};Object.assign(y,An)})).apply(this,arguments)}function ge(){return(ge=(0,_.Z)(function*(y){const h=(0,X.m9)(y);yield zr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ot(y,h){return[...y.filter(C=>!h.some(B=>B.providerId===C.providerId)),...h]}function Ge(y){return y.map(h=>{var{providerId:f}=h,C=(0,Te._T)(h,["providerId"]);return{providerId:f,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function yt(){return(yt=(0,_.Z)(function*(y,h){const f=yield Yn(y,{},()=>{const C=(0,X.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:B,apiKey:ee}=y.config,Se=Fn(y,B,"/v1/token",`key=${ee}`);return Wt.fetch()(Se,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){qe(h.idToken,"internal-error"),qe(void 0!==h.idToken,"internal-error"),qe(void 0!==h.refreshToken,"internal-error");const f="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(y){const h=jt(y);return qe(h,"internal-error"),qe(void 0!==h.exp,"internal-error"),qe(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var C=this;return(0,_.Z)(function*(){return qe(!C.accessToken||C.refreshToken,h,"user-token-expired"),f||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var C=this;return(0,_.Z)(function*(){const{accessToken:B,refreshToken:ee,expiresIn:Se}=yield function(y,h){return yt.apply(this,arguments)}(h,f);C.updateTokensAndExpiration(B,ee,Number(Se))})()}updateTokensAndExpiration(h,f,C){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,f){const{refreshToken:C,accessToken:B,expirationTime:ee}=f,Se=new Bn;return C&&(qe("string"==typeof C,"internal-error",{appName:h}),Se.refreshToken=C),B&&(qe("string"==typeof B,"internal-error",{appName:h}),Se.accessToken=B),ee&&(qe("number"==typeof ee,"internal-error",{appName:h}),Se.expirationTime=ee),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return je("not implemented")}}function Zn(y,h){qe("string"==typeof y||void 0===y,"internal-error",{appName:h})}class Cn{constructor(h){var{uid:f,auth:C,stsTokenManager:B}=h,ee=(0,Te._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=C,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.metadata=new Jt(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,_.Z)(function*(){const C=yield lr(f,f.stsTokenManager.getToken(f.auth,h));return qe(C,f.auth,"internal-error"),f.accessToken!==C&&(f.accessToken=C,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),C})()}getIdTokenResult(h){return function(y){return zn.apply(this,arguments)}(this,h)}reload(){return function(y){return ge.apply(this,arguments)}(this)}_assign(h){this!==h&&(qe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Cn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var C=this;return(0,_.Z)(function*(){let B=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),B=!0),f&&(yield zr(C)),yield C.auth._persistUserIfCurrent(C),B&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,_.Z)(function*(){const f=yield h.getIdToken();return yield lr(h,function(y,h){return jn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var C,B,ee,Se,tt,Mt,tn,Dn;const An=null!==(C=f.displayName)&&void 0!==C?C:void 0,ms=null!==(B=f.email)&&void 0!==B?B:void 0,bo=null!==(ee=f.phoneNumber)&&void 0!==ee?ee:void 0,ct=null!==(Se=f.photoURL)&&void 0!==Se?Se:void 0,yc=null!==(tt=f.tenantId)&&void 0!==tt?tt:void 0,zo=null!==(Mt=f._redirectEventId)&&void 0!==Mt?Mt:void 0,bh=null!==(tn=f.createdAt)&&void 0!==tn?tn:void 0,ju=null!==(Dn=f.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:hu,emailVerified:bd,isAnonymous:fu,providerData:Il,stsTokenManager:Tl}=f;qe(hu&&Tl,h,"internal-error");const Zu=Bn.fromJSON(this.name,Tl);qe("string"==typeof hu,h,"internal-error"),Zn(An,h.name),Zn(ms,h.name),qe("boolean"==typeof bd,h,"internal-error"),qe("boolean"==typeof fu,h,"internal-error"),Zn(bo,h.name),Zn(ct,h.name),Zn(yc,h.name),Zn(zo,h.name),Zn(bh,h.name),Zn(ju,h.name);const yi=new Cn({uid:hu,auth:h,email:ms,emailVerified:bd,displayName:An,isAnonymous:fu,photoURL:ct,phoneNumber:bo,tenantId:yc,stsTokenManager:Zu,createdAt:bh,lastLoginAt:ju});return Il&&Array.isArray(Il)&&(yi.providerData=Il.map(Eh=>Object.assign({},Eh))),zo&&(yi._redirectEventId=zo),yi}static _fromIdTokenResponse(h,f,C=!1){return(0,_.Z)(function*(){const B=new Bn;B.updateFromServerResponse(f);const ee=new Cn({uid:f.localId,auth:h,stsTokenManager:B,isAnonymous:C});return yield zr(ee),ee})()}}const nn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(f,C){var B=this;return(0,_.Z)(function*(){B.storage[f]=C})()}_get(f){var C=this;return(0,_.Z)(function*(){const B=C.storage[f];return void 0===B?null:B})()}_remove(f){var C=this;return(0,_.Z)(function*(){delete C.storage[f]})()}_addListener(f,C){}_removeListener(f,C){}}return y.type="NONE",y})();function xn(y,h,f){return`firebase:${y}:${h}:${f}`}class Or{constructor(h,f,C){this.persistence=h,this.auth=f,this.userKey=C;const{config:B,name:ee}=this.auth;this.fullUserKey=xn(this.userKey,B.apiKey,ee),this.fullPersistenceKey=xn("persistence",B.apiKey,ee),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,_.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Cn._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,_.Z)(function*(){if(f.persistence===h)return;const C=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,C?f.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,C="authUser"){return(0,_.Z)(function*(){if(!f.length)return new Or(ke(nn),h,C);const B=(yield Promise.all(f.map(function(){var tn=(0,_.Z)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ee=B[0]||ke(nn);const Se=xn(C,h.config.apiKey,h.name);let tt=null;for(const tn of f)try{const Dn=yield tn._get(Se);if(Dn){const An=Cn._fromJSON(h,Dn);tn!==ee&&(tt=An),ee=tn;break}}catch(Dn){}const Mt=B.filter(tn=>tn._shouldAllowMigration);return ee._shouldAllowMigration&&Mt.length?(ee=Mt[0],tt&&(yield ee._set(Se,tt.toJSON())),yield Promise.all(f.map(function(){var tn=(0,_.Z)(function*(Dn){if(Dn!==ee)try{yield Dn._remove(Se)}catch(An){}});return function(Dn){return tn.apply(this,arguments)}}())),new Or(ee,h,C)):new Or(ee,h,C)})()}}function ns(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(di(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ln(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ni(h))return"Blackberry";if(mr(h))return"Webos";if(Wi(h))return"Safari";if((h.includes("chrome/")||Si(h))&&!h.includes("edge/"))return"Chrome";if(xi(h))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function ln(y=(0,X.z$)()){return/firefox\//i.test(y)}function Wi(y=(0,X.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Si(y=(0,X.z$)()){return/crios\//i.test(y)}function di(y=(0,X.z$)()){return/iemobile/i.test(y)}function xi(y=(0,X.z$)()){return/android/i.test(y)}function ni(y=(0,X.z$)()){return/blackberry/i.test(y)}function mr(y=(0,X.z$)()){return/webos/i.test(y)}function pr(y=(0,X.z$)()){return/iphone|ipad|ipod/i.test(y)}function vi(y=(0,X.z$)()){return pr(y)||xi(y)||mr(y)||ni(y)||/windows phone/i.test(y)||di(y)}function Nr(y,h=[]){let f;switch(y){case"Browser":f=ns((0,X.z$)());break;case"Worker":f=`${ns((0,X.z$)())}-${y}`;break;default:f=y}const C=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${se.SDK_VERSION}/${C}`}class Bi{constructor(h,f){this.app=h,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Et(this),this.idTokenSubscription=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(h,f){var C=this;return f&&(this._popupRedirectResolver=ke(f)),this._initializationPromise=this.queue((0,_.Z)(function*(){var B;C._deleted||(C.persistenceManager=yield Or.create(C,h),!C._deleted&&((null===(B=C._popupRedirectResolver)||void 0===B?void 0:B._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(f),!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,_.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f)}})()}initializeCurrentUser(h){var f=this;return(0,_.Z)(function*(){var C;let B=yield f.assertedPersistence.getCurrentUser();if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ee=null===(C=f.redirectUser)||void 0===C?void 0:C._redirectEventId,Se=null==B?void 0:B._redirectEventId,tt=yield f.tryRedirectSignIn(h);(!ee||ee===Se)&&(null==tt?void 0:tt.user)&&(B=tt.user)}return B?B._redirectEventId?(qe(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===B._redirectEventId?f.directlySetCurrentUser(B):f.reloadAndSetCurrentUserOrClear(B)):f.reloadAndSetCurrentUserOrClear(B):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var f=this;return(0,_.Z)(function*(){let C=null;try{C=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch(B){yield f._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,_.Z)(function*(){try{yield zr(h)}catch(C){if("auth/network-request-failed"!==C.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,_.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,_.Z)(function*(){const C=h?(0,X.m9)(h):null;return C&&qe(C.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(C&&C._clone(f))})()}_updateCurrentUser(h){var f=this;return(0,_.Z)(function*(){if(!f._deleted)return h&&qe(f.tenantId===h.tenantId,f,"tenant-id-mismatch"),f.queue((0,_.Z)(function*(){yield f.directlySetCurrentUser(h),f.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,_.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var f=this;return this.queue((0,_.Z)(function*(){yield f.assertedPersistence.setPersistence(ke(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new X.LL("auth","Firebase",h())}onAuthStateChanged(h,f,C){return this.registerStateListener(this.authStateSubscription,h,f,C)}onIdTokenChanged(h,f,C){return this.registerStateListener(this.idTokenSubscription,h,f,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var C=this;return(0,_.Z)(function*(){const B=yield C.getOrInitRedirectPersistenceManager(f);return null===h?B.removeCurrentUser():B.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,_.Z)(function*(){if(!f.redirectPersistenceManager){const C=h&&ke(h)||f._popupRedirectResolver;qe(C,f,"argument-error"),f.redirectPersistenceManager=yield Or.create(f,[ke(C._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,_.Z)(function*(){var C,B;return f._isInitialized&&(yield f.queue((0,_.Z)(function*(){}))),(null===(C=f._currentUser)||void 0===C?void 0:C._redirectEventId)===h?f._currentUser:(null===(B=f.redirectUser)||void 0===B?void 0:B._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,_.Z)(function*(){if(h===f.currentUser)return f.queue((0,_.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,C,B){if(this._deleted)return()=>{};const ee="function"==typeof f?f:f.next.bind(f),Se=this._isInitialized?Promise.resolve():this._initializationPromise;return qe(Se,this,"internal-error"),Se.then(()=>ee(this.currentUser)),"function"==typeof f?h.addObserver(f,C,B):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,_.Z)(function*(){f.currentUser&&f.currentUser!==h&&(f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh()),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rn(y){return(0,X.m9)(y)}class Et{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,X.ne)(f=>this.observer=f)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dn(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ri(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Hn{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return je("not implemented")}_getIdTokenResponse(h){return je("not implemented")}_linkToIdToken(h,f){return je("not implemented")}_getReauthenticationResolver(h){return je("not implemented")}}function Jn(y,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:resetPassword",pt(y,h))})).apply(this,arguments)}function rs(y,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function is(y,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:update",pt(y,h))})).apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithPassword",pt(y,h))})).apply(this,arguments)}function Pr(y,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:sendOobCode",pt(y,h))})).apply(this,arguments)}function Wr(y,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,_.Z)(function*(y,h){return Pr(y,h)})).apply(this,arguments)}function Pe(y,h){return $e.apply(this,arguments)}function $e(){return($e=(0,_.Z)(function*(y,h){return Pr(y,h)})).apply(this,arguments)}function Le(y,h){return _t.apply(this,arguments)}function _t(){return(_t=(0,_.Z)(function*(y,h){return Pr(y,h)})).apply(this,arguments)}function At(y,h){return on.apply(this,arguments)}function on(){return(on=(0,_.Z)(function*(y,h){return Pr(y,h)})).apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,h))})).apply(this,arguments)}function kr(){return(kr=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,h))})).apply(this,arguments)}class $r extends Hn{constructor(h,f,C,B=null){super("password",C),this._email=h,this._password=f,this._tenantId=B}static _fromEmailAndPassword(h,f){return new $r(h,f,"password")}static _fromEmailAndCode(h,f,C=null){return new $r(h,f,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,_.Z)(function*(){switch(f.signInMethod){case"password":return function(y,h){return hi.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(y,h){return Tn.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Qe(h,"internal-error")}})()}_linkToIdToken(h,f){var C=this;return(0,_.Z)(function*(){switch(C.signInMethod){case"password":return rs(h,{idToken:f,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,h){return kr.apply(this,arguments)}(h,{idToken:f,email:C._email,oobCode:C._password});default:Qe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function On(y,h){return ii.apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithIdp",pt(y,h))})).apply(this,arguments)}class Ur extends Hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Ur(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Qe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:B}=f,ee=(0,Te._T)(f,["providerId","signInMethod"]);if(!C||!B)return null;const Se=new Ur(C,B);return Se.idToken=ee.idToken||void 0,Se.accessToken=ee.accessToken||void 0,Se.secret=ee.secret,Se.nonce=ee.nonce,Se.pendingToken=ee.pendingToken||null,Se}_getIdTokenResponse(h){return On(h,this.buildRequest())}_linkToIdToken(h,f){const C=this.buildRequest();return C.idToken=f,On(h,C)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,On(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,X.xO)(f)}return h}}function Ir(y,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:sendVerificationCode",pt(y,h))})).apply(this,arguments)}function gr(){return(gr=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,h))})).apply(this,arguments)}function ss(){return(ss=(0,_.Z)(function*(y,h){const f=yield Un(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,h));if(f.temporaryProof)throw kt(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ls={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ls)})).apply(this,arguments)}class Kr extends Hn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Kr({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Kr({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function(y,h){return gr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function(y,h){return ss.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(y,h){return os.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:C,verificationCode:B}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:C,code:B}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:C,phoneNumber:B,temporaryProof:ee}=h;return C||f||B||ee?new Kr({verificationId:f,verificationCode:C,phoneNumber:B,temporaryProof:ee}):null}}class bi{constructor(h){var f,C,B,ee,Se,tt;const Mt=(0,X.zd)((0,X.pd)(h)),tn=null!==(f=Mt.apiKey)&&void 0!==f?f:null,Dn=null!==(C=Mt.oobCode)&&void 0!==C?C:null,An=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Mt.mode)&&void 0!==B?B:null);qe(tn&&Dn&&An,"argument-error"),this.apiKey=tn,this.operation=An,this.code=Dn,this.continueUrl=null!==(ee=Mt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Se=Mt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(tt=Mt.tenantId)&&void 0!==tt?tt:null}static parseLink(h){const f=function(y){const h=(0,X.zd)((0,X.pd)(y)).link,f=h?(0,X.zd)((0,X.pd)(h)).deep_link_id:null,C=(0,X.zd)((0,X.pd)(y)).deep_link_id;return(C?(0,X.zd)((0,X.pd)(C)).link:null)||C||f||h||y}(h);try{return new bi(f)}catch(C){return null}}}let _s=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,C){return $r._fromEmailAndPassword(f,C)}static credentialWithLink(f,C){const B=bi.parseLink(C);return qe(B,"argument-error"),$r._fromEmailAndCode(f,B.code,B.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ei{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Zi extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Hi extends Zi{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return qe("providerId"in f&&"signInMethod"in f,"argument-error"),Ur._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return qe(h.idToken||h.accessToken,"argument-error"),Ur._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Hi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Hi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:C,oauthTokenSecret:B,pendingToken:ee,nonce:Se,providerId:tt}=h;if(!C&&!B&&!f&&!ee||!tt)return null;try{return new Hi(tt)._credential({idToken:f,accessToken:C,nonce:Se,pendingToken:ee})}catch(Mt){return null}}}let Vs=(()=>{class y extends Zi{constructor(){super("facebook.com")}static credential(f){return Ur._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Yi=(()=>{class y extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(f,C){return Ur._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:C,oauthAccessToken:B}=f;if(!C&&!B)return null;try{return y.credential(C,B)}catch(ee){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),vs=(()=>{class y extends Zi{constructor(){super("github.com")}static credential(f){return Ur._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class as extends Hn{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return On(h,this.buildRequest())}_linkToIdToken(h,f){const C=this.buildRequest();return C.idToken=f,On(h,C)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,On(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:B,pendingToken:ee}=f;return C&&B&&ee&&C===B?new as(C,ee):null}static _create(h,f){return new as(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Yr=(()=>{class y extends Zi{constructor(){super("twitter.com")}static credential(f,C){return Ur._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:C})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:C,oauthTokenSecret:B}=f;if(!C||!B)return null;try{return y.credential(C,B)}catch(ee){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function fi(y,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signUp",pt(y,h))})).apply(this,arguments)}class Qr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,C,B=!1){return(0,_.Z)(function*(){const ee=yield Cn._fromIdTokenResponse(h,C,B),Se=Oi(C);return new Qr({user:ee,providerId:Se,_tokenResponse:C,operationType:f})})()}static _forOperation(h,f,C){return(0,_.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const B=Oi(C);return new Qr({user:h,providerId:B,_tokenResponse:C,operationType:f})})()}}function Oi(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function us(){return(us=(0,_.Z)(function*(y){var h;const f=Rn(y);if(yield f._initializationPromise,null===(h=f.currentUser)||void 0===h?void 0:h.isAnonymous)return new Qr({user:f.currentUser,providerId:null,operationType:"signIn"});const C=yield fi(f,{returnSecureToken:!0}),B=yield Qr._fromIdTokenResponse(f,"signIn",C,!0);return yield f._updateCurrentUser(B.user),B})).apply(this,arguments)}class Ni extends X.ZR{constructor(h,f,C,B){var ee;super(f.code,f.message),this.operationType=C,this.user=B,this.name="FirebaseError",Object.setPrototypeOf(this,Ni.prototype),this.appName=h.name,this.code=f.code,this.tenantId=null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,this.serverResponse=f.customData.serverResponse}static _fromErrorAndOperation(h,f,C,B){return new Ni(h,f,C,B)}}function cs(y,h,f,C){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Ni._fromErrorAndOperation(y,ee,h,C):ee})}function ls(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Ri(){return(Ri=(0,_.Z)(function*(y,h){const f=(0,X.m9)(y);yield L(!0,f,h);const{providerUserInfo:C}=yield cn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),B=ls(C||[]);return f.providerData=f.providerData.filter(ee=>B.has(ee.providerId)),B.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function F(y,h){return z.apply(this,arguments)}function z(){return(z=(0,_.Z)(function*(y,h,f=!1){const C=yield lr(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return Qr._forOperation(y,"link",C)})).apply(this,arguments)}function L(y,h,f){return J.apply(this,arguments)}function J(){return(J=(0,_.Z)(function*(y,h,f){yield zr(h);const B=!1===y?"provider-already-linked":"no-such-provider";qe(ls(h.providerData).has(f)===y,h.auth,B)})).apply(this,arguments)}function we(y,h){return ze.apply(this,arguments)}function ze(){return(ze=(0,_.Z)(function*(y,h,f=!1){const{auth:C}=y,B="reauthenticate";try{const ee=yield lr(y,cs(C,B,h,y),f);qe(ee.idToken,C,"internal-error");const Se=jt(ee.idToken);qe(Se,C,"internal-error");const{sub:tt}=Se;return qe(y.uid===tt,C,"user-mismatch"),Qr._forOperation(y,B,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&Qe(C,"user-mismatch"),ee}})).apply(this,arguments)}function ht(y,h){return N.apply(this,arguments)}function N(){return(N=(0,_.Z)(function*(y,h,f=!1){const C="signIn",B=yield cs(y,C,h),ee=yield Qr._fromIdTokenResponse(y,C,B);return f||(yield y._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function M(y,h){return T.apply(this,arguments)}function T(){return(T=(0,_.Z)(function*(y,h){return ht(Rn(y),h)})).apply(this,arguments)}function G(y,h){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,_.Z)(function*(y,h){const f=(0,X.m9)(y);return yield L(!1,f,h.providerId),F(f,h)})).apply(this,arguments)}function wt(y,h){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,_.Z)(function*(y,h){return we((0,X.m9)(y),h)})).apply(this,arguments)}function cr(y,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,_.Z)(function*(y,h){return Un(y,"POST","/v1/accounts:signInWithCustomToken",pt(y,h))})).apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(y,h){const f=Rn(y),C=yield cr(f,{token:h,returnSecureToken:!0}),B=yield Qr._fromIdTokenResponse(f,"signIn",C);return yield f._updateCurrentUser(B.user),B})).apply(this,arguments)}class pi{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Pi._fromServerResponse(h,f):Qe(h,"internal-error")}}class Pi extends pi{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Pi(f)}}function Ji(y,h,f){var C;qe((null===(C=f.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),qe(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(qe(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(qe(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Js(){return(Js=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y),B={requestType:"PASSWORD_RESET",email:h};f&&Ji(C,B,f),yield Pe(C,B)})).apply(this,arguments)}function rn(){return(rn=(0,_.Z)(function*(y,h,f){yield Jn((0,X.m9)(y),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Uo(){return(Uo=(0,_.Z)(function*(y,h){yield is((0,X.m9)(y),{oobCode:h})})).apply(this,arguments)}function Qo(y,h){return co.apply(this,arguments)}function co(){return(co=(0,_.Z)(function*(y,h){const f=(0,X.m9)(y),C=yield Jn(f,{oobCode:h}),B=C.requestType;switch(qe(B,f,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(C.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(C.mfaInfo,f,"internal-error");default:qe(C.email,f,"internal-error")}let ee=null;return C.mfaInfo&&(ee=pi._fromServerResponse(Rn(f),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:B}})).apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(y,h){const{data:f}=yield Qo((0,X.m9)(y),h);return f.email})).apply(this,arguments)}function dt(){return(dt=(0,_.Z)(function*(y,h,f){const C=Rn(y),B=yield fi(C,{returnSecureToken:!0,email:h,password:f}),ee=yield Qr._fromIdTokenResponse(C,"signIn",B);return yield C._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function Lr(){return(Lr=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y),B={requestType:"EMAIL_SIGNIN",email:h};qe(f.handleCodeInApp,C,"argument-error"),f&&Ji(C,B,f),yield Le(C,B)})).apply(this,arguments)}function ds(){return(ds=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y),B=_s.credentialWithLink(h,f||It());return qe(B._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),M(C,B)})).apply(this,arguments)}function ws(y,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:createAuthUri",pt(y,h))})).apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(y,h){const C={identifier:h,continueUri:gn()?It():"http://localhost"},{signinMethods:B}=yield ws((0,X.m9)(y),C);return B||[]})).apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*(y,h){const f=(0,X.m9)(y),B={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Ji(f.auth,B,h);const{email:ee}=yield Wr(f.auth,B);ee!==y.email&&(yield y.reload())})).apply(this,arguments)}function Gr(){return(Gr=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&Ji(C.auth,ee,f);const{email:Se}=yield At(C.auth,ee);Se!==y.email&&(yield y.reload())})).apply(this,arguments)}function Jo(y,h){return ar.apply(this,arguments)}function ar(){return(ar=(0,_.Z)(function*(y,h){return bt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const C=(0,X.m9)(y),ee={idToken:yield C.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},Se=yield lr(C,Jo(C.auth,ee));C.displayName=Se.displayName||null,C.photoURL=Se.photoUrl||null;const tt=C.providerData.find(({providerId:Mt})=>"password"===Mt);tt&&(tt.displayName=C.displayName,tt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Se)})).apply(this,arguments)}function ca(y,h,f){return po.apply(this,arguments)}function po(){return(po=(0,_.Z)(function*(y,h,f){const{auth:C}=y,ee={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ee.email=h),f&&(ee.password=f);const Se=yield lr(y,rs(C,ee));yield y._updateTokensIfNecessary(Se,!0)})).apply(this,arguments)}class xo{constructor(h,f,C={}){this.isNewUser=h,this.providerId=f,this.profile=C}}class no extends xo{constructor(h,f,C,B){super(h,f,C),this.username=B}}class la extends xo{constructor(h,f){super(h,"facebook.com",f)}}class hs extends no{constructor(h,f){super(h,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class go extends xo{constructor(h,f){super(h,"google.com",f)}}class k extends no{constructor(h,f,C){super(h,"twitter.com",f,C)}}function K(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(y){var h,f;if(!y)return null;const{providerId:C}=y,B=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ee=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const Se=null===(f=null===(h=jt(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(Se)return new xo(ee,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!C)return null;switch(C){case"facebook.com":return new la(ee,B);case"github.com":return new hs(ee,B);case"google.com":return new go(ee,B);case"twitter.com":return new k(ee,B,y.screenName||null);case"custom":case"anonymous":return new xo(ee,null);default:return new xo(ee,C,B)}}(f)}class bs{constructor(h,f){this.type=h,this.credential=f}static _fromIdtoken(h){return new bs("enroll",h)}static _fromMfaPendingCredential(h){return new bs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,C;if(null==h?void 0:h.multiFactorSession){if(null===(f=h.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return bs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(C=h.multiFactorSession)||void 0===C?void 0:C.idToken)return bs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class js{constructor(h,f,C){this.session=h,this.hints=f,this.signInResolver=C}static _fromError(h,f){const C=Rn(h),B=(f.serverResponse.mfaInfo||[]).map(Se=>pi._fromServerResponse(C,Se));qe(f.serverResponse.mfaPendingCredential,C,"internal-error");const ee=bs._fromMfaPendingCredential(f.serverResponse.mfaPendingCredential);return new js(ee,B,function(){var Se=(0,_.Z)(function*(tt){const Mt=yield tt._process(C,ee);delete f.serverResponse.mfaInfo,delete f.serverResponse.mfaPendingCredential;const tn=Object.assign(Object.assign({},f.serverResponse),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(f.operationType){case"signIn":const Dn=yield Qr._fromIdTokenResponse(C,f.operationType,tn);return yield C._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return qe(f.user,C,"internal-error"),Qr._forOperation(f.user,f.operationType,tn);default:Qe(C,"internal-error")}});return function(tt){return Se.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,_.Z)(function*(){return f.signInResolver(h)})()}}function mo(y,h){return bt(y,"POST","/v2/accounts/mfaEnrollment:start",pt(y,h))}class yo{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(C=>pi._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new yo(h)}getSession(){var h=this;return(0,_.Z)(function*(){return bs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,f){var C=this;return(0,_.Z)(function*(){const B=h,ee=yield C.getSession(),Se=yield lr(C.user,B._process(C.user.auth,ee,f));return yield C.user._updateTokensIfNecessary(Se),C.user.reload()})()}unenroll(h){var f=this;return(0,_.Z)(function*(){const C="string"==typeof h?h:h.uid,B=yield f.user.getIdToken(),ee=yield lr(f.user,function(y,h){return bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(y,h))}(f.user.auth,{idToken:B,mfaEnrollmentId:C}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Se})=>Se!==C),yield f.user._updateTokensIfNecessary(ee);try{yield f.user.reload()}catch(Se){if("auth/user-token-expired"!==Se.code)throw Se}})()}}const Zs=new WeakMap,fs="__sak";class _r{constructor(h,f){this.storage=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(fs,"1"),this.storage.removeItem(fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}}const ut=(()=>{class y extends _r{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(f,C)=>this.onStorageEvent(f,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,X.z$)();return Wi(y)||pr(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const C of Object.keys(this.listeners)){const B=this.storage.getItem(C),ee=this.localCache[C];B!==ee&&f(C,ee,B)}}onStorageEvent(f,C=!1){if(!f.key)return void this.forAllChangedKeys((tt,Mt,tn)=>{this.notifyListeners(tt,tn)});const B=f.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(B);if(f.newValue!==tt)null!==f.newValue?this.storage.setItem(B,f.newValue):this.storage.removeItem(B);else if(this.localCache[B]===f.newValue&&!C)return}const ee=()=>{const tt=this.storage.getItem(B);!C&&this.localCache[B]===tt||this.notifyListeners(B,tt)},Se=this.storage.getItem(B);(0,X.w1)()&&10===document.documentMode&&Se!==f.newValue&&f.newValue!==f.oldValue?setTimeout(ee,10):ee()}notifyListeners(f,C){this.localCache[f]=C;const B=this.listeners[f];if(B)for(const ee of Array.from(B))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,C,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:C,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,C){var B=()=>super._set,ee=this;return(0,_.Z)(function*(){yield B().call(ee,f,C),ee.localCache[f]=JSON.stringify(C)})()}_get(f){var C=()=>super._get,B=this;return(0,_.Z)(function*(){const ee=yield C().call(B,f);return B.localCache[f]=JSON.stringify(ee),ee})()}_remove(f){var C=()=>super._remove,B=this;return(0,_.Z)(function*(){yield C().call(B,f),delete B.localCache[f]})()}}return y.type="LOCAL",y})(),hr=(()=>{class y extends _r{constructor(){super(window.sessionStorage,"SESSION")}_addListener(f,C){}_removeListener(f,C){}}return y.type="SESSION",y})();let si=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const C=this.receivers.find(ee=>ee.isListeningto(f));if(C)return C;const B=new y(f);return this.receivers.push(B),B}isListeningto(f){return this.eventTarget===f}handleEvent(f){var C=this;return(0,_.Z)(function*(){const B=f,{eventId:ee,eventType:Se,data:tt}=B.data,Mt=C.handlersMap[Se];if(!(null==Mt?void 0:Mt.size))return;B.ports[0].postMessage({status:"ack",eventId:ee,eventType:Se});const tn=Array.from(Mt).map(function(){var An=(0,_.Z)(function*(ms){return ms(B.origin,tt)});return function(ms){return An.apply(this,arguments)}}()),Dn=yield function(y){return Promise.all(y.map(function(){var h=(0,_.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(C){return{fulfilled:!1,reason:C}}});return function(f){return h.apply(this,arguments)}}()))}(tn);B.ports[0].postMessage({status:"done",eventId:ee,eventType:Se,response:Dn})})()}_subscribe(f,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(C)}_unsubscribe(f,C){this.handlersMap[f]&&C&&this.handlersMap[f].delete(C),(!C||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Hs(y="",h=10){let f="";for(let C=0;C<h;C++)f+=Math.floor(10*Math.random());return y+f}class au{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,C=50){var B=this;return(0,_.Z)(function*(){const ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Se,tt;return new Promise((Mt,tn)=>{const Dn=Hs("",20);ee.port1.start();const An=setTimeout(()=>{tn(new Error("unsupported_event"))},C);tt={messageChannel:ee,onMessage(ms){const bo=ms;if(bo.data.eventId===Dn)switch(bo.data.status){case"ack":clearTimeout(An),Se=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Mt(bo.data.response);break;default:clearTimeout(An),clearTimeout(Se),tn(new Error("invalid_response"))}}},B.handlers.add(tt),ee.port1.addEventListener("message",tt.onMessage),B.target.postMessage({eventType:h,eventId:Dn,data:f},[ee.port2])}).finally(()=>{tt&&B.removeMessageHandler(tt)})})()}}function Zr(){return window}function ha(){return void 0!==Zr().WorkerGlobalScope&&"function"==typeof Zr().importScripts}function _o(){return(_o=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Du="firebaseLocalStorageDb",vo="firebaseLocalStorage",Ms="fbase_key";class Oa{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function fa(y,h){return y.transaction([vo],h?"readwrite":"readonly").objectStore(vo)}function br(){const y=indexedDB.open(Du,1);return new Promise((h,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(vo,{keyPath:Ms})}catch(B){f(B)}}),y.addEventListener("success",(0,_.Z)(function*(){const C=y.result;C.objectStoreNames.contains(vo)?h(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(Du);return new Oa(y).toPromise()}(),h(yield br()))}))})}function pa(y,h,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,_.Z)(function*(y,h,f){const C=fa(y,!0).put({[Ms]:h,value:f});return new Oa(C).toPromise()})).apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(y,h){const f=fa(y,!1).get(h),C=yield new Oa(f).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Na(y,h){const f=fa(y,!0).delete(h);return new Oa(f).toPromise()}const D=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,_.Z)(function*(){return f.db||(f.db=yield br()),f.db})()}_withRetries(f){var C=this;return(0,_.Z)(function*(){let B=0;for(;;)try{const ee=yield C._openDb();return yield f(ee)}catch(ee){if(B++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,_.Z)(function*(){return ha()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,_.Z)(function*(){f.receiver=si._getInstance(ha()?self:null),f.receiver._subscribe("keyChanged",function(){var C=(0,_.Z)(function*(B,ee){return{keyProcessed:(yield f._poll()).includes(ee.key)}});return function(B,ee){return C.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var C=(0,_.Z)(function*(B,ee){return["keyChanged"]});return function(B,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,_.Z)(function*(){var C,B;if(f.activeServiceWorker=yield function(){return _o.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new au(f.activeServiceWorker);const ee=yield f.sender._send("ping",{},800);!ee||(null===(C=ee[0])||void 0===C?void 0:C.fulfilled)&&(null===(B=ee[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var C=this;return(0,_.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:f},C.serviceWorkerReceiverAvailable?800:50)}catch(B){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const f=yield br();return yield pa(f,fs,"1"),yield Na(f,fs),!0}catch(f){}return!1})()}_withPendingWrite(f){var C=this;return(0,_.Z)(function*(){C.pendingWrites++;try{yield f()}finally{C.pendingWrites--}})()}_set(f,C){var B=this;return(0,_.Z)(function*(){return B._withPendingWrite((0,_.Z)(function*(){return yield B._withRetries(ee=>pa(ee,f,C)),B.localCache[f]=C,B.notifyServiceWorker(f)}))})()}_get(f){var C=this;return(0,_.Z)(function*(){const B=yield C._withRetries(ee=>function(y,h){return wn.apply(this,arguments)}(ee,f));return C.localCache[f]=B,B})()}_remove(f){var C=this;return(0,_.Z)(function*(){return C._withPendingWrite((0,_.Z)(function*(){return yield C._withRetries(B=>Na(B,f)),delete C.localCache[f],C.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,_.Z)(function*(){const C=yield f._withRetries(Se=>{const tt=fa(Se,!1).getAll();return new Oa(tt).toPromise()});if(!C)return[];if(0!==f.pendingWrites)return[];const B=[],ee=new Set;for(const{fbase_key:Se,value:tt}of C)ee.add(Se),JSON.stringify(f.localCache[Se])!==JSON.stringify(tt)&&(f.notifyListeners(Se,tt),B.push(Se));for(const Se of Object.keys(f.localCache))f.localCache[Se]&&!ee.has(Se)&&(f.notifyListeners(Se,null),B.push(Se));return B})()}notifyListeners(f,C){this.localCache[f]=C;const B=this.listeners[f];if(B)for(const ee of Array.from(B))ee(C)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(C)}_removeListener(f,C){this.listeners[f]&&(this.listeners[f].delete(C),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function w(y,h){return bt(y,"POST","/v2/accounts/mfaSignIn:start",pt(y,h))}function U(){return(U=(0,_.Z)(function*(y){return(yield bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ce(y){return new Promise((h,f)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=h,C.onerror=B=>{const ee=ye("internal-error");ee.customData=B,f(ee)},C.type="text/javascript",C.charset="UTF-8",function(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(C)})}function Ee(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Lt=1e12;class un{constructor(h){this.auth=h,this.counter=Lt,this._widgets=new Map}render(h,f){const C=this.counter;return this._widgets.set(C,new Ar(h,this.auth.name,f||{})),this.counter++,C}reset(h){var f;const C=h||Lt;null===(f=this._widgets.get(C))||void 0===f||f.delete(),this._widgets.delete(C)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Lt))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,_.Z)(function*(){var C;return null===(C=f._widgets.get(h||Lt))||void 0===C||C.execute(),""})()}}class Ar{constructor(h,f,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof h?document.getElementById(h):h;qe(B,"argument-error",{appName:f}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}();const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hn=Ee("rcb"),Xi=new $t(3e4,6e4);class Zo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zr().grecaptcha}load(h,f=""){return qe((y=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),h,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Zr().grecaptcha):new Promise((C,B)=>{const ee=Zr().setTimeout(()=>{B(ye(h,"network-request-failed"))},Xi.get());Zr()[hn]=()=>{Zr().clearTimeout(ee),delete Zr()[hn];const tt=Zr().grecaptcha;if(!tt)return void B(ye(h,"internal-error"));const Mt=tt.render;tt.render=(tn,Dn)=>{const An=Mt(tn,Dn);return this.counter++,An},this.hostLanguage=f,C(tt)},ce(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:hn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ee),B(ye(h,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Zr().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vn{load(h){return(0,_.Z)(function*(){return new un(h)})()}clearedOneInstance(){}}const Au="recaptcha",Es={theme:"light",type:"image"};class Ga{constructor(h,f=Object.assign({},Es),C){this.parameters=f,this.type=Au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(C),this.isInvisible="invisible"===this.parameters.size,qe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof h?document.getElementById(h):h;qe(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vn:new Zo,this.validateStartingState()}verify(){var h=this;return(0,_.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(f)||new Promise(ee=>{const Se=tt=>{!tt||(h.tokenChangeListeners.delete(Se),ee(tt))};h.tokenChangeListeners.add(Se),h.isInvisible&&C.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(C=>C(f)),"function"==typeof h)h(f);else if("string"==typeof h){const C=Zr()[h];"function"==typeof C&&C(f)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,_.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const C=document.createElement("div");f.appendChild(C),f=C}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,_.Z)(function*(){qe(gn()&&!ha(),h.auth,"internal-error"),yield function(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function(y){return U.apply(this,arguments)}(h.auth);qe(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qi{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Kr._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function ta(){return(ta=(0,_.Z)(function*(y,h,f){const C=Rn(y),B=yield ga(C,h,(0,X.m9)(f));return new qi(B,ee=>M(C,ee))})).apply(this,arguments)}function za(){return(za=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y);yield L(!1,C,"phone");const B=yield ga(C.auth,h,(0,X.m9)(f));return new qi(B,ee=>G(C,ee))})).apply(this,arguments)}function ac(){return(ac=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y),B=yield ga(C.auth,h,(0,X.m9)(f));return new qi(B,ee=>wt(C,ee))})).apply(this,arguments)}function ga(y,h,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,_.Z)(function*(y,h,f){var C;const B=yield f.verify();try{let ee;if(qe("string"==typeof B,y,"argument-error"),qe(f.type===Au,y,"argument-error"),ee="string"==typeof h?{phoneNumber:h}:h,"session"in ee){const Se=ee.session;if("phoneNumber"in ee)return qe("enroll"===Se.type,y,"internal-error"),(yield mo(y,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{qe("signin"===Se.type,y,"internal-error");const tt=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return qe(tt,y,"missing-multi-factor-info"),(yield w(y,{mfaPendingCredential:Se.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield Ir(y,{phoneNumber:ee.phoneNumber,recaptchaToken:B});return Se}}finally{f._reset()}})).apply(this,arguments)}function uc(){return(uc=(0,_.Z)(function*(y,h){yield F((0,X.m9)(y),h)})).apply(this,arguments)}let Xt=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=Rn(f)}verifyPhoneNumber(f,C){return ga(this.auth,f,(0,X.m9)(C))}static credential(f,C){return Kr._fromVerification(f,C)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:C,temporaryProof:B}=f;return C&&B?Kr._fromTokenResponse(C,B):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ro(y,h){return h?ke(h):(qe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class qs extends Hn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return On(h,this._buildIdpRequest())}_linkToIdToken(h,f){return On(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return On(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Rc(y){return ht(y.auth,new qs(y),y.bypassAuthState)}function gi(y){const{auth:h,user:f}=y;return qe(f,h,"internal-error"),we(f,new qs(y),y.bypassAuthState)}function xu(y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,_.Z)(function*(y){const{auth:h,user:f}=y;return qe(f,h,"internal-error"),F(f,new qs(y),y.bypassAuthState)})).apply(this,arguments)}class Pa{constructor(h,f,C,B,ee=!1){this.auth=h,this.resolver=C,this.user=B,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,_.Z)(function*(C,B){h.pendingPromise={resolve:C,reject:B};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(C,B){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,_.Z)(function*(){const{urlResponse:C,sessionId:B,postBody:ee,tenantId:Se,error:tt,type:Mt}=h;if(tt)return void f.reject(tt);const tn={auth:f.auth,requestUri:C,sessionId:B,tenantId:Se||void 0,postBody:ee||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Mt)(tn))}catch(Dn){f.reject(Dn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return xu;case"reauthViaPopup":case"reauthViaRedirect":return gi;default:Qe(this.auth,"internal-error")}}resolve(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mu=new $t(2e3,1e4);function so(){return(so=(0,_.Z)(function*(y,h,f){const C=Rn(y);qt(y,h,Ei);const B=ro(C,f);return new Is(C,"signInViaPopup",h,B).executeNotNull()})).apply(this,arguments)}function na(){return(na=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y);qt(C.auth,h,Ei);const B=ro(C.auth,f);return new Is(C.auth,"reauthViaPopup",h,B,C).executeNotNull()})).apply(this,arguments)}function ka(){return(ka=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y);qt(C.auth,h,Ei);const B=ro(C.auth,f);return new Is(C.auth,"linkViaPopup",h,B,C).executeNotNull()})).apply(this,arguments)}let Is=(()=>{class y extends Pa{constructor(f,C,B,ee,Se){super(f,C,ee,Se),this.provider=B,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,_.Z)(function*(){const C=yield f.execute();return qe(C,f.auth,"internal-error"),C})()}onExecution(){var f=this;return(0,_.Z)(function*(){He(1===f.filter.length,"Popup operations only handle one event");const C=Hs();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],C),f.authWindow.associatedEvent=C,f.resolver._originValidation(f.auth).catch(B=>{f.reject(B)}),f.resolver._isIframeWebStorageSupported(f.auth,B=>{B||f.reject(ye(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var C,B;this.pollId=(null===(B=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===B?void 0:B.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Mu.get())};f()}}return y.currentPopupAction=null,y})();const ti=new Map;class lh extends Pa{constructor(h,f,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,_.Z)(function*(){let C=ti.get(f.auth._key());if(!C){try{const ee=(yield function(y,h){return x.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;C=()=>Promise.resolve(ee)}catch(B){C=()=>Promise.reject(B)}ti.set(f.auth._key(),C)}return C()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,C=this;return(0,_.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(C,h);if("unknown"!==h.type){if(h.eventId){const B=yield C.auth._redirectUserForId(h.eventId);if(B)return C.user=B,f().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function x(){return(x=(0,_.Z)(function*(y,h){const f=nt(h),C="true"===(yield Oe(y)._get(f));return yield Oe(y)._remove(f),C})).apply(this,arguments)}function V(y,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,_.Z)(function*(y,h){return Oe(y)._set(nt(h),"true")})).apply(this,arguments)}function Oe(y){return ke(y._redirectPersistence)}function nt(y){return xn("pendingRedirect",y.config.apiKey,y.name)}function Kt(){return(Kt=(0,_.Z)(function*(y,h,f){const C=Rn(y);qt(y,h,Ei);const B=ro(C,f);return yield V(B,C),B._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y);qt(C.auth,h,Ei);const B=ro(C.auth,f);yield V(B,C.auth);const ee=yield cc(C);return B._openRedirect(C.auth,h,"reauthViaRedirect",ee)})).apply(this,arguments)}function oo(){return(oo=(0,_.Z)(function*(y,h,f){const C=(0,X.m9)(y);qt(C.auth,h,Ei);const B=ro(C.auth,f);yield L(!1,C,h.providerId),yield V(B,C.auth);const ee=yield cc(C);return B._openRedirect(C.auth,h,"linkViaRedirect",ee)})).apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(y,h){return yield Rn(y)._initializationPromise,ra(y,h,!1)})).apply(this,arguments)}function ra(y,h){return ya.apply(this,arguments)}function ya(){return(ya=(0,_.Z)(function*(y,h,f=!1){const C=Rn(y),B=ro(C,h),Se=yield new lh(C,B,f).execute();return Se&&!f&&(delete Se.user._redirectEventId,yield C._persistUserIfCurrent(Se.user),yield C._setRedirectUser(null,h)),Se})).apply(this,arguments)}function cc(y){return $o.apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(y){const h=Hs(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Wa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(f=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return La(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var C;if(h.error&&!La(h)){const B=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";f.onError(ye(this.auth,B))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const C=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ka(h))}saveEventToCache(h){this.cachedEventUids.add(Ka(h)),this.lastProcessedEventTime=Date.now()}}function Ka(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function La({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Li(y){return lc.apply(this,arguments)}function lc(){return(lc=(0,_.Z)(function*(y,h={}){return bt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const kc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ns=/^https?/;function Ou(){return(Ou=(0,_.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Li(y);for(const f of h)try{if(nd(f))return}catch(C){}Qe(y,"unauthorized-domain")})).apply(this,arguments)}function nd(y){const h=It(),{protocol:f,hostname:C}=new URL(h);if(y.startsWith("chrome-extension://")){const Se=new URL(y);return""===Se.hostname&&""===C?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Se.hostname===C}if(!Ns.test(f))return!1;if(kc.test(y))return C===y;const B=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(C)}const ll=new $t(3e4,6e4);function Fc(){const y=Zr().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let ia=null;function Lc(y){return ia=ia||function(y){return new Promise((h,f)=>{var C,B,ee;function Se(){Fc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Fc(),f(ye(y,"network-request-failed"))},timeout:ll.get()})}if(null===(B=null===(C=Zr().gapi)||void 0===C?void 0:C.iframes)||void 0===B?void 0:B.Iframe)h(gapi.iframes.getContext());else{if(!(null===(ee=Zr().gapi)||void 0===ee?void 0:ee.load)){const tt=Ee("iframefcb");return Zr()[tt]=()=>{gapi.load?Se():f(ye(y,"network-request-failed"))},ce(`https://apis.google.com/js/api.js?onload=${tt}`)}Se()}}).catch(h=>{throw ia=null,h})}(y),ia}const Ya=new $t(5e3,15e3),rd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function id(y){const h=y.config;qe(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?Rt(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:y.name,v:se.SDK_VERSION},B=dl.get(y.config.apiHost);B&&(C.eid=B);const ee=y._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${f}?${(0,X.xO)(C).slice(1)}`}function Qa(){return(Qa=(0,_.Z)(function*(y){const h=yield Lc(y),f=Zr().gapi;return qe(f,y,"internal-error"),h.open({where:document.body,url:id(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rd,dontclear:!0},C=>new Promise(function(){var B=(0,_.Z)(function*(ee,Se){yield C.restyle({setHideOnLeave:!1});const tt=ye(y,"network-request-failed"),Mt=Zr().setTimeout(()=>{Se(tt)},Ya.get());function tn(){Zr().clearTimeout(Mt),ee(C)}C.ping(tn).then(tn,()=>{Se(tt)})});return function(ee,Se){return B.apply(this,arguments)}}()))})).apply(this,arguments)}const Ru={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class od{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Ja(y,h,f,C,B,ee){qe(y.config.authDomain,y,"auth-domain-config-required"),qe(y.config.apiKey,y,"invalid-api-key");const Se={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:C,v:se.SDK_VERSION,eventId:B};if(h instanceof Ei){h.setDefaultLanguage(y.languageCode),Se.providerId=h.providerId||"",(0,X.xb)(h.getCustomParameters())||(Se.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Mt,tn]of Object.entries(ee||{}))Se[Mt]=tn}if(h instanceof Zi){const Mt=h.getScopes().filter(tn=>""!==tn);Mt.length>0&&(Se.scopes=Mt.join(","))}y.tenantId&&(Se.tid=y.tenantId);const tt=Se;for(const Mt of Object.keys(tt))void 0===tt[Mt]&&delete tt[Mt];return`${function({config:y}){return y.emulator?Rt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,X.xO)(tt).slice(1)}`}const uu="webStorageSupport";class Pu extends class{constructor(h){this.factorId=h}_process(h,f,C){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,C);case"signin":return this._finalizeSignIn(h,f.credential);default:return je("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Pu(h)}_finalizeEnroll(h,f,C){return function(y,h){return bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",pt(y,h))}(h,{idToken:f,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function(y,h){return bt(y,"POST","/v2/accounts/mfaSignIn:finalize",pt(y,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ku=(()=>{class y{constructor(){}static assertion(f){return Pu._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var y,Va="@firebase/auth";class ud{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,_.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(C=>{var B;h((null===(B=C)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);!f||(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fu(){return window}function sa(){return(sa=(0,_.Z)(function*(y,h,f){var C;const{BuildInfo:B}=Fu();He(h.sessionId,"AuthEvent did not contain a session ID");const ee=yield Hf(h.sessionId),Se={};return pr()?Se.ibi=B.packageName:xi()?Se.apn=B.packageName:Qe(y,"operation-not-supported-in-this-environment"),B.displayName&&(Se.appDisplayName=B.displayName),Se.sessionId=ee,Ja(y,f,h.type,void 0,null!==(C=h.eventId)&&void 0!==C?C:void 0,Se)})).apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(y){const{BuildInfo:h}=Fu(),f={};pr()?f.iosBundleId=h.packageName:xi()?f.androidPackageName=h.packageName:Qe(y,"operation-not-supported-in-this-environment"),yield Li(y,f)})).apply(this,arguments)}function Di(){return(Di=(0,_.Z)(function*(y,h,f){const{cordova:C}=Fu();let B=()=>{};try{yield new Promise((ee,Se)=>{let tt=null;function Mt(){var An;ee();const ms=null===(An=C.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof ms&&ms(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function tn(){tt||(tt=window.setTimeout(()=>{Se(ye(y,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}h.addPassiveListener(Mt),document.addEventListener("resume",tn,!1),xi()&&document.addEventListener("visibilitychange",Dn,!1),B=()=>{h.removePassiveListener(Mt),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",Dn,!1),tt&&window.clearTimeout(tt)}})}finally{B()}})).apply(this,arguments)}function Hf(y){return wo.apply(this,arguments)}function wo(){return(wo=(0,_.Z)(function*(y){const h=$f(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $f(y){if(He(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let C=0;C<y.length;C++)f[C]=y.charCodeAt(C);return f}y="Browser",(0,se._registerComponent)(new Ue.wA("auth",(h,{options:f})=>{const C=h.getProvider("app").getImmediate(),{apiKey:B,authDomain:ee}=C.options;return(Se=>{qe(B&&!B.includes(":"),"invalid-api-key",{appName:Se.name}),qe(!(null==ee?void 0:ee.includes(":")),"argument-error",{appName:Se.name});const tt={apiKey:B,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nr(y)},Mt=new Bi(Se,tt);return function(y,h){const f=(null==h?void 0:h.persistence)||[],C=(Array.isArray(f)?f:[f]).map(ke);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(C,null==h?void 0:h.popupRedirectResolver)}(Mt,f),Mt})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,C)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new Ue.wA("auth-internal",h=>{const f=Rn(h.getProvider("auth").getImmediate());return new ud(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Va,"0.18.3",void 0),(0,se.registerVersion)(Va,"0.18.3","esm2017");class qf extends Wa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,_.Z)(function*(){yield h.initPromise})()}}function Vr(y){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,_.Z)(function*(y){const h=yield va()._get(Uu(y));return h&&(yield va()._remove(Uu(y))),h})).apply(this,arguments)}function Oo(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const C=Math.floor(Math.random()*h.length);y.push(h.charAt(C))}return y.join("")}function va(){return ke(ut)}function Uu(y){return xn("authEvent",y.config.apiKey,y.name)}function gl(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...f]=y.split("?");return(0,X.zd)(f.join("?"))}function yl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function vl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function wl(y=(0,X.z$)()){return!("file:"!==vl()&&"ionic:"!==vl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zc(){try{const y=self.localStorage,h=Hs();if(y)return y.setItem(h,"1"),y.removeItem(h),!function(y=(0,X.z$)()){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,X.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,X.hl)()}catch(y){return Bu()&&(0,X.hl)()}return!1}function Bu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function mi(){return("http:"===vl()||"https:"===vl()||(0,X.ru)()||wl())&&!((0,X.b$)()||(0,X.UG)())&&Zc()&&!Bu()}function pd(){return wl()&&"undefined"!=typeof document}function Hc(){return(Hc=(0,_.Z)(function*(){return!!pd()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const No={LOCAL:"local",NONE:"none",SESSION:"session"},lu=qe,gd="persistence";function El(y){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,_.Z)(function*(y){yield y._initializationPromise;const h=Kf(),f=xn(gd,y.config.apiKey,y.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(f,y._getPersistence())})).apply(this,arguments)}function Kf(){return"undefined"!=typeof window?window:null}const gc=qe;class Vi{constructor(){this.browserResolver=ke(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hr,this._completeRedirectFn=ra}_openPopup(h,f,C,B){var ee=this;return(0,_.Z)(function*(){var Se;He(null===(Se=ee.eventManagers[h._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const tt=Ja(h,f,C,It(),B);return function(y,h,f,C=500,B=600){const ee=Math.max((window.screen.availHeight-B)/2,0).toString(),Se=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const Mt=Object.assign(Object.assign({},Ru),{width:C.toString(),height:B.toString(),top:ee,left:Se}),tn=(0,X.z$)().toLowerCase();f&&(tt=Si(tn)?"_blank":f),ln(tn)&&(h=h||"http://localhost",Mt.scrollbars="yes");const Dn=Object.entries(Mt).reduce((ms,[bo,ct])=>`${ms}${bo}=${ct},`,"");if(function(y=(0,X.z$)()){var h;return pr(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(tn)&&"_self"!==tt)return function(y,h){const f=document.createElement("a");f.href=y,f.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(C)}(h||"",tt),new od(null);const An=window.open(h||"",tt,Dn);qe(An,y,"popup-blocked");try{An.focus()}catch(ms){}return new od(An)}(h,tt,Hs())})()}_openRedirect(h,f,C,B){var ee=this;return(0,_.Z)(function*(){return yield ee._originValidation(h),y=Ja(h,f,C,It(),B),Zr().location.href=y,new Promise(()=>{});var y})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:B,promise:ee}=this.eventManagers[f];return B?Promise.resolve(B):(He(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(h);return this.eventManagers[f]={promise:C},C}initAndGetManager(h){var f=this;return(0,_.Z)(function*(){const C=yield function(y){return Qa.apply(this,arguments)}(h),B=new Wa(h);return C.register("authEvent",ee=>(qe(null==ee?void 0:ee.authEvent,h,"invalid-auth-event"),{status:B.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:B},f.iframes[h._key()]=C,B})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(uu,{type:uu},B=>{var ee;const Se=null===(ee=null==B?void 0:B[0])||void 0===ee?void 0:ee[uu];void 0!==Se&&f(!!Se),Qe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return Ou.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return vi()||Wi()||pr()}}),this.cordovaResolver=ke(class{constructor(){this._redirectPersistence=hr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ra}_initialize(h){var f=this;return(0,_.Z)(function*(){const C=h._key();let B=f.eventManagers.get(C);return B||(B=new qf(h),f.eventManagers.set(C,B),f.attachCallbackListeners(h,B)),B})()}_openPopup(h){Qe(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,C,B){var ee=this;return(0,_.Z)(function*(){!function(y){var h,f,C,B,ee,Se,tt,Mt,tn,Dn;const An=Fu();qe("function"==typeof(null===(h=null==An?void 0:An.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qe(void 0!==(null===(f=null==An?void 0:An.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qe("function"==typeof(null===(ee=null===(B=null===(C=null==An?void 0:An.cordova)||void 0===C?void 0:C.plugins)||void 0===B?void 0:B.browsertab)||void 0===ee?void 0:ee.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(Mt=null===(tt=null===(Se=null==An?void 0:An.cordova)||void 0===Se?void 0:Se.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Mt?void 0:Mt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(Dn=null===(tn=null==An?void 0:An.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===Dn?void 0:Dn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Se=yield ee._initialize(h);yield Se.initialized(),Se.resetRedirect(),ti.clear(),yield ee._originValidation(h);const tt=function(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Oo(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(h,C,B);yield function(y,h){return va()._set(Uu(y),h)}(h,tt);const Mt=yield function(y,h,f){return sa.apply(this,arguments)}(h,tt,f),tn=yield function(y){const{cordova:h}=Fu();return new Promise(f=>{h.plugins.browsertab.isAvailable(C=>{let B=null;C?h.plugins.browsertab.openUrl(y):B=h.InAppBrowser.open(y,function(y=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(B)})})}(Mt);return function(y,h,f){return Di.apply(this,arguments)}(h,Se,tn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(y){return Gi.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:C,handleOpenURL:B,BuildInfo:ee}=Fu(),Se=setTimeout((0,_.Z)(function*(){yield Vr(h),f.onEvent(yl())}),500),tt=function(){var Dn=(0,_.Z)(function*(An){clearTimeout(Se);const ms=yield Vr(h);let bo=null;ms&&(null==An?void 0:An.url)&&(bo=function(y,h){var f,C;const B=function(y){const h=gl(y),f=h.link?decodeURIComponent(h.link):void 0,C=gl(f).link,B=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return gl(B).link||B||C||f||y}(h);if(B.includes("/__/auth/callback")){const ee=gl(B),Se=ee.firebaseError?function(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(ee.firebaseError)):null,tt=null===(C=null===(f=null==Se?void 0:Se.code)||void 0===f?void 0:f.split("auth/"))||void 0===C?void 0:C[1],Mt=tt?ye(tt):null;return Mt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:B,postBody:null}}return null}(ms,An.url)),f.onEvent(bo||yl())});return function(ms){return Dn.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,tt);const Mt=B,tn=`${ee.packageName.toLowerCase()}://`;Fu().handleOpenURL=function(){var Dn=(0,_.Z)(function*(An){if(An.toLowerCase().startsWith(tn)&&tt({url:An}),"function"==typeof Mt)try{Mt(An)}catch(ms){console.error(ms)}});return function(An){return Dn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=hr,this._completeRedirectFn=ra}_initialize(h){var f=this;return(0,_.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,C,B){var ee=this;return(0,_.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(h,f,C,B)})()}_openRedirect(h,f,C,B){var ee=this;return(0,_.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(h,f,C,B)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return pd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,_.Z)(function*(){if(h.underlyingResolver)return;const f=yield function(){return Hc.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function $c(y){return y.unwrap()}function wh(y){return wa(y)}function wa(y){const{_tokenResponse:h}=y instanceof X.ZR?y.customData:y;if(!h)return null;if(!(y instanceof X.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Xt.credentialFromResult(y);const f=h.providerId;if(!f||"password"===f)return null;let C;switch(f){case"google.com":C=Yi;break;case"facebook.com":C=Vs;break;case"github.com":C=vs;break;case"twitter.com":C=Yr;break;default:const{oauthIdToken:B,oauthAccessToken:ee,oauthTokenSecret:Se,pendingToken:tt,nonce:Mt}=h;return ee||Se||B||tt?tt?f.startsWith("saml.")?as._create(f,tt):Ur._fromParams({providerId:f,signInMethod:f,pendingToken:tt,idToken:B,accessToken:ee}):new Hi(f).credential({idToken:B,accessToken:ee,rawNonce:Mt}):null}return y instanceof X.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function ao(y,h){return h.catch(f=>{throw f instanceof X.ZR&&function(y,h){var f;const C=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new _d(y,function(y,h){var f;const C=(0,X.m9)(y),B=h;return qe(h.operationType,C,"argument-error"),qe(null===(f=B.serverResponse)||void 0===f?void 0:f.mfaPendingCredential,C,"argument-error"),js._fromError(C,B)}(y,h));else if(C){const B=wa(h),ee=h;B&&(ee.credential=B,ee.tenantId=C.tenantId||void 0,ee.email=C.email||void 0,ee.phoneNumber=C.phoneNumber||void 0)}}(y,f),f}).then(f=>{const B=f.user;return{operationType:f.operationType,credential:wh(f),additionalUserInfo:K(f),user:As.getOrCreate(B)}})}function md(y,h){return yd.apply(this,arguments)}function yd(){return(yd=(0,_.Z)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:C=>ao(y,f.confirm(C))}})).apply(this,arguments)}class _d{constructor(h,f){this.resolver=f,this.auth=function(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ao($c(this.auth),this.resolver.resolveSignIn(h))}}class As{constructor(h){this._delegate=h,this.multiFactor=function(y){const h=(0,X.m9)(y);return Zs.has(h)||Zs.set(h,yo._fromUser(h)),Zs.get(h)}(h)}static getOrCreate(h){return As.USER_MAP.has(h)||As.USER_MAP.set(h,new As(h)),As.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,_.Z)(function*(){return ao(f.auth,G(f._delegate,h))})()}linkWithPhoneNumber(h,f){var C=this;return(0,_.Z)(function*(){return md(C.auth,function(y,h,f){return za.apply(this,arguments)}(C._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,_.Z)(function*(){return ao(f.auth,function(y,h,f){return ka.apply(this,arguments)}(f._delegate,h,Vi))})()}linkWithRedirect(h){var f=this;return(0,_.Z)(function*(){return yield El(Rn(f.auth)),function(y,h,f){return function(y,h,f){return oo.apply(this,arguments)}(y,h,f)}(f._delegate,h,Vi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,_.Z)(function*(){return ao(f.auth,wt(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return md(this.auth,function(y,h,f){return ac.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return ao(this.auth,function(y,h,f){return na.apply(this,arguments)}(this._delegate,h,Vi))}reauthenticateWithRedirect(h){var f=this;return(0,_.Z)(function*(){return yield El(Rn(f.auth)),function(y,h,f){return function(y,h,f){return Ts.apply(this,arguments)}(y,h,f)}(f._delegate,h,Vi)})()}sendEmailVerification(h){return function(y,h){return ki.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,_.Z)(function*(){return yield function(y,h){return Ri.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function(y,h){return ca((0,X.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function(y,h){return ca((0,X.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(y,h){return uc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(y,h){return ho.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function(y,h,f){return Gr.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}As.USER_MAP=new WeakMap;const mc=qe;let vd=(()=>{class y{constructor(f,C){if(this.app=f,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=f.options;mc(B,"invalid-api-key",{appName:f.name});let ee=[nn];if("undefined"!=typeof window){ee=function(y,h){const f=Kf();if(!(null==f?void 0:f.sessionStorage))return[];const C=xn(gd,y,h);switch(f.sessionStorage.getItem(C)){case No.NONE:return[nn];case No.LOCAL:return[D,hr];case No.SESSION:return[hr];default:return[]}}(B,f.name);for(const tt of[D,ut,hr])ee.includes(tt)||ee.push(tt)}mc(B,"invalid-api-key",{appName:f.name});const Se="undefined"!=typeof window?Vi:void 0;this._delegate=C.initialize({options:{persistence:ee,popupRedirectResolver:Se}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?As.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,C){!function(y,h,f){const C=Rn(y);qe(C._canInitEmulator,C,"emulator-config-failed"),qe(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const B=!!(null==f?void 0:f.disableWarnings),ee=dn(h),{host:Se,port:tt}=function(y){const h=dn(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!f)return{host:"",port:null};const C=f[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(C);if(B){const ee=B[1];return{host:ee,port:ri(C.substr(ee.length+1))}}{const[ee,Se]=C.split(":");return{host:ee,port:ri(Se)}}}(h);C.config.emulator={url:`${ee}//${Se}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Se,port:tt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function(){function y(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,C)}applyActionCode(f){return function(y,h){return Uo.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Qo(this._delegate,f)}confirmPasswordReset(f,C){return function(y,h,f){return rn.apply(this,arguments)}(this._delegate,f,C)}createUserWithEmailAndPassword(f,C){var B=this;return(0,_.Z)(function*(){return ao(B._delegate,function(y,h,f){return dt.apply(this,arguments)}(B._delegate,f,C))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(y,h){return Bs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(y,h){const f=bi.parseLink(h);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,_.Z)(function*(){mc(mi(),f._delegate,"operation-not-supported-in-this-environment");const C=yield function(y,h){return Ds.apply(this,arguments)}(f._delegate,Vi);return C?ao(f._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(y,h){Rn(y)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,C,B){const{next:ee,error:Se,complete:tt}=ba(f,C,B);return this._delegate.onAuthStateChanged(ee,Se,tt)}onIdTokenChanged(f,C,B){const{next:ee,error:Se,complete:tt}=ba(f,C,B);return this._delegate.onIdTokenChanged(ee,Se,tt)}sendSignInLinkToEmail(f,C){return function(y,h,f){return Lr.apply(this,arguments)}(this._delegate,f,C)}sendPasswordResetEmail(f,C){return function(y,h,f){return Js.apply(this,arguments)}(this._delegate,f,C||void 0)}setPersistence(f){var C=this;return(0,_.Z)(function*(){let B;switch(function(y,h){lu(Object.values(No).includes(h),y,"invalid-persistence-type"),(0,X.b$)()?lu(h!==No.SESSION,y,"unsupported-persistence-type"):(0,X.UG)()?lu(h===No.NONE,y,"unsupported-persistence-type"):Bu()?lu(h===No.NONE||h===No.LOCAL&&(0,X.hl)(),y,"unsupported-persistence-type"):lu(h===No.NONE||Zc(),y,"unsupported-persistence-type")}(C._delegate,f),f){case No.SESSION:B=hr;break;case No.LOCAL:B=(yield ke(D)._isAvailable())?D:ut;break;case No.NONE:B=nn;break;default:return Qe("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ao(this._delegate,function(y){return us.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ao(this._delegate,M(this._delegate,f))}signInWithCustomToken(f){return ao(this._delegate,function(y,h){return dr.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,C){return ao(this._delegate,function(y,h,f){return M((0,X.m9)(y),_s.credential(h,f))}(this._delegate,f,C))}signInWithEmailLink(f,C){return ao(this._delegate,function(y,h,f){return ds.apply(this,arguments)}(this._delegate,f,C))}signInWithPhoneNumber(f,C){return md(this._delegate,function(y,h,f){return ta.apply(this,arguments)}(this._delegate,f,C))}signInWithPopup(f){var C=this;return(0,_.Z)(function*(){return mc(mi(),C._delegate,"operation-not-supported-in-this-environment"),ao(C._delegate,function(y,h,f){return so.apply(this,arguments)}(C._delegate,f,Vi))})()}signInWithRedirect(f){var C=this;return(0,_.Z)(function*(){return mc(mi(),C._delegate,"operation-not-supported-in-this-environment"),yield El(C._delegate),function(y,h,f){return function(y,h,f){return Kt.apply(this,arguments)}(y,h,f)}(C._delegate,f,Vi)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(y,h){return lo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=No,y})();function ba(y,h,f){let C=y;"function"!=typeof y&&({next:C,error:h,complete:f}=y);const B=C;return{next:Se=>B(Se&&As.getOrCreate(Se)),error:h,complete:f}}class wd{constructor(){this.providerId="phone",this._delegate=new Xt($c(c.Z.auth()))}static credential(h,f){return Xt.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}wd.PHONE_SIGN_IN_METHOD=Xt.PHONE_SIGN_IN_METHOD,wd.PROVIDER_ID=Xt.PROVIDER_ID;const Go=qe;class du{constructor(h,f,C=c.Z.app()){var B;Go(null===(B=C.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Ga(h,f,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ue.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),C=h.getProvider("auth");return new vd(f,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_s,FacebookAuthProvider:Vs,GithubAuthProvider:vs,GoogleAuthProvider:Yi,OAuthProvider:Hi,PhoneAuthProvider:wd,PhoneMultiFactorGenerator:ku,RecaptchaVerifier:du,TwitterAuthProvider:Yr,Auth:vd,AuthCredential:Hn,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.1.6")}(c.Z)},6676:function(Pt,Ke){!function(Z){"use strict";function _(be){return Array.prototype.slice.call(be)}function c(be){return new Promise(function(ae,Me){be.onsuccess=function(){ae(be.result)},be.onerror=function(){Me(be.error)}})}function X(be,ae,Me){var Ve,Qe=new Promise(function(ye,rt){c(Ve=be[ae].apply(be,Me)).then(ye,rt)});return Qe.request=Ve,Qe}function se(be,ae,Me){var Ve=X(be,ae,Me);return Ve.then(function(Qe){if(Qe)return new ne(Qe,Ve.request)})}function Te(be,ae,Me){Me.forEach(function(Ve){Object.defineProperty(be.prototype,Ve,{get:function(){return this[ae][Ve]},set:function(Qe){this[ae][Ve]=Qe}})})}function me(be,ae,Me,Ve){Ve.forEach(function(Qe){Qe in Me.prototype&&(be.prototype[Qe]=function(){return X(this[ae],Qe,arguments)})})}function Ue(be,ae,Me,Ve){Ve.forEach(function(Qe){Qe in Me.prototype&&(be.prototype[Qe]=function(){return this[ae][Qe].apply(this[ae],arguments)})})}function Ie(be,ae,Me,Ve){Ve.forEach(function(Qe){Qe in Me.prototype&&(be.prototype[Qe]=function(){return se(this[ae],Qe,arguments)})})}function ue(be){this._index=be}function ne(be,ae){this._cursor=be,this._request=ae}function W(be){this._store=be}function pe(be){this._tx=be,this.complete=new Promise(function(ae,Me){be.oncomplete=function(){ae()},be.onerror=function(){Me(be.error)},be.onabort=function(){Me(be.error)}})}function de(be,ae,Me){this._db=be,this.oldVersion=ae,this.transaction=new pe(Me)}function Ae(be){this._db=be}Te(ue,"_index",["name","keyPath","multiEntry","unique"]),me(ue,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ie(ue,"_index",IDBIndex,["openCursor","openKeyCursor"]),Te(ne,"_cursor",["direction","key","primaryKey","value"]),me(ne,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(be){be in IDBCursor.prototype&&(ne.prototype[be]=function(){var ae=this,Me=arguments;return Promise.resolve().then(function(){return ae._cursor[be].apply(ae._cursor,Me),c(ae._request).then(function(Ve){if(Ve)return new ne(Ve,ae._request)})})})}),W.prototype.createIndex=function(){return new ue(this._store.createIndex.apply(this._store,arguments))},W.prototype.index=function(){return new ue(this._store.index.apply(this._store,arguments))},Te(W,"_store",["name","keyPath","indexNames","autoIncrement"]),me(W,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ie(W,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ue(W,"_store",IDBObjectStore,["deleteIndex"]),pe.prototype.objectStore=function(){return new W(this._tx.objectStore.apply(this._tx,arguments))},Te(pe,"_tx",["objectStoreNames","mode"]),Ue(pe,"_tx",IDBTransaction,["abort"]),de.prototype.createObjectStore=function(){return new W(this._db.createObjectStore.apply(this._db,arguments))},Te(de,"_db",["name","version","objectStoreNames"]),Ue(de,"_db",IDBDatabase,["deleteObjectStore","close"]),Ae.prototype.transaction=function(){return new pe(this._db.transaction.apply(this._db,arguments))},Te(Ae,"_db",["name","version","objectStoreNames"]),Ue(Ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(be){[W,ue].forEach(function(ae){be in ae.prototype&&(ae.prototype[be.replace("open","iterate")]=function(){var Me=_(arguments),Ve=Me[Me.length-1],Qe=this._store||this._index,ye=Qe[be].apply(Qe,Me.slice(0,-1));ye.onsuccess=function(){Ve(ye.result)}})})}),[ue,W].forEach(function(be){be.prototype.getAll||(be.prototype.getAll=function(ae,Me){var Ve=this,Qe=[];return new Promise(function(ye){Ve.iterateCursor(ae,function(rt){rt?(Qe.push(rt.value),void 0===Me||Qe.length!=Me?rt.continue():ye(Qe)):ye(Qe)})})})}),Z.openDb=function(be,ae,Me){var Ve=X(indexedDB,"open",[be,ae]),Qe=Ve.request;return Qe&&(Qe.onupgradeneeded=function(ye){Me&&Me(new de(Qe.result,ye.oldVersion,Qe.transaction))}),Ve.then(function(ye){return new Ae(ye)})},Z.deleteDb=function(be){return X(indexedDB,"deleteDatabase",[be])},Object.defineProperty(Z,"__esModule",{value:!0})}(Ke)},6215:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{X:()=>X});var _=Z(9765),c=Z(7971);class X extends _.xQ{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const me=super._subscribe(Te);return me&&!me.closed&&Te.next(this._value),me}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.N;return this._value}next(Te){super.next(this._value=Te)}}},7574:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{y:()=>W});var _=Z(7393),X=Z(9181),se=Z(6490),me=Z(6554),Ue=Z(4487);var ne=Z(2494);let W=(()=>{class de{constructor(Je){this._isScalar=!1,Je&&(this._subscribe=Je)}lift(Je){const Be=new de;return Be.source=this,Be.operator=Je,Be}subscribe(Je,Be,be){const{operator:ae}=this,Me=function(de,Ae,Je){if(de){if(de instanceof _.L)return de;if(de[X.b])return de[X.b]()}return de||Ae||Je?new _.L(de,Ae,Je):new _.L(se.c)}(Je,Be,be);if(Me.add(ae?ae.call(Me,this.source):this.source||ne.v.useDeprecatedSynchronousErrorHandling&&!Me.syncErrorThrowable?this._subscribe(Me):this._trySubscribe(Me)),ne.v.useDeprecatedSynchronousErrorHandling&&Me.syncErrorThrowable&&(Me.syncErrorThrowable=!1,Me.syncErrorThrown))throw Me.syncErrorValue;return Me}_trySubscribe(Je){try{return this._subscribe(Je)}catch(Be){ne.v.useDeprecatedSynchronousErrorHandling&&(Je.syncErrorThrown=!0,Je.syncErrorValue=Be),function(de){for(;de;){const{closed:Ae,destination:Je,isStopped:Be}=de;if(Ae||Be)return!1;de=Je&&Je instanceof _.L?Je:null}return!0}(Je)?Je.error(Be):console.warn(Be)}}forEach(Je,Be){return new(Be=pe(Be))((be,ae)=>{let Me;Me=this.subscribe(Ve=>{try{Je(Ve)}catch(Qe){ae(Qe),Me&&Me.unsubscribe()}},ae,be)})}_subscribe(Je){const{source:Be}=this;return Be&&Be.subscribe(Je)}[me.L](){return this}pipe(...Je){return 0===Je.length?this:function(de){return 0===de.length?Ue.y:1===de.length?de[0]:function(Je){return de.reduce((Be,be)=>be(Be),Je)}}(Je)(this)}toPromise(Je){return new(Je=pe(Je))((Be,be)=>{let ae;this.subscribe(Me=>ae=Me,Me=>be(Me),()=>Be(ae))})}}return de.create=Ae=>new de(Ae),de})();function pe(de){if(de||(de=ne.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{c:()=>X});var _=Z(2494),c=Z(4449);const X={closed:!0,next(se){},error(se){if(_.v.useDeprecatedSynchronousErrorHandling)throw se;(0,c.z)(se)},complete(){}}},9765:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{Yc:()=>Ue,xQ:()=>Ie});var _=Z(7574),c=Z(7393),X=Z(5319),se=Z(7971),Te=Z(8858),me=Z(9181);class Ue extends c.L{constructor(W){super(W),this.destination=W}}let Ie=(()=>{class ne extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[me.b](){return new Ue(this)}lift(pe){const de=new ue(this,this);return de.operator=pe,de}next(pe){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:de}=this,Ae=de.length,Je=de.slice();for(let Be=0;Be<Ae;Be++)Je[Be].next(pe)}}error(pe){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=pe,this.isStopped=!0;const{observers:de}=this,Ae=de.length,Je=de.slice();for(let Be=0;Be<Ae;Be++)Je[Be].error(pe);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:pe}=this,de=pe.length,Ae=pe.slice();for(let Je=0;Je<de;Je++)Ae[Je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(pe){if(this.closed)throw new se.N;return super._trySubscribe(pe)}_subscribe(pe){if(this.closed)throw new se.N;return this.hasError?(pe.error(this.thrownError),X.w.EMPTY):this.isStopped?(pe.complete(),X.w.EMPTY):(this.observers.push(pe),new Te.W(this,pe))}asObservable(){const pe=new _.y;return pe.source=this,pe}}return ne.create=(W,pe)=>new ue(W,pe),ne})();class ue extends Ie{constructor(W,pe){super(),this.destination=W,this.source=pe}next(W){const{destination:pe}=this;pe&&pe.next&&pe.next(W)}error(W){const{destination:pe}=this;pe&&pe.error&&this.destination.error(W)}complete(){const{destination:W}=this;W&&W.complete&&this.destination.complete()}_subscribe(W){const{source:pe}=this;return pe?this.source.subscribe(W):X.w.EMPTY}}},8858:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{W:()=>c});var _=Z(5319);class c extends _.w{constructor(se,Te){super(),this.subject=se,this.subscriber=Te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,Te=se.observers;if(this.subject=null,!Te||0===Te.length||se.isStopped||se.closed)return;const me=Te.indexOf(this.subscriber);-1!==me&&Te.splice(me,1)}}},7393:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{L:()=>Ue});var _=Z(9105),c=Z(6490),X=Z(5319),se=Z(9181),Te=Z(2494),me=Z(4449);class Ue extends X.w{constructor(ne,W,pe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.c;break;case 1:if(!ne){this.destination=c.c;break}if("object"==typeof ne){ne instanceof Ue?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ie(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new Ie(this,ne,W,pe)}}[se.b](){return this}static create(ne,W,pe){const de=new Ue(ne,W,pe);return de.syncErrorThrowable=!1,de}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class Ie extends Ue{constructor(ne,W,pe,de){super(),this._parentSubscriber=ne;let Ae,Je=this;(0,_.m)(W)?Ae=W:W&&(Ae=W.next,pe=W.error,de=W.complete,W!==c.c&&(Je=Object.create(W),(0,_.m)(Je.unsubscribe)&&this.add(Je.unsubscribe.bind(Je)),Je.unsubscribe=this.unsubscribe.bind(this))),this._context=Je,this._next=Ae,this._error=pe,this._complete=de}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:W}=this;Te.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?this.__tryOrSetError(W,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:W}=this,{useDeprecatedSynchronousErrorHandling:pe}=Te.v;if(this._error)pe&&W.syncErrorThrowable?(this.__tryOrSetError(W,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(W.syncErrorThrowable)pe?(W.syncErrorValue=ne,W.syncErrorThrown=!0):(0,me.z)(ne),this.unsubscribe();else{if(this.unsubscribe(),pe)throw ne;(0,me.z)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const W=()=>this._complete.call(this._context);Te.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,W),this.unsubscribe()):(this.__tryOrUnsub(W),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,W){try{ne.call(this._context,W)}catch(pe){if(this.unsubscribe(),Te.v.useDeprecatedSynchronousErrorHandling)throw pe;(0,me.z)(pe)}}__tryOrSetError(ne,W,pe){if(!Te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{W.call(this._context,pe)}catch(de){return Te.v.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=de,ne.syncErrorThrown=!0,!0):((0,me.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},5319:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{w:()=>me});var _=Z(9796),c=Z(1555),X=Z(9105);const Te=(()=>{function Ie(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ne,W)=>`${W+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return Ie.prototype=Object.create(Error.prototype),Ie})();class me{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:W,_unsubscribe:pe,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof me)ne.remove(this);else if(null!==ne)for(let Ae=0;Ae<ne.length;++Ae)ne[Ae].remove(this);if((0,X.m)(pe)){W&&(this._unsubscribe=void 0);try{pe.call(this)}catch(Ae){ue=Ae instanceof Te?Ue(Ae.errors):[Ae]}}if((0,_.k)(de)){let Ae=-1,Je=de.length;for(;++Ae<Je;){const Be=de[Ae];if((0,c.K)(Be))try{Be.unsubscribe()}catch(be){ue=ue||[],be instanceof Te?ue=ue.concat(Ue(be.errors)):ue.push(be)}}}if(ue)throw new Te(ue)}add(ue){let ne=ue;if(!ue)return me.EMPTY;switch(typeof ue){case"function":ne=new me(ue);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof me)){const de=ne;ne=new me,ne._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:W}=ne;if(null===W)ne._parentOrParents=this;else if(W instanceof me){if(W===this)return ne;ne._parentOrParents=[W,this]}else{if(-1!==W.indexOf(this))return ne;W.push(this)}const pe=this._subscriptions;return null===pe?this._subscriptions=[ne]:pe.push(ne),ne}remove(ue){const ne=this._subscriptions;if(ne){const W=ne.indexOf(ue);-1!==W&&ne.splice(W,1)}}}var Ie;function Ue(Ie){return Ie.reduce((ue,ne)=>ue.concat(ne instanceof Te?ne.errors:ne),[])}me.EMPTY=((Ie=new me).closed=!0,Ie)},2494:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{v:()=>c});let _=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(X){if(X){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=X},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{IY:()=>se,Ds:()=>me,ft:()=>Ie});var _=Z(7393),c=Z(7574),X=Z(7444);class se extends _.L{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class me extends _.L{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function Ie(ue,ne){if(ne.closed)return;if(ue instanceof c.y)return ue.subscribe(ne);let W;try{W=(0,X.s)(ue)(ne)}catch(pe){ne.error(pe)}return W}},2441:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{c:()=>Te,N:()=>me});var _=Z(9765),c=Z(7574),X=Z(5319),se=Z(1307);class Te extends c.y{constructor(W,pe){super(),this.source=W,this.subjectFactory=pe,this._refCount=0,this._isComplete=!1}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let W=this._connection;return W||(this._isComplete=!1,W=this._connection=new X.w,W.add(this.source.subscribe(new Ue(this.getSubject(),this))),W.closed&&(this._connection=null,W=X.w.EMPTY)),W}refCount(){return(0,se.x)()(this)}}const me=(()=>{const ne=Te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}}})();class Ue extends _.Yc{constructor(W,pe){super(W),this.connectable=pe}_error(W){this._unsubscribe(),super._error(W)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const W=this.connectable;if(W){this.connectable=null;const pe=W._connection;W._refCount=0,W._subject=null,W._connection=null,pe&&pe.unsubscribe()}}}},8071:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{z:()=>se});var _=Z(5917),c=Z(3282);function se(...Te){return(0,c.J)(1)((0,_.of)(...Te))}},9193:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{E:()=>c,c:()=>X});var _=Z(7574);const c=new _.y(Te=>Te.complete());function X(Te){return Te?function(Te){return new _.y(me=>Te.schedule(()=>me.complete()))}(Te):c}},4402:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{D:()=>Je});var _=Z(7574),c=Z(7444),X=Z(5319),se=Z(6554),Ue=Z(4087),Ie=Z(377),W=Z(4072),pe=Z(9489);function Je(Be,be){return be?function(Be,be){if(null!=Be){if(function(Be){return Be&&"function"==typeof Be[se.L]}(Be))return function(Be,be){return new _.y(ae=>{const Me=new X.w;return Me.add(be.schedule(()=>{const Ve=Be[se.L]();Me.add(Ve.subscribe({next(Qe){Me.add(be.schedule(()=>ae.next(Qe)))},error(Qe){Me.add(be.schedule(()=>ae.error(Qe)))},complete(){Me.add(be.schedule(()=>ae.complete()))}}))})),Me})}(Be,be);if((0,W.t)(Be))return function(Be,be){return new _.y(ae=>{const Me=new X.w;return Me.add(be.schedule(()=>Be.then(Ve=>{Me.add(be.schedule(()=>{ae.next(Ve),Me.add(be.schedule(()=>ae.complete()))}))},Ve=>{Me.add(be.schedule(()=>ae.error(Ve)))}))),Me})}(Be,be);if((0,pe.z)(Be))return(0,Ue.r)(Be,be);if(function(Be){return Be&&"function"==typeof Be[Ie.hZ]}(Be)||"string"==typeof Be)return function(Be,be){if(!Be)throw new Error("Iterable cannot be null");return new _.y(ae=>{const Me=new X.w;let Ve;return Me.add(()=>{Ve&&"function"==typeof Ve.return&&Ve.return()}),Me.add(be.schedule(()=>{Ve=Be[Ie.hZ](),Me.add(be.schedule(function(){if(ae.closed)return;let Qe,ye;try{const rt=Ve.next();Qe=rt.value,ye=rt.done}catch(rt){return void ae.error(rt)}ye?ae.complete():(ae.next(Qe),this.schedule())}))})),Me})}(Be,be)}throw new TypeError((null!==Be&&typeof Be||Be)+" is not observable")}(Be,be):Be instanceof _.y?Be:new _.y((0,c.s)(Be))}},6693:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{n:()=>se});var _=Z(7574),c=Z(5015),X=Z(4087);function se(Te,me){return me?(0,X.r)(Te,me):new _.y((0,c.V)(Te))}},6682:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{T:()=>Te});var _=Z(7574),c=Z(4869),X=Z(3282),se=Z(6693);function Te(...me){let Ue=Number.POSITIVE_INFINITY,Ie=null,ue=me[me.length-1];return(0,c.K)(ue)?(Ie=me.pop(),me.length>1&&"number"==typeof me[me.length-1]&&(Ue=me.pop())):"number"==typeof ue&&(Ue=me.pop()),null===Ie&&1===me.length&&me[0]instanceof _.y?me[0]:(0,X.J)(Ue)((0,se.n)(me,Ie))}},5917:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{of:()=>se});var _=Z(4869),c=Z(6693),X=Z(4087);function se(...Te){let me=Te[Te.length-1];return(0,_.K)(me)?(Te.pop(),(0,X.r)(Te,me)):(0,c.n)(Te)}},5242:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{d:()=>c});var _=Z(7393);function c(Te=null){return me=>me.lift(new X(Te))}class X{constructor(me){this.defaultValue=me}call(me,Ue){return Ue.subscribe(new se(me,this.defaultValue))}}class se extends _.L{constructor(me,Ue){super(me),this.defaultValue=Ue,this.isEmpty=!0}_next(me){this.isEmpty=!1,this.destination.next(me)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{h:()=>c});var _=Z(7393);function c(Te,me){return function(Ie){return Ie.lift(new X(Te,me))}}class X{constructor(me,Ue){this.predicate=me,this.thisArg=Ue}call(me,Ue){return Ue.subscribe(new se(me,this.predicate,this.thisArg))}}class se extends _.L{constructor(me,Ue,Ie){super(me),this.predicate=Ue,this.thisArg=Ie,this.count=0}_next(me){let Ue;try{Ue=this.predicate.call(this.thisArg,me,this.count++)}catch(Ie){return void this.destination.error(Ie)}Ue&&this.destination.next(me)}}},8049:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{P:()=>Ue});var _=Z(3410),c=Z(5435),X=Z(5257),se=Z(5242),Te=Z(4635),me=Z(4487);function Ue(Ie,ue){const ne=arguments.length>=2;return W=>W.pipe(Ie?(0,c.h)((pe,de)=>Ie(pe,de,W)):me.y,(0,X.q)(1),ne?(0,se.d)(ue):(0,Te.T)(()=>new _.K))}},8002:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{U:()=>c});var _=Z(7393);function c(Te,me){return function(Ie){if("function"!=typeof Te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ie.lift(new X(Te,me))}}class X{constructor(me,Ue){this.project=me,this.thisArg=Ue}call(me,Ue){return Ue.subscribe(new se(me,this.project,this.thisArg))}}class se extends _.L{constructor(me,Ue,Ie){super(me),this.project=Ue,this.count=0,this.thisArg=Ie||this}_next(me){let Ue;try{Ue=this.project.call(this.thisArg,me,this.count++)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(Ue)}}},3282:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{J:()=>X});var _=Z(9773),c=Z(4487);function X(se=Number.POSITIVE_INFINITY){return(0,_.zg)(c.y,se)}},9773:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{zg:()=>se});var _=Z(8002),c=Z(4402),X=Z(5345);function se(Ie,ue,ne=Number.POSITIVE_INFINITY){return"function"==typeof ue?W=>W.pipe(se((pe,de)=>(0,c.D)(Ie(pe,de)).pipe((0,_.U)((Ae,Je)=>ue(pe,Ae,de,Je))),ne)):("number"==typeof ue&&(ne=ue),W=>W.lift(new Te(Ie,ne)))}class Te{constructor(ue,ne=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=ne}call(ue,ne){return ne.subscribe(new me(ue,this.project,this.concurrent))}}class me extends X.Ds{constructor(ue,ne,W=Number.POSITIVE_INFINITY){super(ue),this.project=ne,this.concurrent=W,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let ne;const W=this.index++;try{ne=this.project(ue,W)}catch(pe){return void this.destination.error(pe)}this.active++,this._innerSub(ne)}_innerSub(ue){const ne=new X.IY(this),W=this.destination;W.add(ne);const pe=(0,X.ft)(ue,ne);pe!==ne&&W.add(pe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{ht:()=>W,QV:()=>ue});var _=Z(7393),c=Z(9193),X=Z(5917),se=Z(7574);class Ie{constructor(Ae,Je,Be){this.kind=Ae,this.value=Je,this.error=Be,this.hasValue="N"===Ae}observe(Ae){switch(this.kind){case"N":return Ae.next&&Ae.next(this.value);case"E":return Ae.error&&Ae.error(this.error);case"C":return Ae.complete&&Ae.complete()}}do(Ae,Je,Be){switch(this.kind){case"N":return Ae&&Ae(this.value);case"E":return Je&&Je(this.error);case"C":return Be&&Be()}}accept(Ae,Je,Be){return Ae&&"function"==typeof Ae.next?this.observe(Ae):this.do(Ae,Je,Be)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return de=this.error,new se.y(Je=>Je.error(de));case"C":return(0,c.c)()}var de;throw new Error("unexpected notification kind value")}static createNext(Ae){return void 0!==Ae?new Ie("N",Ae):Ie.undefinedValueNotification}static createError(Ae){return new Ie("E",void 0,Ae)}static createComplete(){return Ie.completeNotification}}function ue(de,Ae=0){return function(Be){return Be.lift(new ne(de,Ae))}}Ie.completeNotification=new Ie("C"),Ie.undefinedValueNotification=new Ie("N",void 0);class ne{constructor(Ae,Je=0){this.scheduler=Ae,this.delay=Je}call(Ae,Je){return Je.subscribe(new W(Ae,this.scheduler,this.delay))}}class W extends _.L{constructor(Ae,Je,Be=0){super(Ae),this.scheduler=Je,this.delay=Be}static dispatch(Ae){const{notification:Je,destination:Be}=Ae;Je.observe(Be),this.unsubscribe()}scheduleMessage(Ae){this.destination.add(this.scheduler.schedule(W.dispatch,this.delay,new pe(Ae,this.destination)))}_next(Ae){this.scheduleMessage(Ie.createNext(Ae))}_error(Ae){this.scheduleMessage(Ie.createError(Ae)),this.unsubscribe()}_complete(){this.scheduleMessage(Ie.createComplete()),this.unsubscribe()}}class pe{constructor(Ae,Je){this.notification=Ae,this.destination=Je}}},1307:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{x:()=>c});var _=Z(7393);function c(){return function(me){return me.lift(new X(me))}}class X{constructor(me){this.connectable=me}call(me,Ue){const{connectable:Ie}=this;Ie._refCount++;const ue=new se(me,Ie),ne=Ue.subscribe(ue);return ue.closed||(ue.connection=Ie.connect()),ne}}class se extends _.L{constructor(me,Ue){super(me),this.connectable=Ue}_unsubscribe(){const{connectable:me}=this;if(!me)return void(this.connection=null);this.connectable=null;const Ue=me._refCount;if(Ue<=0)return void(this.connection=null);if(me._refCount=Ue-1,Ue>1)return void(this.connection=null);const{connection:Ie}=this,ue=me._connection;this.connection=null,ue&&(!Ie||ue===Ie)&&ue.unsubscribe()}}},2145:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{R:()=>c});var _=Z(7393);function c(Te,me){let Ue=!1;return arguments.length>=2&&(Ue=!0),function(ue){return ue.lift(new X(Te,me,Ue))}}class X{constructor(me,Ue,Ie=!1){this.accumulator=me,this.seed=Ue,this.hasSeed=Ie}call(me,Ue){return Ue.subscribe(new se(me,this.accumulator,this.seed,this.hasSeed))}}class se extends _.L{constructor(me,Ue,Ie,ue){super(me),this.accumulator=Ue,this._seed=Ie,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(me){this.hasSeed=!0,this._seed=me}_next(me){if(this.hasSeed)return this._tryNext(me);this.seed=me,this.destination.next(me)}_tryNext(me){const Ue=this.index++;let Ie;try{Ie=this.accumulator(this.seed,me,Ue)}catch(ue){this.destination.error(ue)}this.seed=Ie,this.destination.next(Ie)}}},9761:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{O:()=>X});var _=Z(8071),c=Z(4869);function X(...se){const Te=se[se.length-1];return(0,c.K)(Te)?(se.pop(),me=>(0,_.z)(se,me,Te)):me=>(0,_.z)(se,me)}},3101:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{R:()=>be});var _=Z(7574);let c=1;const X=Promise.resolve(),se={};function Te(Me){return Me in se&&(delete se[Me],!0)}const me={setImmediate(Me){const Ve=c++;return se[Ve]=!0,X.then(()=>Te(Ve)&&Me()),Ve},clearImmediate(Me){Te(Me)}};var Ie=Z(6465),ne=Z(6102);const de=new class extends ne.v{flush(Ve){this.active=!0,this.scheduled=void 0;const{actions:Qe}=this;let ye,rt=-1,qt=Qe.length;Ve=Ve||Qe.shift();do{if(ye=Ve.execute(Ve.state,Ve.delay))break}while(++rt<qt&&(Ve=Qe.shift()));if(this.active=!1,ye){for(;++rt<qt&&(Ve=Qe.shift());)Ve.unsubscribe();throw ye}}}(class extends Ie.o{constructor(Ve,Qe){super(Ve,Qe),this.scheduler=Ve,this.work=Qe}requestAsyncId(Ve,Qe,ye=0){return null!==ye&&ye>0?super.requestAsyncId(Ve,Qe,ye):(Ve.actions.push(this),Ve.scheduled||(Ve.scheduled=me.setImmediate(Ve.flush.bind(Ve,null))))}recycleAsyncId(Ve,Qe,ye=0){if(null!==ye&&ye>0||null===ye&&this.delay>0)return super.recycleAsyncId(Ve,Qe,ye);0===Ve.actions.length&&(me.clearImmediate(Qe),Ve.scheduled=void 0)}});var Ae=Z(9796);class Be extends _.y{constructor(Ve,Qe=0,ye=de){var Me;super(),this.source=Ve,this.delayTime=Qe,this.scheduler=ye,(!(!(0,Ae.k)(Me=Qe)&&Me-parseFloat(Me)+1>=0)||Qe<0)&&(this.delayTime=0),(!ye||"function"!=typeof ye.schedule)&&(this.scheduler=de)}static create(Ve,Qe=0,ye=de){return new Be(Ve,Qe,ye)}static dispatch(Ve){const{source:Qe,subscriber:ye}=Ve;return this.add(Qe.subscribe(ye))}_subscribe(Ve){return this.scheduler.schedule(Be.dispatch,this.delayTime,{source:this.source,subscriber:Ve})}}function be(Me,Ve=0){return function(ye){return ye.lift(new ae(Me,Ve))}}class ae{constructor(Ve,Qe){this.scheduler=Ve,this.delay=Qe}call(Ve,Qe){return new Be(Qe,this.delay,this.scheduler).subscribe(Ve)}}},3190:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{w:()=>se});var _=Z(8002),c=Z(4402),X=Z(5345);function se(Ue,Ie){return"function"==typeof Ie?ue=>ue.pipe(se((ne,W)=>(0,c.D)(Ue(ne,W)).pipe((0,_.U)((pe,de)=>Ie(ne,pe,W,de))))):ue=>ue.lift(new Te(Ue))}class Te{constructor(Ie){this.project=Ie}call(Ie,ue){return ue.subscribe(new me(Ie,this.project))}}class me extends X.Ds{constructor(Ie,ue){super(Ie),this.project=ue,this.index=0}_next(Ie){let ue;const ne=this.index++;try{ue=this.project(Ie,ne)}catch(W){return void this.destination.error(W)}this._innerSub(ue)}_innerSub(Ie){const ue=this.innerSubscription;ue&&ue.unsubscribe();const ne=new X.IY(this),W=this.destination;W.add(ne),this.innerSubscription=(0,X.ft)(Ie,ne),this.innerSubscription!==ne&&W.add(this.innerSubscription)}_complete(){const{innerSubscription:Ie}=this;(!Ie||Ie.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ie){this.destination.next(Ie)}}},5257:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{q:()=>se});var _=Z(7393),c=Z(7108),X=Z(9193);function se(Ue){return Ie=>0===Ue?(0,X.c)():Ie.lift(new Te(Ue))}class Te{constructor(Ie){if(this.total=Ie,this.total<0)throw new c.W}call(Ie,ue){return ue.subscribe(new me(Ie,this.total))}}class me extends _.L{constructor(Ie,ue){super(Ie),this.total=ue,this.count=0}_next(Ie){const ue=this.total,ne=++this.count;ne<=ue&&(this.destination.next(Ie),ne===ue&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{b:()=>se});var _=Z(7393);function c(){}var X=Z(9105);function se(Ue,Ie,ue){return function(W){return W.lift(new Te(Ue,Ie,ue))}}class Te{constructor(Ie,ue,ne){this.nextOrObserver=Ie,this.error=ue,this.complete=ne}call(Ie,ue){return ue.subscribe(new me(Ie,this.nextOrObserver,this.error,this.complete))}}class me extends _.L{constructor(Ie,ue,ne,W){super(Ie),this._tapNext=c,this._tapError=c,this._tapComplete=c,this._tapError=ne||c,this._tapComplete=W||c,(0,X.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||c,this._tapError=ue.error||c,this._tapComplete=ue.complete||c)}_next(Ie){try{this._tapNext.call(this._context,Ie)}catch(ue){return void this.destination.error(ue)}this.destination.next(Ie)}_error(Ie){try{this._tapError.call(this._context,Ie)}catch(ue){return void this.destination.error(ue)}this.destination.error(Ie)}_complete(){try{this._tapComplete.call(this._context)}catch(Ie){return void this.destination.error(Ie)}return this.destination.complete()}}},4635:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{T:()=>X});var _=Z(3410),c=Z(7393);function X(Ue=me){return Ie=>Ie.lift(new se(Ue))}class se{constructor(Ie){this.errorFactory=Ie}call(Ie,ue){return ue.subscribe(new Te(Ie,this.errorFactory))}}class Te extends c.L{constructor(Ie,ue){super(Ie),this.errorFactory=ue,this.hasValue=!1}_next(Ie){this.hasValue=!0,this.destination.next(Ie)}_complete(){if(this.hasValue)return this.destination.complete();{let Ie;try{Ie=this.errorFactory()}catch(ue){Ie=ue}this.destination.error(Ie)}}}function me(){return new _.K}},4087:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{r:()=>X});var _=Z(7574),c=Z(5319);function X(se,Te){return new _.y(me=>{const Ue=new c.w;let Ie=0;return Ue.add(Te.schedule(function(){Ie!==se.length?(me.next(se[Ie++]),me.closed||Ue.add(this.schedule())):me.complete()})),Ue})}},6465:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{o:()=>X});var _=Z(5319);class c extends _.w{constructor(Te,me){super()}schedule(Te,me=0){return this}}class X extends c{constructor(Te,me){super(Te,me),this.scheduler=Te,this.work=me,this.pending=!1}schedule(Te,me=0){if(this.closed)return this;this.state=Te;const Ue=this.id,Ie=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(Ie,Ue,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(Ie,this.id,me),this}requestAsyncId(Te,me,Ue=0){return setInterval(Te.flush.bind(Te,this),Ue)}recycleAsyncId(Te,me,Ue=0){if(null!==Ue&&this.delay===Ue&&!1===this.pending)return me;clearInterval(me)}execute(Te,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Te,me);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,me){let Ie,Ue=!1;try{this.work(Te)}catch(ue){Ue=!0,Ie=!!ue&&ue||new Error(ue)}if(Ue)return this.unsubscribe(),Ie}_unsubscribe(){const Te=this.id,me=this.scheduler,Ue=me.actions,Ie=Ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ie&&Ue.splice(Ie,1),null!=Te&&(this.id=this.recycleAsyncId(me,Te,null)),this.delay=null}}},6102:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{v:()=>c});let _=(()=>{class X{constructor(Te,me=X.now){this.SchedulerAction=Te,this.now=me}schedule(Te,me=0,Ue){return new this.SchedulerAction(this,Te).schedule(Ue,me)}}return X.now=()=>Date.now(),X})();class c extends _{constructor(se,Te=_.now){super(se,()=>c.delegate&&c.delegate!==this?c.delegate.now():Te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,Te=0,me){return c.delegate&&c.delegate!==this?c.delegate.schedule(se,Te,me):super.schedule(se,Te,me)}flush(se){const{actions:Te}=this;if(this.active)return void Te.push(se);let me;this.active=!0;do{if(me=se.execute(se.state,se.delay))break}while(se=Te.shift());if(this.active=!1,me){for(;se=Te.shift();)se.unsubscribe();throw me}}}},3637:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{z:()=>X,P:()=>se});var _=Z(6465);const X=new(Z(6102).v)(_.o),se=X},7771:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{c:()=>me,N:()=>Te});var _=Z(6465),X=Z(6102);const Te=new class extends X.v{}(class extends _.o{constructor(Ie,ue){super(Ie,ue),this.scheduler=Ie,this.work=ue}schedule(Ie,ue=0){return ue>0?super.schedule(Ie,ue):(this.delay=ue,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,ue){return ue>0||this.closed?super.execute(Ie,ue):this._execute(Ie,ue)}requestAsyncId(Ie,ue,ne=0){return null!==ne&&ne>0||null===ne&&this.delay>0?super.requestAsyncId(Ie,ue,ne):Ie.flush(this)}}),me=Te},377:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{hZ:()=>c});const c="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{W:()=>c});const c=(()=>{function X(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return X.prototype=Object.create(Error.prototype),X})()},3410:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{K:()=>c});const c=(()=>{function X(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return X.prototype=Object.create(Error.prototype),X})()},7971:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{N:()=>c});const c=(()=>{function X(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return X.prototype=Object.create(Error.prototype),X})()},4449:(Pt,Ke,Z)=>{"use strict";function _(c){setTimeout(()=>{throw c},0)}Z.d(Ke,{z:()=>_})},4487:(Pt,Ke,Z)=>{"use strict";function _(c){return c}Z.d(Ke,{y:()=>_})},9796:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{k:()=>_});const _=Array.isArray||(c=>c&&"number"==typeof c.length)},9489:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{z:()=>_});const _=c=>c&&"number"==typeof c.length&&"function"!=typeof c},9105:(Pt,Ke,Z)=>{"use strict";function _(c){return"function"==typeof c}Z.d(Ke,{m:()=>_})},1555:(Pt,Ke,Z)=>{"use strict";function _(c){return null!==c&&"object"==typeof c}Z.d(Ke,{K:()=>_})},4072:(Pt,Ke,Z)=>{"use strict";function _(c){return!!c&&"function"!=typeof c.subscribe&&"function"==typeof c.then}Z.d(Ke,{t:()=>_})},4869:(Pt,Ke,Z)=>{"use strict";function _(c){return c&&"function"==typeof c.schedule}Z.d(Ke,{K:()=>_})},7444:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{s:()=>W});var _=Z(5015),c=Z(4449),se=Z(377),me=Z(6554),Ie=Z(9489),ue=Z(4072),ne=Z(1555);const W=pe=>{if(pe&&"function"==typeof pe[me.L])return(pe=>de=>{const Ae=pe[me.L]();if("function"!=typeof Ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ae.subscribe(de)})(pe);if((0,Ie.z)(pe))return(0,_.V)(pe);if((0,ue.t)(pe))return(pe=>de=>(pe.then(Ae=>{de.closed||(de.next(Ae),de.complete())},Ae=>de.error(Ae)).then(null,c.z),de))(pe);if(pe&&"function"==typeof pe[se.hZ])return(pe=>de=>{const Ae=pe[se.hZ]();for(;;){let Je;try{Je=Ae.next()}catch(Be){return de.error(Be),de}if(Je.done){de.complete();break}if(de.next(Je.value),de.closed)break}return"function"==typeof Ae.return&&de.add(()=>{Ae.return&&Ae.return()}),de})(pe);{const Ae=`You provided ${(0,ne.K)(pe)?"an invalid object":`'${pe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ae)}}},5015:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{V:()=>_});const _=c=>X=>{for(let se=0,Te=c.length;se<Te&&!X.closed;se++)X.next(c[se]);X.complete()}},8259:function(Pt){Pt.exports=function(){"use strict";const Ke=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Z="SweetAlert2:",c=A=>A.charAt(0).toUpperCase()+A.slice(1),X=A=>Array.prototype.slice.call(A),se=A=>{console.warn("".concat(Z," ").concat("object"==typeof A?A.join(" "):A))},Te=A=>{console.error("".concat(Z," ").concat(A))},me=[],Ie=(A,S)=>{(A=>{me.includes(A)||(me.push(A),se(A))})('"'.concat(A,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},ue=A=>"function"==typeof A?A():A,ne=A=>A&&"function"==typeof A.toPromise,W=A=>ne(A)?A.toPromise():Promise.resolve(A),pe=A=>A&&Promise.resolve(A)===A,Ae=A=>A instanceof Element||(A=>"object"==typeof A&&A.jquery)(A),be=A=>{const S={};for(const $ in A)S[A[$]]="swal2-"+A[$];return S},ae=be(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Me=be(["success","warning","info","question","error"]),Ve=()=>document.body.querySelector(".".concat(ae.container)),Qe=A=>{const S=Ve();return S?S.querySelector(A):null},ye=A=>Qe(".".concat(A)),rt=()=>ye(ae.popup),qt=()=>ye(ae.icon),Gt=()=>ye(ae.title),qe=()=>ye(ae["html-container"]),je=()=>ye(ae.image),He=()=>ye(ae["progress-steps"]),he=()=>ye(ae["validation-message"]),ke=()=>Qe(".".concat(ae.actions," .").concat(ae.confirm)),Ze=()=>Qe(".".concat(ae.actions," .").concat(ae.deny)),It=()=>Qe(".".concat(ae.loader)),gn=()=>Qe(".".concat(ae.actions," .").concat(ae.cancel)),Kn=()=>ye(ae.actions),an=()=>ye(ae.footer),zt=()=>ye(ae["timer-progress-bar"]),$t=()=>ye(ae.close),Wt=()=>{const A=X(rt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($,Ce)=>($=parseInt($.getAttribute("tabindex")))>(Ce=parseInt(Ce.getAttribute("tabindex")))?1:$<Ce?-1:0),S=X(rt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter($=>"-1"!==$.getAttribute("tabindex"));return(A=>{const S=[];for(let $=0;$<A.length;$++)-1===S.indexOf(A[$])&&S.push(A[$]);return S})(A.concat(S)).filter($=>pn($))},fn=()=>!Vt()&&!document.body.classList.contains(ae["no-backdrop"]),Vt=()=>document.body.classList.contains(ae["toast-shown"]),bt={previousBodyPadding:null},En=(A,S)=>{if(A.textContent="",S){const Ce=(new DOMParser).parseFromString(S,"text/html");X(Ce.querySelector("head").childNodes).forEach(ut=>{A.appendChild(ut)}),X(Ce.querySelector("body").childNodes).forEach(ut=>{A.appendChild(ut)})}},Yn=(A,S)=>{if(!S)return!1;const $=S.split(/\s+/);for(let Ce=0;Ce<$.length;Ce++)if(!A.classList.contains($[Ce]))return!1;return!0},Un=(A,S,$)=>{if(((A,S)=>{X(A.classList).forEach($=>{!Object.values(ae).includes($)&&!Object.values(Me).includes($)&&!Object.values(S.showClass).includes($)&&A.classList.remove($)})})(A,S),S.customClass&&S.customClass[$]){if("string"!=typeof S.customClass[$]&&!S.customClass[$].forEach)return se("Invalid type of customClass.".concat($,'! Expected string or iterable object, got "').concat(typeof S.customClass[$],'"'));kt(A,S.customClass[$])}},Gn=(A,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return jn(A,ae[S]);case"checkbox":return A.querySelector(".".concat(ae.checkbox," input"));case"radio":return A.querySelector(".".concat(ae.radio," input:checked"))||A.querySelector(".".concat(ae.radio," input:first-child"));case"range":return A.querySelector(".".concat(ae.range," input"));default:return jn(A,ae.input)}},Fn=A=>{if(A.focus(),"file"!==A.type){const S=A.value;A.value="",A.value=S}},fr=(A,S,$)=>{!A||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(Ce=>{A.forEach?A.forEach(ut=>{$?ut.classList.add(Ce):ut.classList.remove(Ce)}):$?A.classList.add(Ce):A.classList.remove(Ce)}))},kt=(A,S)=>{fr(A,S,!0)},Qt=(A,S)=>{fr(A,S,!1)},jn=(A,S)=>{for(let $=0;$<A.childNodes.length;$++)if(Yn(A.childNodes[$],S))return A.childNodes[$]},cn=(A,S,$)=>{$==="".concat(parseInt($))&&($=parseInt($)),$||0===parseInt($)?A.style[S]="number"==typeof $?"".concat($,"px"):$:A.style.removeProperty(S)},Sn=(A,S="flex")=>{A.style.display=S},mn=A=>{A.style.display="none"},Ft=(A,S,$,Ce)=>{const ut=A.querySelector(S);ut&&(ut.style[$]=Ce)},st=(A,S,$)=>{S?Sn(A,$):mn(A)},pn=A=>!(!A||!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),zn=A=>A.scrollHeight>A.clientHeight,Ln=A=>{const S=window.getComputedStyle(A),$=parseFloat(S.getPropertyValue("animation-duration")||"0"),Ce=parseFloat(S.getPropertyValue("transition-duration")||"0");return $>0||Ce>0},jt=(A,S=!1)=>{const $=zt();pn($)&&(S&&($.style.transition="none",$.style.width="100%"),setTimeout(()=>{$.style.transition="width ".concat(A/1e3,"s linear"),$.style.width="0%"},10))},lr=()=>"undefined"==typeof window||"undefined"==typeof document,ci='\n <div aria-labelledby="'.concat(ae.title,'" aria-describedby="').concat(ae["html-container"],'" class="').concat(ae.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ae.close,'"></button>\n   <ul class="').concat(ae["progress-steps"],'"></ul>\n   <div class="').concat(ae.icon,'"></div>\n   <img class="').concat(ae.image,'" />\n   <h2 class="').concat(ae.title,'" id="').concat(ae.title,'"></h2>\n   <div class="').concat(ae["html-container"],'" id="').concat(ae["html-container"],'"></div>\n   <input class="').concat(ae.input,'" />\n   <input type="file" class="').concat(ae.file,'" />\n   <div class="').concat(ae.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ae.select,'"></select>\n   <div class="').concat(ae.radio,'"></div>\n   <label for="').concat(ae.checkbox,'" class="').concat(ae.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ae.label,'"></span>\n   </label>\n   <textarea class="').concat(ae.textarea,'"></textarea>\n   <div class="').concat(ae["validation-message"],'" id="').concat(ae["validation-message"],'"></div>\n   <div class="').concat(ae.actions,'">\n     <div class="').concat(ae.loader,'"></div>\n     <button type="button" class="').concat(ae.confirm,'"></button>\n     <button type="button" class="').concat(ae.deny,'"></button>\n     <button type="button" class="').concat(ae.cancel,'"></button>\n   </div>\n   <div class="').concat(ae.footer,'"></div>\n   <div class="').concat(ae["timer-progress-bar-container"],'">\n     <div class="').concat(ae["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Qn=()=>{_r.isVisible()&&_r.resetValidationMessage()},ge=A=>{const S=(()=>{const A=Ve();return!!A&&(A.remove(),Qt([document.documentElement,document.body],[ae["no-backdrop"],ae["toast-shown"],ae["has-column"]]),!0)})();if(lr())return void Te("SweetAlert2 requires document to initialize");const $=document.createElement("div");$.className=ae.container,S&&kt($,ae["no-transition"]),En($,ci);const Ce=(A=>"string"==typeof A?document.querySelector(A):A)(A.target);Ce.appendChild($),(A=>{const S=rt();S.setAttribute("role",A.toast?"alert":"dialog"),S.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||S.setAttribute("aria-modal","true")})(A),(A=>{"rtl"===window.getComputedStyle(A).direction&&kt(Ve(),ae.rtl)})(Ce),(()=>{const A=rt(),S=jn(A,ae.input),$=jn(A,ae.file),Ce=A.querySelector(".".concat(ae.range," input")),ut=A.querySelector(".".concat(ae.range," output")),Nt=jn(A,ae.select),hr=A.querySelector(".".concat(ae.checkbox," input")),$i=jn(A,ae.textarea);S.oninput=Qn,$.onchange=Qn,Nt.onchange=Qn,hr.onchange=Qn,$i.oninput=Qn,Ce.oninput=()=>{Qn(),ut.value=Ce.value},Ce.onchange=()=>{Qn(),Ce.nextSibling.value=Ce.value}})()},ot=(A,S)=>{A instanceof HTMLElement?S.appendChild(A):"object"==typeof A?Ge(A,S):A&&En(S,A)},Ge=(A,S)=>{A.jquery?xt(S,A):En(S,A.toString())},xt=(A,S)=>{if(A.textContent="",0 in S)for(let $=0;$ in S;$++)A.appendChild(S[$].cloneNode(!0));else A.appendChild(S.cloneNode(!0))},yt=(()=>{if(lr())return!1;const A=document.createElement("div"),S={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const $ in S)if(Object.prototype.hasOwnProperty.call(S,$)&&void 0!==A.style[$])return S[$];return!1})(),Zn=(A,S)=>{const $=Kn(),Ce=It(),ut=ke(),Nt=Ze(),hr=gn();S.showConfirmButton||S.showDenyButton||S.showCancelButton?Sn($):mn($),Un($,S,"actions"),Dr(ut,"confirm",S),Dr(Nt,"deny",S),Dr(hr,"cancel",S),function(A,S,$,Ce){if(!Ce.buttonsStyling)return Qt([A,S,$],ae.styled);kt([A,S,$],ae.styled),Ce.confirmButtonColor&&(A.style.backgroundColor=Ce.confirmButtonColor,kt(A,ae["default-outline"])),Ce.denyButtonColor&&(S.style.backgroundColor=Ce.denyButtonColor,kt(S,ae["default-outline"])),Ce.cancelButtonColor&&($.style.backgroundColor=Ce.cancelButtonColor,kt($,ae["default-outline"]))}(ut,Nt,hr,S),S.reverseButtons&&($.insertBefore(hr,Ce),$.insertBefore(Nt,Ce),$.insertBefore(ut,Ce)),En(Ce,S.loaderHtml),Un(Ce,S,"loader")};function Dr(A,S,$){st(A,$["show".concat(c(S),"Button")],"inline-block"),En(A,$["".concat(S,"ButtonText")]),A.setAttribute("aria-label",$["".concat(S,"ButtonAriaLabel")]),A.className=ae[S],Un(A,$,"".concat(S,"Button")),kt(A,$["".concat(S,"ButtonClass")])}const ns=(A,S)=>{const $=Ve();!$||(function(A,S){"string"==typeof S?A.style.background=S:S||kt([document.documentElement,document.body],ae["no-backdrop"])}($,S.backdrop),function(A,S){S in ae?kt(A,ae[S]):(se('The "position" parameter is not valid, defaulting to "center"'),kt(A,ae.center))}($,S.position),function(A,S){if(S&&"string"==typeof S){const $="grow-".concat(S);$ in ae&&kt(A,ae[$])}}($,S.grow),Un($,S,"container"))};var ln={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Wi=["input","file","range","select","radio","checkbox","textarea"],di=A=>{if(!Mn[A.input])return Te('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(A.input,'"'));const S=_n(A.input),$=Mn[A.input](S,A);Sn($),setTimeout(()=>{Fn($)})},ni=(A,S)=>{const $=Gn(rt(),A);if($){(A=>{for(let S=0;S<A.attributes.length;S++){const $=A.attributes[S].name;["type","value","style"].includes($)||A.removeAttribute($)}})($);for(const Ce in S)$.setAttribute(Ce,S[Ce])}},mr=A=>{const S=_n(A.input);A.customClass&&kt(S,A.customClass.input)},pr=(A,S)=>{(!A.placeholder||S.inputPlaceholder)&&(A.placeholder=S.inputPlaceholder)},Hr=(A,S,$)=>{if($.inputLabel){A.id=ae.input;const Ce=document.createElement("label"),ut=ae["input-label"];Ce.setAttribute("for",A.id),Ce.className=ut,kt(Ce,$.customClass.inputLabel),Ce.innerText=$.inputLabel,S.insertAdjacentElement("beforebegin",Ce)}},_n=A=>{const S=ae[A]?ae[A]:ae.input;return jn(rt(),S)},Mn={};Mn.text=Mn.email=Mn.password=Mn.number=Mn.tel=Mn.url=(A,S)=>("string"==typeof S.inputValue||"number"==typeof S.inputValue?A.value=S.inputValue:pe(S.inputValue)||se('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof S.inputValue,'"')),Hr(A,A,S),pr(A,S),A.type=S.input,A),Mn.file=(A,S)=>(Hr(A,A,S),pr(A,S),A),Mn.range=(A,S)=>{const $=A.querySelector("input"),Ce=A.querySelector("output");return $.value=S.inputValue,$.type=S.input,Ce.value=S.inputValue,Hr($,A,S),A},Mn.select=(A,S)=>{if(A.textContent="",S.inputPlaceholder){const $=document.createElement("option");En($,S.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,A.appendChild($)}return Hr(A,A,S),A},Mn.radio=A=>(A.textContent="",A),Mn.checkbox=(A,S)=>{const $=Gn(rt(),"checkbox");$.value=1,$.id=ae.checkbox,$.checked=Boolean(S.inputValue);const Ce=A.querySelector("span");return En(Ce,S.inputPlaceholder),A},Mn.textarea=(A,S)=>{A.value=S.inputValue,pr(A,S),Hr(A,A,S);return setTimeout(()=>{if("MutationObserver"in window){const Ce=parseInt(window.getComputedStyle(rt()).width);new MutationObserver(()=>{const Nt=A.offsetWidth+(Ce=>parseInt(window.getComputedStyle(Ce).marginLeft)+parseInt(window.getComputedStyle(Ce).marginRight))(A);rt().style.width=Nt>Ce?"".concat(Nt,"px"):null}).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const vi=(A,S)=>{const $=qe();Un($,S,"htmlContainer"),S.html?(ot(S.html,$),Sn($,"block")):S.text?($.textContent=S.text,Sn($,"block")):mn($),((A,S)=>{const $=rt(),Ce=ln.innerParams.get(A),ut=!Ce||S.input!==Ce.input;Wi.forEach(Nt=>{const hr=ae[Nt],$i=jn($,hr);ni(Nt,S.inputAttributes),$i.className=hr,ut&&mn($i)}),S.input&&(ut&&di(S),mr(S))})(A,S)},Rn=(A,S)=>{for(const $ in Me)S.icon!==$&&Qt(A,Me[$]);kt(A,Me[S.icon]),dn(A,S),Et(),Un(A,S,"icon")},Et=()=>{const A=rt(),S=window.getComputedStyle(A).getPropertyValue("background-color"),$=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ce=0;Ce<$.length;Ce++)$[Ce].style.backgroundColor=S},Bt=(A,S)=>{A.textContent="",En(A,S.iconHtml?wr(S.iconHtml):"success"===S.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===S.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':wr({question:"?",warning:"!",info:"i"}[S.icon]))},dn=(A,S)=>{if(S.iconColor){A.style.color=S.iconColor,A.style.borderColor=S.iconColor;for(const $ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ft(A,$,"backgroundColor",S.iconColor);Ft(A,".swal2-success-ring","borderColor",S.iconColor)}},wr=A=>'<div class="'.concat(ae["icon-content"],'">').concat(A,"</div>"),Jn=(A,S)=>{const $=He();if(!S.progressSteps||0===S.progressSteps.length)return mn($);Sn($),$.textContent="",S.currentProgressStep>=S.progressSteps.length&&se("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.progressSteps.forEach((Ce,ut)=>{const Nt=(A=>{const S=document.createElement("li");return kt(S,ae["progress-step"]),En(S,A),S})(Ce);if($.appendChild(Nt),ut===S.currentProgressStep&&kt(Nt,ae["active-progress-step"]),ut!==S.progressSteps.length-1){const hr=(A=>{const S=document.createElement("li");return kt(S,ae["progress-step-line"]),A.progressStepsDistance&&(S.style.width=A.progressStepsDistance),S})(S);$.appendChild(hr)}})},mt=(A,S)=>{A.className="".concat(ae.popup," ").concat(pn(A)?S.showClass.popup:""),S.toast?(kt([document.documentElement,document.body],ae["toast-shown"]),kt(A,ae.toast)):kt(A,ae.modal),Un(A,S,"popup"),"string"==typeof S.customClass&&kt(A,S.customClass),S.icon&&kt(A,ae["icon-".concat(S.icon)])},is=(A,S)=>{((A,S)=>{const $=Ve(),Ce=rt();S.toast?(cn($,"width",S.width),Ce.style.width="100%",Ce.insertBefore(It(),qt())):cn(Ce,"width",S.width),cn(Ce,"padding",S.padding),S.background&&(Ce.style.background=S.background),mn(he()),mt(Ce,S)})(0,S),ns(0,S),Jn(0,S),((A,S)=>{const $=ln.innerParams.get(A),Ce=qt();$&&S.icon===$.icon?(Bt(Ce,S),Rn(Ce,S)):S.icon||S.iconHtml?S.icon&&-1===Object.keys(Me).indexOf(S.icon)?(Te('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),mn(Ce)):(Sn(Ce),Bt(Ce,S),Rn(Ce,S),kt(Ce,S.showClass.icon)):mn(Ce)})(A,S),((A,S)=>{const $=je();if(!S.imageUrl)return mn($);Sn($,""),$.setAttribute("src",S.imageUrl),$.setAttribute("alt",S.imageAlt),cn($,"width",S.imageWidth),cn($,"height",S.imageHeight),$.className=ae.image,Un($,S,"image")})(0,S),((A,S)=>{const $=Gt();st($,S.title||S.titleText,"block"),S.title&&ot(S.title,$),S.titleText&&($.innerText=S.titleText),Un($,S,"title")})(0,S),((A,S)=>{const $=$t();En($,S.closeButtonHtml),Un($,S,"closeButton"),st($,S.showCloseButton),$.setAttribute("aria-label",S.closeButtonAriaLabel)})(0,S),vi(A,S),Zn(0,S),((A,S)=>{const $=an();st($,S.footer),S.footer&&ot(S.footer,$),Un($,S,"footer")})(0,S),"function"==typeof S.didRender&&S.didRender(rt())},or=()=>ke()&&ke().click();const yr=A=>{let S=rt();S||_r.fire(),S=rt();const $=It();Vt()?mn(qt()):Pe(S,A),Sn($),S.setAttribute("data-loading",!0),S.setAttribute("aria-busy",!0),S.focus()},Pe=(A,S)=>{const $=Kn(),Ce=It();!S&&pn(ke())&&(S=ke()),Sn($),S&&(mn(S),Ce.setAttribute("data-button-to-replace",S.className)),Ce.parentNode.insertBefore(Ce,S),kt([A,$],ae.loading)},Le={},At=A=>new Promise(S=>{if(!A)return S();const $=window.scrollX,Ce=window.scrollY;Le.restoreFocusTimeout=setTimeout(()=>{Le.previousActiveElement&&Le.previousActiveElement.focus?(Le.previousActiveElement.focus(),Le.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo($,Ce)}),Pn=()=>{if(Le.timeout)return(()=>{const A=zt(),S=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const $=parseInt(window.getComputedStyle(A).width),Ce=parseInt(S/$*100);A.style.removeProperty("transition"),A.style.width="".concat(Ce,"%")})(),Le.timeout.stop()},Tn=()=>{if(Le.timeout){const A=Le.timeout.start();return jt(A),A}};let On=!1;const ii={};const Ur=A=>{for(let S=A.target;S&&S!==document;S=S.parentNode)for(const $ in ii){const Ce=S.getAttribute($);if(Ce)return void ii[$].fire({template:Ce})}},Ir={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ki=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ws={},gr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mi=A=>Object.prototype.hasOwnProperty.call(Ir,A),Ls=A=>Ws[A],uo=A=>{Mi(A)||se('Unknown parameter "'.concat(A,'"'))},os=A=>{gr.includes(A)&&se('The parameter "'.concat(A,'" is incompatible with toasts'))},Kr=A=>{Ls(A)&&Ie(A,Ls(A))};var Ys=Object.freeze({isValidParameter:Mi,isUpdatableParameter:A=>-1!==Ki.indexOf(A),isDeprecatedParameter:Ls,argsToParams:A=>{const S={};return"object"!=typeof A[0]||Ae(A[0])?["title","html","icon"].forEach(($,Ce)=>{const ut=A[Ce];"string"==typeof ut||Ae(ut)?S[$]=ut:void 0!==ut&&Te("Unexpected type of ".concat($,'! Expected "string" or "Element", got ').concat(typeof ut))}):Object.assign(S,A[0]),S},isVisible:()=>pn(rt()),clickConfirm:or,clickDeny:()=>Ze()&&Ze().click(),clickCancel:()=>gn()&&gn().click(),getContainer:Ve,getPopup:rt,getTitle:Gt,getHtmlContainer:qe,getImage:je,getIcon:qt,getInputLabel:()=>ye(ae["input-label"]),getCloseButton:$t,getActions:Kn,getConfirmButton:ke,getDenyButton:Ze,getCancelButton:gn,getLoader:It,getFooter:an,getTimerProgressBar:zt,getFocusableElements:Wt,getValidationMessage:he,isLoading:()=>rt().hasAttribute("data-loading"),fire:function(...A){return new this(...A)},mixin:function(A){return class extends(this){_main(Ce,ut){return super._main(Ce,Object.assign({},A,ut))}}},showLoading:yr,enableLoading:yr,getTimerLeft:()=>Le.timeout&&Le.timeout.getTimerLeft(),stopTimer:Pn,resumeTimer:Tn,toggleTimer:()=>{const A=Le.timeout;return A&&(A.running?Pn():Tn())},increaseTimer:A=>{if(Le.timeout){const S=Le.timeout.increase(A);return jt(S,!0),S}},isTimerRunning:()=>Le.timeout&&Le.timeout.isRunning(),bindClickHandler:function(A="data-swal-template"){ii[A]=this,On||(document.body.addEventListener("click",Ur),On=!0)}});function bi(){const A=ln.innerParams.get(this);if(!A)return;const S=ln.domCache.get(this);mn(S.loader),Vt()?A.icon&&Sn(qt()):Io(S),Qt([S.popup,S.actions],ae.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const Io=A=>{const S=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));S.length?Sn(S[0],"inline-block"):!pn(ke())&&!pn(Ze())&&!pn(gn())&&mn(A.actions)};const Ei=()=>{null===bt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(bt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(bt.previousBodyPadding+(()=>{const A=document.createElement("div");A.className=ae["scrollbar-measure"],document.body.appendChild(A);const S=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),S})(),"px"))},Vs=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const S=44;rt().scrollHeight>window.innerHeight-S&&(Ve().style.paddingBottom="".concat(S,"px"))}},Yi=()=>{const A=Ve();let S;A.ontouchstart=$=>{S=vs($)},A.ontouchmove=$=>{S&&($.preventDefault(),$.stopPropagation())}},vs=A=>{const S=A.target,$=Ve();return!(Qs(A)||as(A)||S!==$&&(zn($)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||zn(qe())&&qe().contains(S)))},Qs=A=>A.touches&&A.touches.length&&"stylus"===A.touches[0].touchType,as=A=>A.touches&&A.touches.length>1,Yr=()=>{X(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})};var fi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Qi(A,S,$,Ce){Vt()?F(A,Ce):(At($).then(()=>F(A,Ce)),Le.keydownTarget.removeEventListener("keydown",Le.keydownHandler,{capture:Le.keydownListenerCapture}),Le.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),fn()&&(null!==bt.previousBodyPadding&&(document.body.style.paddingRight="".concat(bt.previousBodyPadding,"px"),bt.previousBodyPadding=null),(()=>{if(Yn(document.body,ae.iosfix)){const A=parseInt(document.body.style.top,10);Qt(document.body,ae.iosfix),document.body.style.top="",document.body.scrollTop=-1*A}})(),Yr()),Qt([document.documentElement,document.body],[ae.shown,ae["height-auto"],ae["no-backdrop"],ae["toast-shown"]])}function Oi(A){A=ls(A);const S=fi.swalPromiseResolve.get(this),$=us(this);this.isAwaitingPromise()?A.isDismissed||(cs(this),S(A)):$&&S(A)}const us=A=>{const S=rt();if(!S)return!1;const $=ln.innerParams.get(A);if(!$||Yn(S,$.hideClass.popup))return!1;Qt(S,$.showClass.popup),kt(S,$.hideClass.popup);const Ce=Ve();return Qt(Ce,$.showClass.backdrop),kt(Ce,$.hideClass.backdrop),Fr(A,S,$),!0};const cs=A=>{A.isAwaitingPromise()&&(ln.awaitingPromise.delete(A),ln.innerParams.get(A)||A._destroy())},ls=A=>void 0===A?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),Fr=(A,S,$)=>{const Ce=Ve(),ut=yt&&Ln(S);"function"==typeof $.willClose&&$.willClose(S),ut?Ri(A,S,Ce,$.returnFocus,$.didClose):Qi(A,Ce,$.returnFocus,$.didClose)},Ri=(A,S,$,Ce,ut)=>{Le.swalCloseEventFinishedCallback=Qi.bind(null,A,$,Ce,ut),S.addEventListener(yt,function(Nt){Nt.target===S&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback)})},F=(A,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(A.params)(),A._destroy()})};function z(A,S,$){const Ce=ln.domCache.get(A);S.forEach(ut=>{Ce[ut].disabled=$})}function L(A,S){if(!A)return!1;if("radio"===A.type){const Ce=A.parentNode.parentNode.querySelectorAll("input");for(let ut=0;ut<Ce.length;ut++)Ce[ut].disabled=S}else A.disabled=S}class G{constructor(S,$){this.callback=S,this.remaining=$,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(S){const $=this.running;return $&&this.stop(),this.remaining+=S,$&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Fe={email:(A,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(A,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function cr(A){(function(A){A.inputValidator||Object.keys(Fe).forEach(S=>{A.input===S&&(A.inputValidator=Fe[S])})})(A),A.showLoaderOnConfirm&&!A.preConfirm&&se("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(A){(!A.target||"string"==typeof A.target&&!document.querySelector(A.target)||"string"!=typeof A.target&&!A.target.appendChild)&&(se('Target parameter is not valid, defaulting to "body"'),A.target="body")}(A),"string"==typeof A.title&&(A.title=A.title.split("\n").join("<br />")),ge(A)}const Br=["swal-title","swal-html","swal-footer"],dr=A=>{const S={};return X(A.querySelectorAll("swal-param")).forEach($=>{rn($,["name","value"]);const Ce=$.getAttribute("name");let ut=$.getAttribute("value");"boolean"==typeof Ir[Ce]&&"false"===ut&&(ut=!1),"object"==typeof Ir[Ce]&&(ut=JSON.parse(ut)),S[Ce]=ut}),S},pi=A=>{const S={};return X(A.querySelectorAll("swal-button")).forEach($=>{rn($,["type","color","aria-label"]);const Ce=$.getAttribute("type");S["".concat(Ce,"ButtonText")]=$.innerHTML,S["show".concat(c(Ce),"Button")]=!0,$.hasAttribute("color")&&(S["".concat(Ce,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(S["".concat(Ce,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),S},Pi=A=>{const S={},$=A.querySelector("swal-image");return $&&(rn($,["src","width","height","alt"]),$.hasAttribute("src")&&(S.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(S.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(S.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(S.imageAlt=$.getAttribute("alt"))),S},Ji=A=>{const S={},$=A.querySelector("swal-icon");return $&&(rn($,["type","color"]),$.hasAttribute("type")&&(S.icon=$.getAttribute("type")),$.hasAttribute("color")&&(S.iconColor=$.getAttribute("color")),S.iconHtml=$.innerHTML),S},jr=A=>{const S={},$=A.querySelector("swal-input");$&&(rn($,["type","label","placeholder","value"]),S.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(S.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(S.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(S.inputValue=$.getAttribute("value")));const Ce=A.querySelectorAll("swal-input-option");return Ce.length&&(S.inputOptions={},X(Ce).forEach(ut=>{rn(ut,["value"]);const Nt=ut.getAttribute("value");S.inputOptions[Nt]=ut.innerHTML})),S},Js=(A,S)=>{const $={};for(const Ce in S){const ut=S[Ce],Nt=A.querySelector(ut);Nt&&(rn(Nt,[]),$[ut.replace(/^swal-/,"")]=Nt.innerHTML.trim())}return $},Vo=A=>{const S=Br.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);X(A.children).forEach($=>{const Ce=$.tagName.toLowerCase();-1===S.indexOf(Ce)&&se("Unrecognized element <".concat(Ce,">"))})},rn=(A,S)=>{X(A.attributes).forEach($=>{-1===S.indexOf($.name)&&se(['Unrecognized attribute "'.concat($.name,'" on <').concat(A.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})},Uo=A=>{const S=Ve(),$=rt();"function"==typeof A.willOpen&&A.willOpen($);const ut=window.getComputedStyle(document.body).overflowY;lo(S,$,A),setTimeout(()=>{co(S,$)},10),fn()&&(Sa(S,A.scrollbarPadding,ut),X(document.body.children).forEach(S=>{S===Ve()||S.contains(Ve())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))})),!Vt()&&!Le.previousActiveElement&&(Le.previousActiveElement=document.activeElement),"function"==typeof A.didOpen&&setTimeout(()=>A.didOpen($)),Qt(S,ae["no-transition"])},Qo=A=>{const S=rt();if(A.target!==S)return;const $=Ve();S.removeEventListener(yt,Qo),$.style.overflowY="auto"},co=(A,S)=>{yt&&Ln(S)?(A.style.overflowY="hidden",S.addEventListener(yt,Qo)):A.style.overflowY="auto"},Sa=(A,S,$)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Yn(document.body,ae.iosfix)){const S=document.body.scrollTop;document.body.style.top="".concat(-1*S,"px"),kt(document.body,ae.iosfix),Yi(),Vs()}})(),S&&"hidden"!==$&&Ei(),setTimeout(()=>{A.scrollTop=0})},lo=(A,S,$)=>{kt(A,$.showClass.backdrop),S.style.setProperty("opacity","0","important"),Sn(S,"grid"),setTimeout(()=>{kt(S,$.showClass.popup),S.style.removeProperty("opacity")},10),kt([document.documentElement,document.body],ae.shown),$.heightAuto&&$.backdrop&&!$.toast&&kt([document.documentElement,document.body],ae["height-auto"])},Wn=A=>A.checked?1:0,Do=A=>A.checked?A.value:null,Lr=A=>A.files.length?null!==A.getAttribute("multiple")?A.files:A.files[0]:null,Xs=(A,S)=>{const $=rt(),Ce=ut=>ds[S.input]($,ws(ut),S);ne(S.inputOptions)||pe(S.inputOptions)?(yr(ke()),W(S.inputOptions).then(ut=>{A.hideLoading(),Ce(ut)})):"object"==typeof S.inputOptions?Ce(S.inputOptions):Te("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof S.inputOptions))},Ao=(A,S)=>{const $=A.getInput();mn($),W(S.inputValue).then(Ce=>{$.value="number"===S.input?parseFloat(Ce)||0:"".concat(Ce),Sn($),$.focus(),A.hideLoading()}).catch(Ce=>{Te("Error in inputValue promise: ".concat(Ce)),$.value="",Sn($),$.focus(),A.hideLoading()})},ds={select:(A,S,$)=>{const Ce=jn(A,ae.select),ut=(Nt,hr,$i)=>{const si=document.createElement("option");si.value=$i,En(si,hr),si.selected=Us($i,$.inputValue),Nt.appendChild(si)};S.forEach(Nt=>{const hr=Nt[0],$i=Nt[1];if(Array.isArray($i)){const si=document.createElement("optgroup");si.label=hr,si.disabled=!1,Ce.appendChild(si),$i.forEach(Hs=>ut(si,Hs[1],Hs[0]))}else ut(Ce,$i,hr)}),Ce.focus()},radio:(A,S,$)=>{const Ce=jn(A,ae.radio);S.forEach(Nt=>{const hr=Nt[0],$i=Nt[1],si=document.createElement("input"),Hs=document.createElement("label");si.type="radio",si.name=ae.radio,si.value=hr,Us(hr,$.inputValue)&&(si.checked=!0);const au=document.createElement("span");En(au,$i),au.className=ae.label,Hs.appendChild(si),Hs.appendChild(au),Ce.appendChild(Hs)});const ut=Ce.querySelectorAll("input");ut.length&&ut[0].focus()}},ws=A=>{const S=[];return"undefined"!=typeof Map&&A instanceof Map?A.forEach(($,Ce)=>{let ut=$;"object"==typeof ut&&(ut=ws(ut)),S.push([Ce,ut])}):Object.keys(A).forEach($=>{let Ce=A[$];"object"==typeof Ce&&(Ce=ws(Ce)),S.push([$,Ce])}),S},Us=(A,S)=>S&&S.toString()===A.toString(),ki=(A,S)=>{const $=ln.innerParams.get(A),Ce=((A,S)=>{const $=A.getInput();if(!$)return null;switch(S.input){case"checkbox":return Wn($);case"radio":return Do($);case"file":return Lr($);default:return S.inputAutoTrim?$.value.trim():$.value}})(A,$);$.inputValidator?Xr(A,Ce,S):A.getInput().checkValidity()?"deny"===S?Gr(A,Ce):Fi(A,Ce):(A.enableButtons(),A.showValidationMessage($.validationMessage))},Xr=(A,S,$)=>{const Ce=ln.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>W(Ce.inputValidator(S,Ce.validationMessage))).then(Nt=>{A.enableButtons(),A.enableInput(),Nt?A.showValidationMessage(Nt):"deny"===$?Gr(A,S):Fi(A,S)})},Gr=(A,S)=>{const $=ln.innerParams.get(A||void 0);$.showLoaderOnDeny&&yr(Ze()),$.preDeny?(ln.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>W($.preDeny(S,$.validationMessage))).then(ut=>{!1===ut?A.hideLoading():A.closePopup({isDenied:!0,value:void 0===ut?S:ut})}).catch(ut=>ar(A||void 0,ut))):A.closePopup({isDenied:!0,value:S})},Jo=(A,S)=>{A.closePopup({isConfirmed:!0,value:S})},ar=(A,S)=>{A.rejectPromise(S)},Fi=(A,S)=>{const $=ln.innerParams.get(A||void 0);$.showLoaderOnConfirm&&yr(),$.preConfirm?(A.resetValidationMessage(),ln.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>W($.preConfirm(S,$.validationMessage))).then(ut=>{pn(he())||!1===ut?A.hideLoading():Jo(A,void 0===ut?S:ut)}).catch(ut=>ar(A||void 0,ut))):Jo(A,S)},fo=(A,S,$)=>{const Ce=Wt();if(Ce.length)return(S+=$)===Ce.length?S=0:-1===S&&(S=Ce.length-1),Ce[S].focus();rt().focus()},Xo=["ArrowRight","ArrowDown"],ca=["ArrowLeft","ArrowUp"],po=(A,S,$)=>{const Ce=ln.innerParams.get(A);!Ce||(Ce.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?So(A,S,Ce):"Tab"===S.key?xo(S,Ce):[...Xo,...ca].includes(S.key)?no(S.key):"Escape"===S.key&&la(S,Ce,$))},So=(A,S,$)=>{if(!S.isComposing&&S.target&&A.getInput()&&S.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes($.input))return;or(),S.preventDefault()}},xo=(A,S)=>{const $=A.target,Ce=Wt();let ut=-1;for(let Nt=0;Nt<Ce.length;Nt++)if($===Ce[Nt]){ut=Nt;break}fo(0,ut,A.shiftKey?-1:1),A.stopPropagation(),A.preventDefault()},no=A=>{if(![ke(),Ze(),gn()].includes(document.activeElement))return;const ut=Xo.includes(A)?"nextElementSibling":"previousElementSibling",Nt=document.activeElement[ut];Nt&&Nt.focus()},la=(A,S,$)=>{ue(S.allowEscapeKey)&&(A.preventDefault(),$(Ke.esc))},go=(A,S,$)=>{S.popup.onclick=()=>{const Ce=ln.innerParams.get(A);Ce.showConfirmButton||Ce.showDenyButton||Ce.showCancelButton||Ce.showCloseButton||Ce.timer||Ce.input||$(Ke.close)}};let k=!1;const K=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(S){A.container.onmouseup=void 0,S.target===A.container&&(k=!0)}}},b=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(S){A.popup.onmouseup=void 0,(S.target===A.popup||A.popup.contains(S.target))&&(k=!0)}}},H=(A,S,$)=>{S.container.onclick=Ce=>{const ut=ln.innerParams.get(A);k?k=!1:Ce.target===S.container&&ue(ut.allowOutsideClick)&&$(Ke.backdrop)}};const Ne=(A,S)=>{const $=(A=>{const S="string"==typeof A.template?document.querySelector(A.template):A.template;if(!S)return{};const $=S.content;return Vo($),Object.assign(dr($),pi($),Pi($),Ji($),jr($),Js($,Br))})(A),Ce=Object.assign({},Ir,S,$,A);return Ce.showClass=Object.assign({},Ir.showClass,Ce.showClass),Ce.hideClass=Object.assign({},Ir.hideClass,Ce.hideClass),Ce},Dt=(A,S,$)=>new Promise((Ce,ut)=>{const Nt=hr=>{A.closePopup({isDismissed:!0,dismiss:hr})};fi.swalPromiseResolve.set(A,Ce),fi.swalPromiseReject.set(A,ut),S.confirmButton.onclick=()=>(A=>{const S=ln.innerParams.get(A);A.disableButtons(),S.input?ki(A,"confirm"):Fi(A,!0)})(A),S.denyButton.onclick=()=>(A=>{const S=ln.innerParams.get(A);A.disableButtons(),S.returnInputValueOnDeny?ki(A,"deny"):Gr(A,!1)})(A),S.cancelButton.onclick=()=>((A,S)=>{A.disableButtons(),S(Ke.cancel)})(A,Nt),S.closeButton.onclick=()=>Nt(Ke.close),((A,S,$)=>{ln.innerParams.get(A).toast?go(A,S,$):(K(S),b(S),H(A,S,$))})(A,S,Nt),((A,S,$,Ce)=>{S.keydownTarget&&S.keydownHandlerAdded&&(S.keydownTarget.removeEventListener("keydown",S.keydownHandler,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!1),$.toast||(S.keydownHandler=ut=>po(A,ut,Ce),S.keydownTarget=$.keydownListenerCapture?window:rt(),S.keydownListenerCapture=$.keydownListenerCapture,S.keydownTarget.addEventListener("keydown",S.keydownHandler,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0)})(A,Le,$,Nt),((A,S)=>{"select"===S.input||"radio"===S.input?Xs(A,S):["text","email","number","tel","textarea"].includes(S.input)&&(ne(S.inputValue)||pe(S.inputValue))&&(yr(ke()),Ao(A,S))})(A,$),Uo($),Xn(Le,$,Nt),er(S,$),setTimeout(()=>{S.container.scrollTop=0})}),sn=A=>{const S={popup:rt(),container:Ve(),actions:Kn(),confirmButton:ke(),denyButton:Ze(),cancelButton:gn(),loader:It(),closeButton:$t(),validationMessage:he(),progressSteps:He()};return ln.domCache.set(A,S),S},Xn=(A,S,$)=>{const Ce=zt();mn(Ce),S.timer&&(A.timeout=new G(()=>{$("timer"),delete A.timeout},S.timer),S.timerProgressBar&&(Sn(Ce),setTimeout(()=>{A.timeout&&A.timeout.running&&jt(S.timer)})))},er=(A,S)=>{if(!S.toast){if(!ue(S.allowEnterKey))return js();bs(A,S)||fo(0,-1,1)}},bs=(A,S)=>S.focusDeny&&pn(A.denyButton)?(A.denyButton.focus(),!0):S.focusCancel&&pn(A.cancelButton)?(A.cancelButton.focus(),!0):!(!S.focusConfirm||!pn(A.confirmButton)||(A.confirmButton.focus(),0)),js=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const ei=A=>{da(A),delete A.params,delete Le.keydownHandler,delete Le.keydownTarget,delete Le.currentInstance},da=A=>{A.isAwaitingPromise()?(yo(ln,A),ln.awaitingPromise.set(A,!0)):(yo(fi,A),yo(ln,A))},yo=(A,S)=>{for(const $ in A)A[$].delete(S)};var Zs=Object.freeze({hideLoading:bi,disableLoading:bi,getInput:function(A){const S=ln.innerParams.get(A||this),$=ln.domCache.get(A||this);return $?Gn($.popup,S.input):null},close:Oi,isAwaitingPromise:function(){return!!ln.awaitingPromise.get(this)},rejectPromise:function(A){const S=fi.swalPromiseReject.get(this);cs(this),S&&S(A)},closePopup:Oi,closeModal:Oi,closeToast:Oi,enableButtons:function(){z(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){z(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return L(this.getInput(),!1)},disableInput:function(){return L(this.getInput(),!0)},showValidationMessage:function(A){const S=ln.domCache.get(this),$=ln.innerParams.get(this);En(S.validationMessage,A),S.validationMessage.className=ae["validation-message"],$.customClass&&$.customClass.validationMessage&&kt(S.validationMessage,$.customClass.validationMessage),Sn(S.validationMessage);const Ce=this.getInput();Ce&&(Ce.setAttribute("aria-invalid",!0),Ce.setAttribute("aria-describedby",ae["validation-message"]),Fn(Ce),kt(Ce,ae.inputerror))},resetValidationMessage:function(){const A=ln.domCache.get(this);A.validationMessage&&mn(A.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),Qt(S,ae.inputerror))},getProgressSteps:function(){return ln.domCache.get(this).progressSteps},_main:function(A,S={}){(A=>{!A.backdrop&&A.allowOutsideClick&&se('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in A)uo(S),A.toast&&os(S),Kr(S)})(Object.assign({},S,A)),Le.currentInstance&&(Le.currentInstance._destroy(),fn()&&Yr()),Le.currentInstance=this;const $=Ne(A,S);cr($),Object.freeze($),Le.timeout&&(Le.timeout.stop(),delete Le.timeout),clearTimeout(Le.restoreFocusTimeout);const Ce=sn(this);return is(this,$),ln.innerParams.set(this,$),Dt(this,Ce,$)},update:function(A){const S=rt(),$=ln.innerParams.get(this);if(!S||Yn(S,$.hideClass.popup))return se("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ce={};Object.keys(A).forEach(Nt=>{_r.isUpdatableParameter(Nt)?Ce[Nt]=A[Nt]:se('Invalid parameter to update: "'.concat(Nt,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const ut=Object.assign({},$,Ce);is(this,ut),ln.innerParams.set(this,ut),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})},_destroy:function(){const A=ln.domCache.get(this),S=ln.innerParams.get(this);S?(A.popup&&Le.swalCloseEventFinishedCallback&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback),Le.deferDisposalTimer&&(clearTimeout(Le.deferDisposalTimer),delete Le.deferDisposalTimer),"function"==typeof S.didDestroy&&S.didDestroy(),ei(this)):da(this)}});let jo;class fs{constructor(...S){if("undefined"==typeof window)return;jo=this;const $=Object.freeze(this.constructor.argsToParams(S));Object.defineProperties(this,{params:{value:$,writable:!1,enumerable:!0,configurable:!0}});const Ce=this._main(this.params);ln.promise.set(this,Ce)}then(S){return ln.promise.get(this).then(S)}finally(S){return ln.promise.get(this).finally(S)}}Object.assign(fs.prototype,Zs),Object.assign(fs,Ys),Object.keys(Zs).forEach(A=>{fs[A]=function(...S){if(jo)return jo[A](...S)}}),fs.DismissReason=Ke,fs.version="11.1.9";const _r=fs;return _r.default=_r,_r}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ke,Z){var _=Ke.createElement("style");if(Ke.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=Z);else try{_.innerHTML=Z}catch(c){_.innerText=Z}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3250:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{s:()=>Ue});var _=Z(665),c=Z(8259),X=Z.n(c),se=Z(3018),Te=Z(3071),me=Z(5496);let Ue=(()=>{class Ie{constructor(ne,W,pe){this.fb=ne,this.userService=W,this.router=pe,this.sabado=!1,this.controles=this.fb.group({dia:["",_.kI.required],hora:[_.kI.required]})}ngOnInit(){}SeleccionarHorario(){var ne,W;let pe=(null===(ne=this.controles.get("dia"))||void 0===ne?void 0:ne.value)+" "+(null===(W=this.controles.get("hora"))||void 0===W?void 0:W.value);this.userService.usuarioActual.horarios.push(pe),this.userService.AgregarDisponibilidadHoraria(this.userService.usuarioActual,this.userService.usuarioActual.horarios).then(()=>{X().fire({title:"Horarios asignados",text:"Horarios asignados correctamente",icon:"success",timer:2e3}).then(()=>{this.router.navigateByUrl("/principal")})})}Sabado(ne){this.sabado=!0,console.log(this.sabado)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(se.Y36(_.qu),se.Y36(Te.K),se.Y36(me.F0))},Ie.\u0275cmp=se.Xpm({type:Ie,selectors:[["app-mis-horarios"]],decls:73,vars:1,consts:[[1,"container"],["align","center",1,"main-body"],[1,"card","col-6"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row"],["formControlName","dia"],["value","lunes"],["value","martes"],["value","miercoles"],["value","jueves"],["value","viernes"],["value","sabado"],["role","group",1,"btn-group"],[1,"col-12"],["type","radio","formControlName","hora","value","8:00"],["type","radio","formControlName","hora","value","8:30"],["type","radio","formControlName","hora","value","9:00"],["type","radio","formControlName","hora","value","9:30"],["type","radio","formControlName","hora","value","10:00"],["type","radio","formControlName","hora","value","10:30"],["type","radio","formControlName","hora","value","11:00"],["type","radio","formControlName","hora","value","11:30"],["type","radio","formControlName","hora","value","12:00"],["type","radio","formControlName","hora","value","13:00"],["type","radio","formControlName","hora","value","13:30"],["type","radio","formControlName","hora","value","14:00"],["type","radio","formControlName","hora","value","14:30"],["type","radio","formControlName","hora","value","15:00"],["type","radio","formControlName","hora","value","15:30"],["type","radio","formControlName","hora","value","16:00"],["type","radio","formControlName","hora","value","16:30"],["type","radio","formControlName","hora","value","17:00"],["type","radio","formControlName","hora","value","17:30"],["type","radio","formControlName","hora","value","18:00"],["type","radio","formControlName","hora","value","18:30"],["type","submit",1,"btn-success"]],template:function(ne,W){1&ne&&(se.TgZ(0,"div",0),se.TgZ(1,"div",1),se.TgZ(2,"div",2),se.TgZ(3,"form",3),se.NdJ("ngSubmit",function(){return W.SeleccionarHorario()}),se.TgZ(4,"div",4),se._uU(5," Seleccionar horario "),se.TgZ(6,"div",5),se.TgZ(7,"div",4),se.TgZ(8,"label"),se._uU(9,"Dia"),se.qZA(),se.TgZ(10,"select",6),se.TgZ(11,"option",7),se._uU(12,"Lunes"),se.qZA(),se.TgZ(13,"option",8),se._uU(14,"Martes"),se.qZA(),se.TgZ(15,"option",9),se._uU(16,"Miercoles"),se.qZA(),se.TgZ(17,"option",10),se._uU(18,"Jueves"),se.qZA(),se.TgZ(19,"option",11),se._uU(20,"Viernes"),se.qZA(),se.TgZ(21,"option",12),se._uU(22,"S\xe1bado"),se.qZA(),se.qZA(),se.qZA(),se.qZA(),se.TgZ(23,"div",5),se.TgZ(24,"div",4),se._uU(25," Horarios "),se.TgZ(26,"div",13),se.TgZ(27,"div",14),se._UZ(28,"input",15),se._uU(29,"8:00 "),se._UZ(30,"input",16),se._uU(31,"8:30 "),se._UZ(32,"input",17),se._uU(33,"9:00 "),se._UZ(34,"input",18),se._uU(35,"9:30 "),se._UZ(36,"input",19),se._uU(37,"10:00 "),se._UZ(38,"input",20),se._uU(39,"10:30 "),se._UZ(40,"input",21),se._uU(41,"11:00 "),se._UZ(42,"input",22),se._uU(43,"11:30 "),se._UZ(44,"input",23),se._uU(45,"12:30 "),se._UZ(46,"input",24),se._uU(47,"13:00 "),se._UZ(48,"input",25),se._uU(49,"13:30"),se._UZ(50,"br"),se._UZ(51,"input",26),se._uU(52,"14:00 "),se._UZ(53,"input",27),se._uU(54,"14:30 "),se._UZ(55,"input",28),se._uU(56,"15:00 "),se._UZ(57,"input",29),se._uU(58,"15:30 "),se._UZ(59,"input",30),se._uU(60,"16:00 "),se._UZ(61,"input",31),se._uU(62,"16:30 "),se._UZ(63,"input",32),se._uU(64,"17:00 "),se._UZ(65,"input",33),se._uU(66,"17:30 "),se._UZ(67,"input",34),se._uU(68,"18:00 "),se._UZ(69,"input",35),se._uU(70,"18:30 "),se.qZA(),se.qZA(),se.qZA(),se.qZA(),se.TgZ(71,"button",36),se._uU(72,"Seleccionar horario"),se.qZA(),se.qZA(),se.qZA(),se.qZA(),se.qZA(),se.qZA()),2&ne&&(se.xp6(3),se.Q6J("formGroup",W.controles))},directives:[_._Y,_.JL,_.sg,_.EJ,_.JJ,_.u,_.YN,_.Kr,_._,_.Fj],styles:[""]}),Ie})()},3071:(Pt,Ke,Z)=>{"use strict";Z.d(Ke,{K:()=>Ie});var _=Z(8239),c=Z(8259),X=Z.n(c),se=Z(3018),Te=Z(8006),me=Z(5496),Ue=Z(166);let Ie=(()=>{class ue{constructor(W,pe,de){this.auth=W,this.router=pe,this.firestore=de,this.logged=!1,this.todosLosEspecialistas=[],this.todasLasEspecialidades=[],this.especialistaHabilitado=!1,this.todosLosTurnos=[],W.authState.subscribe(Ae=>this.logged=Ae),this.pacienteCollection=de.collection("pacientes"),this.pacientes=this.pacienteCollection.valueChanges({idField:"id"}),this.especialistaCollection=de.collection("especialistas"),this.especialistas=this.especialistaCollection.valueChanges({idField:"id"}),this.especialidadCollection=de.collection("especialidades"),this.especialidades=this.especialidadCollection.valueChanges({idField:"id"}),this.administradorCollection=de.collection("administradores"),this.administradores=this.administradorCollection.valueChanges({idField:"id"}),this.turnoCollection=de.collection("turnos"),this.turnos=this.turnoCollection.valueChanges({idField:"id"}),this.encuestaCollection=de.collection("encuestas"),this.encuestas=this.encuestaCollection.valueChanges({idField:"id"}),this.logCollection=de.collection("logs"),this.turnosPorEspCollection=de.collection("turnosPorEsp"),this.turnosPorDiaCollection=de.collection("turnosPorDia"),this.turnosPorDia=this.turnosPorDiaCollection.valueChanges({idField:"id"}),this.turnosSolicitadosCollection=de.collection("turnosSolicitados"),this.turnosFinalizadosCollection=de.collection("turnosFinalizados"),this.especialistas.subscribe(Ae=>{this.todosLosEspecialistas=Ae}),this.pacientes.subscribe(Ae=>{this.todosLosPacientes=Ae}),this.administradores.subscribe(Ae=>{this.todosLosAdmin=Ae}),this.especialidades.subscribe(Ae=>{this.todasLasEspecialidades=Ae}),this.turnos.subscribe(Ae=>{this.todosLosTurnos=Ae})}Logout(){this.auth.signOut().then(W=>{console.log("deslogueado"),this.router.navigateByUrl("/bienvenida"),this.usuarioActual=void 0})}Login(W,pe){var de=this;return(0,_.Z)(function*(){let Ae="";for(let Je of de.todosLosAdmin)W==Je.email&&(de.usuarioActual=Je,Ae="administrador");yield de.auth.signInWithEmailAndPassword(W,pe).then(Je=>{var Be;if((null===(Be=Je.user)||void 0===Be?void 0:Be.emailVerified)||"administrador"==Ae||"paciente@paciente.com"==W||"especialista@especialista.com"==W||"administrador@administrador.com"==W){for(let be of de.todosLosEspecialistas)if(W==be.email){de.usuarioActual=be,Ae="especialista",de.especialistaHabilitado=!!be.habilitado;break}for(let be of de.todosLosPacientes)W==be.email&&(de.usuarioActual=be,Ae="paciente");"especialista"==Ae?de.especialistaHabilitado?(de.usuarioActual.tipo=Ae,de.EnviarLog(de.usuarioActual),de.router.navigateByUrl("/principal")):X().fire({title:"Error!",text:"El administrador no habilit\xf3 tu cuenta.",icon:"error",confirmButtonText:"Entendido."}):(de.usuarioActual.tipo=Ae,de.EnviarLog(de.usuarioActual),de.router.navigateByUrl("/principal"))}else X().fire({title:"Error!",text:"No verificaste el mail",icon:"error",confirmButtonText:"Entendido."})}).catch(Je=>{X().fire({title:"Error!",text:"Alguna credencial es incorrecta.",icon:"error",confirmButtonText:"Entendido."})})})()}RegistrarPaciente(W){this.auth.createUserWithEmailAndPassword(W.email,W.password).then(pe=>{var de,Ae;return null===(de=pe.user)||void 0===de||de.sendEmailVerification(),X().fire({title:"Registrado!",text:"Registrado como paciente.",icon:"success"}),setTimeout(()=>{this.router.navigateByUrl(null!=this.usuarioActual?"/admin/usuarios":"/login")},2e3),W.uid=null===(Ae=pe.user)||void 0===Ae?void 0:Ae.uid,this.pacienteCollection.add(Object.assign({},W))}).catch(pe=>{(pe.code="auth/email-already-exists")&&X().fire({title:"Error!",text:"El mail ya est\xe1 siendo usado por otro usuario.",icon:"error",confirmButtonText:"Entendido."})})}RegistrarEspecialista(W){this.auth.createUserWithEmailAndPassword(W.email,W.password).then(pe=>{var de,Ae;return null===(de=pe.user)||void 0===de||de.sendEmailVerification(),X().fire({title:"Registrado!",text:"Registrado como especialista.",icon:"success"}),setTimeout(()=>{this.router.navigateByUrl(null!=this.usuarioActual?"/admin/usuarios":"/login")},2e3),W.uid=null===(Ae=pe.user)||void 0===Ae?void 0:Ae.uid,this.especialistaCollection.add(Object.assign({},W))}).catch(pe=>{(pe.code="auth/email-already-exists")&&X().fire({title:"Error!",text:"El mail ya est\xe1 siendo usado por otro usuario.",icon:"error",confirmButtonText:"Entendido."})})}RegistrarAdministrador(W){this.auth.createUserWithEmailAndPassword(W.email,W.password).then(pe=>{var de;return X().fire({title:"Registrado!",text:"Registrado como administrador.",icon:"success"}),W.uid=null===(de=pe.user)||void 0===de?void 0:de.uid,this.administradorCollection.add(Object.assign({},W))}).catch(pe=>{(pe.code="auth/email-already-exists")&&X().fire({title:"Error!",text:"El mail ya est\xe1 siendo usado por otro usuario.",icon:"error",confirmButtonText:"Entendido."})})}AgregarEspecialidad(W){return this.especialidadCollection.add({nombre:W,foto:"https://firebasestorage.googleapis.com/v0/b/clinica-online-c3c2c.appspot.com/o/especialidades%2Fespecialidaddefault.png?alt=media&token=356e7a4c-77be-4831-bee0-ba81cec8a8cf"})}HabilitarEspecialista(W){console.log(W),this.especialistaCollection.doc(W.id).update({habilitado:!0})}DeshabilitarEspecialista(W){this.especialistaCollection.doc(W.id).update({habilitado:!1})}AgregarDisponibilidadHoraria(W,pe){return this.especialistaCollection.doc(W.id).update({horarios:pe})}SetearTurno(W){return this.turnoCollection.add(Object.assign({},W))}BorrarTurno(W){return this.turnoCollection.doc(W.id).delete()}ModificarTurno(W,pe){return this.turnoCollection.doc(W.id).update({estado:pe})}ComentarioPaciente(W,pe){return this.turnoCollection.doc(W.id).update({comentarioPaciente:pe})}ComentarioEspecialista(W,pe){return this.turnoCollection.doc(W.id).update({comentarioEspecialista:pe})}ComentarioAdministrador(W,pe){return this.turnoCollection.doc(W.id).update({comentarioAdministrador:pe})}SubirEncuesta(W){return this.encuestaCollection.add(Object.assign({},W))}Calificar(W,pe){return this.turnoCollection.doc(W.id).update({calificacion:pe})}SubirHistorialClinico(W,pe,de,Ae){this.turnoCollection.doc(W.id).update({historialMedico:de}),this.pacienteCollection.doc(pe.id).update({historialMedico:Ae})}GetHistorialMedico(W){return this.pacienteCollection.doc(W.id).valueChanges({idField:"id"})}EnviarLog(W){let pe=new Date,de={usuario:W.email,hora:pe.getHours(),dia:pe.toLocaleDateString()};this.logCollection.add(Object.assign({},de))}SetearTurnoEnElDia(){}}return ue.\u0275fac=function(W){return new(W||ue)(se.LFG(Te.zQ),se.LFG(me.F0),se.LFG(Ue.ST))},ue.\u0275prov=se.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},1645:(Pt,Ke,Z)=>{"use strict";var _=Z(8583),c=Z(3018);class X extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends X{static makeCurrent(){(0,_.HT)(new se)}onAndCancel(K,b,H){return K.addEventListener(b,H,!1),()=>{K.removeEventListener(b,H,!1)}}dispatchEvent(K,b){K.dispatchEvent(b)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,b){return(b=b||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,b){return"window"===b?window:"document"===b?K:"body"===b?K.body:null}getBaseHref(K){const b=(Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null);return null==b?null:function(k){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",k);const K=Ue.pathname;return"/"===K.charAt(0)?K:`/${K}`}(b)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,_.Mx)(document.cookie,K)}}let Ue,Te=null;const ue=new c.OlP("TRANSITION_ID"),W=[{provide:c.ip1,useFactory:function(k,K,b){return()=>{b.get(c.CZH).donePromise.then(()=>{const H=(0,_.q)(),oe=K.querySelectorAll(`style[ng-transition="${k}"]`);for(let Ne=0;Ne<oe.length;Ne++)H.remove(oe[Ne])})}},deps:[ue,_.K0,c.zs3],multi:!0}];class pe{static init(){(0,c.VLi)(new pe)}addToWindow(K){c.dqk.getAngularTestability=(H,oe=!0)=>{const Ne=K.findTestabilityInTree(H,oe);if(null==Ne)throw new Error("Could not find testability for element.");return Ne},c.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(H=>{const oe=c.dqk.getAllAngularTestabilities();let Ne=oe.length,Dt=!1;const sn=function(Xn){Dt=Dt||Xn,Ne--,0==Ne&&H(Dt)};oe.forEach(function(Xn){Xn.whenStable(sn)})})}findTestabilityInTree(K,b,H){if(null==b)return null;const oe=K.getTestability(b);return null!=oe?oe:H?(0,_.q)().isShadowRoot(b)?this.findTestabilityInTree(K,b.host,!0):this.findTestabilityInTree(K,b.parentElement,!0):null}}let de=(()=>{class k{build(){return new XMLHttpRequest}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();const he=new c.OlP("EventManagerPlugins");let ke=(()=>{class k{constructor(b,H){this._zone=H,this._eventNameToPlugin=new Map,b.forEach(oe=>oe.manager=this),this._plugins=b.slice().reverse()}addEventListener(b,H,oe){return this._findPluginFor(H).addEventListener(b,H,oe)}addGlobalEventListener(b,H,oe){return this._findPluginFor(H).addGlobalEventListener(b,H,oe)}getZone(){return this._zone}_findPluginFor(b){const H=this._eventNameToPlugin.get(b);if(H)return H;const oe=this._plugins;for(let Ne=0;Ne<oe.length;Ne++){const Dt=oe[Ne];if(Dt.supports(b))return this._eventNameToPlugin.set(b,Dt),Dt}throw new Error(`No event manager plugin found for event ${b}`)}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(he),c.LFG(c.R0b))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();class Ze{constructor(K){this._doc=K}addGlobalEventListener(K,b,H){const oe=(0,_.q)().getGlobalEventTarget(this._doc,K);if(!oe)throw new Error(`Unsupported event target ${oe} for event ${b}`);return this.addEventListener(oe,b,H)}}let Ye=(()=>{class k{constructor(){this._stylesSet=new Set}addStyles(b){const H=new Set;b.forEach(oe=>{this._stylesSet.has(oe)||(this._stylesSet.add(oe),H.add(oe))}),this.onStylesAdded(H)}onStylesAdded(b){}getAllStyles(){return Array.from(this._stylesSet)}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})(),It=(()=>{class k extends Ye{constructor(b){super(),this._doc=b,this._hostNodes=new Map,this._hostNodes.set(b.head,[])}_addStylesToHost(b,H,oe){b.forEach(Ne=>{const Dt=this._doc.createElement("style");Dt.textContent=Ne,oe.push(H.appendChild(Dt))})}addHost(b){const H=[];this._addStylesToHost(this._stylesSet,b,H),this._hostNodes.set(b,H)}removeHost(b){const H=this._hostNodes.get(b);H&&H.forEach(gn),this._hostNodes.delete(b)}onStylesAdded(b){this._hostNodes.forEach((H,oe)=>{this._addStylesToHost(b,oe,H)})}ngOnDestroy(){this._hostNodes.forEach(b=>b.forEach(gn))}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(_.K0))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();function gn(k){(0,_.q)().remove(k)}const Kn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},an=/%COMP%/g;function pt(k,K,b){for(let H=0;H<K.length;H++){let oe=K[H];Array.isArray(oe)?pt(k,oe,b):(oe=oe.replace(an,k),b.push(oe))}return b}function bt(k){return K=>{if("__ngUnwrap__"===K)return k;!1===k(K)&&(K.preventDefault(),K.returnValue=!1)}}let Yn=(()=>{class k{constructor(b,H,oe){this.eventManager=b,this.sharedStylesHost=H,this.appId=oe,this.rendererByCompId=new Map,this.defaultRenderer=new Nn(b)}createRenderer(b,H){if(!b||!H)return this.defaultRenderer;switch(H.encapsulation){case c.ifc.Emulated:{let oe=this.rendererByCompId.get(H.id);return oe||(oe=new fr(this.eventManager,this.sharedStylesHost,H,this.appId),this.rendererByCompId.set(H.id,oe)),oe.applyToHost(b),oe}case 1:case c.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,b,H);default:if(!this.rendererByCompId.has(H.id)){const oe=pt(H.id,H.styles,[]);this.sharedStylesHost.addStyles(oe),this.rendererByCompId.set(H.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(ke),c.LFG(It),c.LFG(c.AFp))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();class Nn{constructor(K){this.eventManager=K,this.data=Object.create(null)}destroy(){}createElement(K,b){return b?document.createElementNS(Kn[b]||b,K):document.createElement(K)}createComment(K){return document.createComment(K)}createText(K){return document.createTextNode(K)}appendChild(K,b){K.appendChild(b)}insertBefore(K,b,H){K&&K.insertBefore(b,H)}removeChild(K,b){K&&K.removeChild(b)}selectRootElement(K,b){let H="string"==typeof K?document.querySelector(K):K;if(!H)throw new Error(`The selector "${K}" did not match any elements`);return b||(H.textContent=""),H}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,b,H,oe){if(oe){b=oe+":"+b;const Ne=Kn[oe];Ne?K.setAttributeNS(Ne,b,H):K.setAttribute(b,H)}else K.setAttribute(b,H)}removeAttribute(K,b,H){if(H){const oe=Kn[H];oe?K.removeAttributeNS(oe,b):K.removeAttribute(`${H}:${b}`)}else K.removeAttribute(b)}addClass(K,b){K.classList.add(b)}removeClass(K,b){K.classList.remove(b)}setStyle(K,b,H,oe){oe&(c.JOm.DashCase|c.JOm.Important)?K.style.setProperty(b,H,oe&c.JOm.Important?"important":""):K.style[b]=H}removeStyle(K,b,H){H&c.JOm.DashCase?K.style.removeProperty(b):K.style[b]=""}setProperty(K,b,H){K[b]=H}setValue(K,b){K.nodeValue=b}listen(K,b,H){return"string"==typeof K?this.eventManager.addGlobalEventListener(K,b,bt(H)):this.eventManager.addEventListener(K,b,bt(H))}}class fr extends Nn{constructor(K,b,H,oe){super(K),this.component=H;const Ne=pt(oe+"-"+H.id,H.styles,[]);b.addStyles(Ne),this.contentAttr="_ngcontent-%COMP%".replace(an,oe+"-"+H.id),this.hostAttr="_nghost-%COMP%".replace(an,oe+"-"+H.id)}applyToHost(K){super.setAttribute(K,this.hostAttr,"")}createElement(K,b){const H=super.createElement(K,b);return super.setAttribute(H,this.contentAttr,""),H}}class kt extends Nn{constructor(K,b,H,oe){super(K),this.sharedStylesHost=b,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ne=pt(oe.id,oe.styles,[]);for(let Dt=0;Dt<Ne.length;Dt++){const sn=document.createElement("style");sn.textContent=Ne[Dt],this.shadowRoot.appendChild(sn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(K,b){return super.appendChild(this.nodeOrShadowRoot(K),b)}insertBefore(K,b,H){return super.insertBefore(this.nodeOrShadowRoot(K),b,H)}removeChild(K,b){return super.removeChild(this.nodeOrShadowRoot(K),b)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}}let Qt=(()=>{class k extends Ze{constructor(b){super(b)}supports(b){return!0}addEventListener(b,H,oe){return b.addEventListener(H,oe,!1),()=>this.removeEventListener(b,H,oe)}removeEventListener(b,H,oe){return b.removeEventListener(H,oe)}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(_.K0))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();const Ln=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zr={alt:k=>k.altKey,control:k=>k.ctrlKey,meta:k=>k.metaKey,shift:k=>k.shiftKey};let ve=(()=>{class k extends Ze{constructor(b){super(b)}supports(b){return null!=k.parseEventName(b)}addEventListener(b,H,oe){const Ne=k.parseEventName(H),Dt=k.eventCallback(Ne.fullKey,oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(b,Ne.domEventName,Dt))}static parseEventName(b){const H=b.toLowerCase().split("."),oe=H.shift();if(0===H.length||"keydown"!==oe&&"keyup"!==oe)return null;const Ne=k._normalizeKey(H.pop());let Dt="";if(Ln.forEach(Xn=>{const er=H.indexOf(Xn);er>-1&&(H.splice(er,1),Dt+=Xn+".")}),Dt+=Ne,0!=H.length||0===Ne.length)return null;const sn={};return sn.domEventName=oe,sn.fullKey=Dt,sn}static getEventFullKey(b){let H="",oe=function(k){let K=k.key;if(null==K){if(K=k.keyIdentifier,null==K)return"Unidentified";K.startsWith("U+")&&(K=String.fromCharCode(parseInt(K.substring(2),16)),3===k.location&&lr.hasOwnProperty(K)&&(K=lr[K]))}return Ut[K]||K}(b);return oe=oe.toLowerCase()," "===oe?oe="space":"."===oe&&(oe="dot"),Ln.forEach(Ne=>{Ne!=oe&&zr[Ne](b)&&(H+=Ne+".")}),H+=oe,H}static eventCallback(b,H,oe){return Ne=>{k.getEventFullKey(Ne)===b&&oe.runGuarded(()=>H(Ne))}}static _normalizeKey(b){switch(b){case"esc":return"escape";default:return b}}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(_.K0))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();const Or=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:_.bD},{provide:c.g9A,useValue:function(){se.makeCurrent(),pe.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),ns=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:he,useClass:Qt,multi:!0,deps:[_.K0,c.R0b,c.Lbi]},{provide:he,useClass:ve,multi:!0,deps:[_.K0]},[],{provide:Yn,useClass:Yn,deps:[ke,It,c.AFp]},{provide:c.FYo,useExisting:Yn},{provide:Ye,useExisting:It},{provide:It,useClass:It,deps:[_.K0]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ke,useClass:ke,deps:[he,c.R0b]},{provide:_.JF,useClass:de,deps:[]},[]];let ln=(()=>{class k{constructor(b){if(b)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(b){return{ngModule:k,providers:[{provide:c.AFp,useValue:b.appId},{provide:ue,useExisting:c.AFp},W]}}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(k,12))},k.\u0275mod=c.oAB({type:k}),k.\u0275inj=c.cJS({providers:ns,imports:[_.ez,c.hGG]}),k})();"undefined"!=typeof window&&window;var Hn=Z(5496);const Jn=function(){return["/login"]},Cr=function(){return["/registro"]};let rs=(()=>{class k{constructor(){}ngOnInit(){}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-bienvenida"]],decls:22,vars:4,consts:[[1,"px-4","py-5","my-5","text-center","slide-in-top",2,"font-family","OldSansBlack"],["src","../assets/images/clinica.png","alt","","width","72","height","70",1,"d-block","mx-auto","mb-4"],[1,"display-5","fw-bold"],[1,"col-lg-6","mx-auto","slide-in-top",2,"margin-top","3cm"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-white","rounded-3",2,"background-color","rgba(0, 0, 0, 0.705)"],["type","button",1,"btn","btn-primary","btn-lg","px-4","gap-3",3,"routerLink"],[1,"h-100","p-5","border","rounded-3",2,"background-color","rgba(255, 255, 255, 0.705)"],["type","button",1,"btn","btn-secondary","btn-lg","px-4",3,"routerLink"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c._UZ(1,"img",1),c.TgZ(2,"h1",2),c._uU(3,"\xa1Bienvenido a Clinica OnLine!"),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"h2"),c._uU(9,"Entr\xe1 con tu cuenta"),c.qZA(),c.TgZ(10,"p"),c._uU(11,"Ingres\xe1 los datos registrados en el sistema y entr\xe1 como paciente, especialista o administrador."),c.qZA(),c.TgZ(12,"button",7),c._uU(13,"Iniciar sesi\xf3n"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",5),c.TgZ(15,"div",8),c.TgZ(16,"h2"),c._uU(17,"Cre\xe1 tu cuenta"),c.qZA(),c.TgZ(18,"p"),c._uU(19,"Ingres\xe1 los datos necesarios para registrar tu cuenta en nuestra cl\xednica OnLine."),c.qZA(),c.TgZ(20,"button",9),c._uU(21,"Registrarse"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(12),c.Q6J("routerLink",c.DdM(2,Jn)),c.xp6(8),c.Q6J("routerLink",c.DdM(3,Cr)))},directives:[Hn.rH],styles:[".slide-in-top[_ngcontent-%COMP%]{animation:slide-in-top .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes slide-in-top{0%{transform:translateY(-1000px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),k})();var mt=Z(665),is=Z(8259),Rr=Z.n(is),or=Z(3071);let hi=(()=>{class k{constructor(b,H,oe){this.fb=b,this.userService=H,this.router=oe,this.cerrarEmitter=new c.vpe,this.controles=this.fb.group({comodidad:["",mt.kI.required],atencion:["normal",mt.kI.required],volveria:["",mt.kI.required]})}ngOnInit(){}MandarEncuesta(){var b,H,oe,Ne;let Dt,sn=!0;Dt=50==(null===(b=this.controles.get("comodidad"))||void 0===b?void 0:b.value)?"Media":(null===(H=this.controles.get("comodidad"))||void 0===H?void 0:H.value)<50?"Baja":"Alta",""==(null===(oe=this.controles.get("volveria"))||void 0===oe?void 0:oe.value)&&(sn=!1);let Xn={comodidad:Dt,atencion:null===(Ne=this.controles.get("atencion"))||void 0===Ne?void 0:Ne.value,volveria:sn};this.userService.SubirEncuesta(Xn).then(()=>{Rr().fire({title:"Encuesta creada",text:"La encuesta se cre\xf3 con exito",icon:"success",timer:2e3}).then(()=>{this.cerrarEmitter.emit(!1),this.router.navigateByUrl("/mis-turnos")})})}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(mt.qu),c.Y36(or.K),c.Y36(Hn.F0))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-encuesta"]],outputs:{cerrarEmitter:"cerrarEmitter"},decls:29,vars:1,consts:[[1,"container","card",2,"width","12cm","font-family","OldSansBlack"],[1,"py-5","text-center"],[1,"container","text-center",2,"width","10cm"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-sm-12"],["for","firstName",1,"form-label"],["type","range","formArrayName","comodidad","id","comodidad","placeholder","","required","",1,"form-control"],[1,"form-label"],["type","checkbox","formControlName","volveria","required",""],["type","radio","formControlName","atencion","name","atencion","value","excelente","required",""],["type","radio","formControlName","atencion","name","atencion","value","normal","checked",""],["type","radio","formControlName","atencion","name","atencion","value","pesima","required",""],["type","submit",1,"btn","btn-success"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h2"),c._uU(3,"Encuesta"),c.qZA(),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"form",3),c.NdJ("ngSubmit",function(){return H.MandarEncuesta()}),c.TgZ(6,"div",4),c.TgZ(7,"label",5),c._uU(8,"Comodidad"),c.qZA(),c._UZ(9,"input",6),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"label",7),c._uU(12,"\xbfVolver\xeda?"),c.qZA(),c._UZ(13,"input",8),c.qZA(),c.TgZ(14,"div",4),c.TgZ(15,"label",7),c._uU(16,"\xbfC\xf3mo fue la recepcion?"),c.qZA(),c._UZ(17,"br"),c._UZ(18,"input",9),c._uU(19,"Excelente"),c._UZ(20,"br"),c._UZ(21,"input",10),c._uU(22,"Normal"),c._UZ(23,"br"),c._UZ(24,"input",11),c._uU(25,"P\xe9sima"),c._UZ(26,"br"),c.qZA(),c.TgZ(27,"button",12),c._uU(28,"Finalizar encuesta"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(5),c.Q6J("formGroup",H.controles))},directives:[mt._Y,mt.JL,mt.sg,mt.CE,mt.Wl,mt.Zs,mt.JJ,mt.u,mt._,mt.Fj,mt.Q7],styles:[""]}),k})(),Pr=(()=>{class k{constructor(b){this.userService=b}canActivate(b,H){return"administrador"==this.userService.usuarioActual.tipo}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(or.K))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),wi=(()=>{class k{constructor(b){this.userService=b}canActivate(b,H){return"paciente"==this.userService.usuarioActual.tipo||"administrador"==this.userService.usuarioActual.tipo}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(or.K))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Wr=(()=>{class k{constructor(b){this.userService=b}canActivate(b,H){return"paciente"==this.userService.usuarioActual.tipo||"especialista"==this.userService.usuarioActual.tipo}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(or.K))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),yr=(()=>{class k{constructor(b){this.userService=b}canActivate(b,H){return"especialista"==this.userService.usuarioActual.tipo||"paciente"==this.userService.usuarioActual.tipo||"administrador"==this.userService.usuarioActual.tipo}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(or.K))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Pe=function(){return["/bienvenida"]};let $e=(()=>{class k{constructor(){}ngOnInit(){}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-error"]],decls:71,vars:2,consts:[[1,"container"],[1,"error"],[1,"btn-primary","btn-danger",3,"routerLink"],[1,"stack-container"],[1,"card-container"],[1,"perspec",2,"--spreaddist","125px","--scaledist",".75","--vertdist","-25px"],[1,"card"],[1,"writing"],[1,"topbar"],[1,"red"],[1,"yellow"],[1,"green"],[1,"code"],[1,"perspec",2,"--spreaddist","100px","--scaledist",".8","--vertdist","-20px"],[1,"perspec",2,"--spreaddist","75px","--scaledist",".85","--vertdist","-15px"],[1,"perspec",2,"--spreaddist","50px","--scaledist",".9","--vertdist","-10px"],[1,"perspec",2,"--spreaddist","25px","--scaledist",".95","--vertdist","-5px"],[1,"perspec",2,"--spreaddist","0px","--scaledist","1","--vertdist","0px"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1"),c._uU(3,"404"),c.qZA(),c.TgZ(4,"h2"),c._uU(5,"Error"),c.qZA(),c.TgZ(6,"p"),c._uU(7,"Algo no fue bien..."),c.qZA(),c.TgZ(8,"button",2),c._uU(9,"Volver"),c.qZA(),c.qZA(),c.TgZ(10,"div",3),c.TgZ(11,"div",4),c.TgZ(12,"div",5),c.TgZ(13,"div",6),c.TgZ(14,"div",7),c.TgZ(15,"div",8),c._UZ(16,"div",9),c._UZ(17,"div",10),c._UZ(18,"div",11),c.qZA(),c.TgZ(19,"div",12),c._UZ(20,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",4),c.TgZ(22,"div",13),c.TgZ(23,"div",6),c.TgZ(24,"div",7),c.TgZ(25,"div",8),c._UZ(26,"div",9),c._UZ(27,"div",10),c._UZ(28,"div",11),c.qZA(),c.TgZ(29,"div",12),c._UZ(30,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"div",4),c.TgZ(32,"div",14),c.TgZ(33,"div",6),c.TgZ(34,"div",7),c.TgZ(35,"div",8),c._UZ(36,"div",9),c._UZ(37,"div",10),c._UZ(38,"div",11),c.qZA(),c.TgZ(39,"div",12),c._UZ(40,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(41,"div",4),c.TgZ(42,"div",15),c.TgZ(43,"div",6),c.TgZ(44,"div",7),c.TgZ(45,"div",8),c._UZ(46,"div",9),c._UZ(47,"div",10),c._UZ(48,"div",11),c.qZA(),c.TgZ(49,"div",12),c._UZ(50,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(51,"div",4),c.TgZ(52,"div",16),c.TgZ(53,"div",6),c.TgZ(54,"div",7),c.TgZ(55,"div",8),c._UZ(56,"div",9),c._UZ(57,"div",10),c._UZ(58,"div",11),c.qZA(),c.TgZ(59,"div",12),c._UZ(60,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(61,"div",4),c.TgZ(62,"div",17),c.TgZ(63,"div",6),c.TgZ(64,"div",7),c.TgZ(65,"div",8),c._UZ(66,"div",9),c._UZ(67,"div",10),c._UZ(68,"div",11),c.qZA(),c.TgZ(69,"div",12),c._UZ(70,"ul"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(8),c.Q6J("routerLink",c.DdM(1,Pe)))},directives:[Hn.rH],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{padding:0;margin:0;font-family:"Quicksand",sans-serif;font-weight:400;overflow:hidden}.writing[_ngcontent-%COMP%]{width:320px;height:200px;background-color:#3f3f3f;border:1px solid #bbbbbb;border-radius:6px 6px 4px 4px;position:relative}.writing[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{position:absolute;width:100%;height:12px;background-color:#f1f1f1;border-top-left-radius:4px;border-top-right-radius:4px}.writing[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:6px;width:6px;border-radius:50%;margin:3px;float:left}.writing[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   div.green[_ngcontent-%COMP%]{background-color:#60d060}.writing[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   div.red[_ngcontent-%COMP%]{background-color:red}.writing[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]   div.yellow[_ngcontent-%COMP%]{background-color:#e6c015}.writing[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{padding:15px}.writing[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.writing[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#9e9e9e;width:0;height:7px;border-radius:6px;margin:10px 0}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;width:100%;transition:transform .5s}.stack-container[_ngcontent-%COMP%]{position:relative;width:420px;height:210px;transition:width 1s,height 1s}.pokeup[_ngcontent-%COMP%]{transition:all .3s ease}.pokeup[_ngcontent-%COMP%]:hover{transform:translateY(-10px);transition:.3s ease}.error[_ngcontent-%COMP%]{width:400px;padding:40px;text-align:center}.error[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:125px;padding:0;margin:0;font-weight:700}.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:-30px 0 0;padding:0;font-size:47px;letter-spacing:12px}.perspec[_ngcontent-%COMP%]{perspective:1000px}.writeLine[_ngcontent-%COMP%]{animation:writeLine .4s linear forwards}.explode[_ngcontent-%COMP%]{animation:explode .5s ease-in-out forwards}.card[_ngcontent-%COMP%]{animation:tiltcard .5s ease-in-out 1s forwards;position:absolute}@keyframes tiltcard{0%{transform:rotateY(0)}to{transform:rotateY(-30deg)}}@keyframes explode{0%{transform:translate(0) scale(1)}to{transform:translate(var(--spreaddist),var(--vertdist)) scale(var(--scaledist))}}@keyframes writeLine{0%{width:0}to{width:var(--linelength)}}@media screen and (max-width: 1000px){.container[_ngcontent-%COMP%]{transform:scale(.85)}}@media screen and (max-width: 850px){.container[_ngcontent-%COMP%]{transform:scale(.75)}}@media screen and (max-width: 775px){.container[_ngcontent-%COMP%]{flex-wrap:wrap-reverse;align-items:inherit}}@media screen and (max-width: 370px){.container[_ngcontent-%COMP%]{transform:scale(.6)}}']}),k})();function Le(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.TgZ(1,"img",18),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().LoguearseUsuario(Ne.email,Ne.password)}),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Q6J("src",b.fotos[0],c.LSH)}}function _t(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.TgZ(1,"img",18),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().LoguearseUsuario(Ne.email,Ne.password)}),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Q6J("src",b.foto,c.LSH)}}function At(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.TgZ(1,"img",18),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().LoguearseUsuario(Ne.email,Ne.password)}),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Q6J("src",b.foto,c.LSH)}}function on(k,K){1&k&&c._UZ(0,"img",19)}let Pn=(()=>{class k{constructor(b,H){this.userSevice=b,this.router=H,this.email="",this.password="",this.loading=!1,this.userSevice.pacientes.subscribe(oe=>{this.pacientesDePrueba=oe.filter(Ne=>1==Ne.prueba)}),this.userSevice.especialistas.subscribe(oe=>{this.especialistasDePrueba=oe.filter(Ne=>1==Ne.prueba)}),this.userSevice.administradores.subscribe(oe=>{this.administradoresDePrueba=oe.filter(Ne=>1==Ne.prueba)})}ngOnInit(){}Loguearse(){this.loading=!0,setTimeout(()=>{this.userSevice.Login(this.email,this.password),this.loading=!1},2e3)}LoguearseUsuario(b,H){this.email=b,this.password=H,this.Loguearse()}LoguearseEspecialista(){this.email="especialista@especialista.com",this.password="123123",this.Loguearse()}LoguearseAdministrador(){this.email="administrador@administrador.com",this.password="123123",this.Loguearse()}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K),c.Y36(Hn.F0))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"container","col-xl-10","col-xxl-8","px-4","py-5",2,"font-family","OldSansBlack","text-align","center"],[1,"row","align-items-center","g-lg-5","py-5"],[1,"display-4","fw-bold","lh-1","mb-3","flip-in-hor-bottom"],[1,"fs-4","flip-in-hor-bottom"],[1,"col-md-10","mx-auto","col-lg-5"],[1,"p-4","p-md-5","border","rounded-3","bg-light","flip-in-hor-bottom"],[1,"form-floating","mb-3"],["type","email","name","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","value","ngModelChange"],["for","floatingInput"],["type","password","name","password","placeholder","Password",1,"form-control",3,"ngModel","value","ngModelChange"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary",3,"click"],[1,"float-cont"],["class","float-button",4,"ngFor","ngForOf"],[1,"float-contEsp"],[1,"float-contAdmin"],["src","../../../assets/images/spinner.gif","height","100px","width","100px",4,"ngIf"],[1,"float-button"],["width","45px",3,"src","click"],["src","../../../assets/images/spinner.gif","height","100px","width","100px"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1",2),c._uU(3,"Inicio de sesi\xf3n"),c.qZA(),c.TgZ(4,"p",3),c._uU(5,"Ingrese su e-mail y su contrase\xf1a"),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"form",5),c.TgZ(8,"div",6),c.TgZ(9,"input",7),c.NdJ("ngModelChange",function(Ne){return H.email=Ne}),c.qZA(),c.TgZ(10,"label",8),c._uU(11,"Email"),c.qZA(),c.qZA(),c.TgZ(12,"div",6),c.TgZ(13,"input",9),c.NdJ("ngModelChange",function(Ne){return H.password=Ne}),c.qZA(),c.TgZ(14,"label",10),c._uU(15,"Password"),c.qZA(),c.qZA(),c.TgZ(16,"button",11),c.NdJ("click",function(){return H.Loguearse()}),c._uU(17,"Iniciar sesi\xf3n"),c.qZA(),c.qZA(),c.TgZ(18,"div",12),c.YNc(19,Le,2,1,"button",13),c.qZA(),c.TgZ(20,"div",14),c.YNc(21,_t,2,1,"button",13),c.qZA(),c.TgZ(22,"div",15),c.YNc(23,At,2,1,"button",13),c.qZA(),c.YNc(24,on,1,0,"img",16),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(9),c.s9C("value",H.email),c.Q6J("ngModel",H.email),c.xp6(4),c.s9C("value",H.password),c.Q6J("ngModel",H.password),c.xp6(6),c.Q6J("ngForOf",H.pacientesDePrueba),c.xp6(2),c.Q6J("ngForOf",H.especialistasDePrueba),c.xp6(2),c.Q6J("ngForOf",H.administradoresDePrueba),c.xp6(1),c.Q6J("ngIf",H.loading))},directives:[mt._Y,mt.JL,mt.F,mt.Fj,mt.JJ,mt.On,_.sg,_.O5],styles:[".float-cont[_ngcontent-%COMP%]{position:fixed;display:flex;grid-gap:15px;gap:15px;bottom:40px;right:40px}.float-contEsp[_ngcontent-%COMP%]{position:fixed;display:flex;grid-gap:15px;gap:15px;bottom:105px;right:40px}.float-contAdmin[_ngcontent-%COMP%]{position:fixed;display:flex;grid-gap:15px;gap:15px;bottom:170px;right:40px}.float-button[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;box-shadow:2px 4px 3px #999;border-radius:50px;overflow:hidden}.flip-in-hor-bottom[_ngcontent-%COMP%]{animation:flip-in-hor-bottom .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes flip-in-hor-bottom{0%{transform:rotateX(80deg);opacity:0}to{transform:rotateX(0);opacity:1}}"]}),k})();var Tn=Z(3250);function vn(k,K){1&k&&(c.TgZ(0,"h2"),c._uU(1,"Fotos"),c.qZA())}function kr(k,K){1&k&&(c.TgZ(0,"h2"),c._uU(1,"Foto"),c.qZA())}function $r(k,K){1&k&&c._UZ(0,"img",19),2&k&&c.s9C("src",K.$implicit,c.LSH)}function On(k,K){if(1&k&&(c.TgZ(0,"div",5),c.YNc(1,$r,1,1,"img",18),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.Q6J("ngForOf",b.userService.usuarioActual.fotos)}}function ii(k,K){if(1&k&&(c.TgZ(0,"div"),c._UZ(1,"img",19),c._UZ(2,"div"),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.s9C("src",b.userService.usuarioActual.foto,c.LSH)}}function ji(k,K){if(1&k&&(c.TgZ(0,"div",12),c._UZ(1,"hr"),c.TgZ(2,"div",13),c.TgZ(3,"h6",14),c._uU(4,"Obra social"),c.qZA(),c.qZA(),c.TgZ(5,"div",15),c._uU(6),c.qZA(),c.qZA()),2&k){const b=c.oxw();c.xp6(6),c.hij(" ",b.userService.usuarioActual.obraSocial," ")}}function Ur(k,K){if(1&k&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c._uU(2),c.qZA(),c.qZA()),2&k){const b=K.$implicit;c.xp6(2),c.Oqu(b)}}function Ir(k,K){if(1&k&&(c.TgZ(0,"div",12),c._UZ(1,"hr"),c.TgZ(2,"div",20),c.TgZ(3,"h6"),c._uU(4,"Horarios del especialista"),c.qZA(),c.TgZ(5,"div",15),c.YNc(6,Ur,3,1,"ul",21),c.qZA(),c.qZA(),c.qZA()),2&k){const b=c.oxw();c.xp6(6),c.Q6J("ngForOf",b.userService.usuarioActual.horarios)}}function Ki(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"button",22),c.NdJ("click",function(){return c.CHM(b),c.oxw().MostrarHistorial()}),c._uU(2,"Ver historial cl\xednico"),c.qZA(),c.qZA()}}function Ws(k,K){if(1&k&&(c.TgZ(0,"div"),c.TgZ(1,"label"),c._uU(2),c.qZA(),c.qZA()),2&k){const b=K.$implicit;c.xp6(2),c.AsE("",b.key," : ",b.value,"")}}function gr(k,K){if(1&k&&(c.TgZ(0,"div",25),c.YNc(1,Ws,3,2,"div",21),c.ALo(2,"keyvalue"),c._UZ(3,"hr"),c.qZA()),2&k){const b=K.$implicit;c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,b))}}function Mi(k,K){if(1&k&&(c.TgZ(0,"div",23),c.TgZ(1,"h1"),c._uU(2,"Historia cl\xednica"),c.qZA(),c.YNc(3,gr,4,3,"div",24),c.qZA()),2&k){const b=c.oxw();c.xp6(3),c.Q6J("ngForOf",b.userService.usuarioActual.historialMedico)}}function ss(k,K){1&k&&c._UZ(0,"app-mis-horarios")}let Ls=(()=>{class k{constructor(b){this.userService=b,this.mostrarHistorial=!1}ngOnInit(){}MostrarHistorial(){this.mostrarHistorial=!0}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-mi-perfil"]],decls:41,vars:13,consts:[[1,"container",2,"font-family","OldSansBlack"],["align","center",1,"main-body"],[1,"col-sm-6"],[1,"card"],[1,"card-body"],[1,"text-center"],[4,"ngIf","ngIfElse"],["foto",""],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"col-mb-6"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],["class","row",4,"ngIf"],["class","col-sm-6 card",4,"ngIf"],["width","150",3,"src",4,"ngFor","ngForOf"],["width","150",3,"src"],[1,"col-sm-12","text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"col-sm-6","card"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"]],template:function(b,H){if(1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.YNc(6,vn,2,0,"h2",6),c.YNc(7,kr,2,0,"ng-template",null,7,c.W1O),c.TgZ(9,"div"),c.YNc(10,On,2,1,"div",8),c.YNc(11,ii,3,1,"div",9),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"div",11),c.TgZ(14,"div",4),c.TgZ(15,"div",12),c.TgZ(16,"div",13),c.TgZ(17,"h6",14),c._uU(18,"Nombre completo"),c.qZA(),c.qZA(),c.TgZ(19,"div",15),c._uU(20),c.qZA(),c.qZA(),c._UZ(21,"hr"),c.TgZ(22,"div",12),c.TgZ(23,"div",13),c.TgZ(24,"h6",14),c._uU(25,"Email"),c.qZA(),c.qZA(),c.TgZ(26,"div",15),c._uU(27),c.qZA(),c.qZA(),c._UZ(28,"hr"),c.TgZ(29,"div",12),c.TgZ(30,"div",13),c.TgZ(31,"h6",14),c._uU(32,"DNI"),c.qZA(),c.qZA(),c.TgZ(33,"div",15),c._uU(34),c.qZA(),c.qZA(),c.YNc(35,ji,7,1,"div",16),c.YNc(36,Ir,7,1,"div",16),c.YNc(37,Ki,3,0,"div",9),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(38,Mi,4,1,"div",17),c.TgZ(39,"div"),c.YNc(40,ss,1,0,"app-mis-horarios",9),c.qZA(),c.qZA(),c.qZA()),2&b){const oe=c.MAs(8);c.xp6(6),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo)("ngIfElse",oe),c.xp6(4),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","paciente"!=H.userService.usuarioActual.tipo),c.xp6(9),c.AsE(" ",H.userService.usuarioActual.nombre," ",H.userService.usuarioActual.apellido," "),c.xp6(7),c.hij(" ",H.userService.usuarioActual.email," "),c.xp6(7),c.hij(" ",H.userService.usuarioActual.dni," "),c.xp6(1),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","especialista"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo&&H.userService.usuarioActual.historialMedico),c.xp6(1),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo&&H.userService.usuarioActual.historialMedico&&H.mostrarHistorial),c.xp6(2),c.Q6J("ngIf","especialista"==H.userService.usuarioActual.tipo)}},directives:[_.O5,_.sg,Tn.s],pipes:[_.Nd],styles:["body[_ngcontent-%COMP%]{margin-top:20px;color:#1a202c;text-align:left;background-color:#e2e8f0}.main-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:0 solid rgba(0,0,0,.125);border-radius:.25rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1rem}.gutters-sm[_ngcontent-%COMP%]{margin-right:-8px;margin-left:-8px}.gutters-sm[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%], .gutters-sm[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.mb-3[_ngcontent-%COMP%], .my-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.bg-gray-300[_ngcontent-%COMP%]{background-color:#e2e8f0}.h-100[_ngcontent-%COMP%]{height:100%!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}"]}),k})();var uo=Z(8239);let os=(()=>{class k{constructor(b){this.element=b}set appHabilitarDeshabilitar(b){console.log(b),console.log(this.element),this.element.nativeElement.style.backgroundColor="cancelado"==b||"rechazado"==b?"rgb(235, 131, 131)":"pendiente"==b?"rgb(199, 165, 165)":"finalizado"==b?"rgb(165, 171, 199)":"rgb(165, 216, 192)"}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(c.SBq))},k.\u0275dir=c.lG2({type:k,selectors:[["","appHabilitarDeshabilitar",""]],inputs:{appHabilitarDeshabilitar:"appHabilitarDeshabilitar"}}),k})(),Kr=(()=>{class k{constructor(b){this.element=b}set appEstados(b){console.log(b),console.log(this.element),this.element.nativeElement.style.backgroundColor="cancelado"==b||"rechazado"==b?"red":"pendiente"==b?"grey":"finalizado"==b?"rgb(107, 109, 182)":"green"}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(c.SBq))},k.\u0275dir=c.lG2({type:k,selectors:[["","appEstados",""]],inputs:{appEstados:"appEstados"}}),k})(),Ks=(()=>{class k{constructor(b,H){this.fb=b,this.userService=H,this.cerrarEmitter=new c.vpe,this.controles=this.fb.group({altura:["",mt.kI.required],peso:["",mt.kI.required],temperatura:["",mt.kI.required],presion:["",mt.kI.required],datoUno:["",mt.kI.required],datoUnoNom:["",mt.kI.required],datoDos:["",mt.kI.required],datoDosNom:["",mt.kI.required],datoTres:["",mt.kI.required],datoTresNom:["",mt.kI.required]}),this.userService.pacientes.subscribe(oe=>{for(let Ne of oe)if(Ne.dni==this.turno.paciente){this.pacienteDelHistorial=Ne,console.log(this.pacienteDelHistorial);break}})}ngOnInit(){}EnviarHistorial(){var b,H,oe,Ne,Dt,sn,Xn,er,bs,js;let xs,mo={altura:null===(b=this.controles.get("altura"))||void 0===b?void 0:b.value,peso:null===(H=this.controles.get("peso"))||void 0===H?void 0:H.value,temperatura:null===(oe=this.controles.get("temperatura"))||void 0===oe?void 0:oe.value,presion:null===(Ne=this.controles.get("presion"))||void 0===Ne?void 0:Ne.value};mo[null===(Dt=this.controles.get("datoUnoNom"))||void 0===Dt?void 0:Dt.value]=null===(sn=this.controles.get("datoUno"))||void 0===sn?void 0:sn.value,mo[null===(Xn=this.controles.get("datoDosNom"))||void 0===Xn?void 0:Xn.value]=null===(er=this.controles.get("datoDos"))||void 0===er?void 0:er.value,mo[null===(bs=this.controles.get("datoTresNom"))||void 0===bs?void 0:bs.value]=null===(js=this.controles.get("datoTres"))||void 0===js?void 0:js.value,this.userService.GetHistorialMedico(this.pacienteDelHistorial).subscribe(ei=>{xs=ei}),Rr().fire({title:"Historial medico realizado con exito",icon:"success",timer:2e3,timerProgressBar:!0}).then(()=>{setTimeout(()=>{xs&&(xs.historialMedico.push(mo),this.userService.SubirHistorialClinico(this.turno,this.pacienteDelHistorial,mo,xs.historialMedico))},2e3),this.cerrarEmitter.emit(!1)})}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(mt.qu),c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-historial-medico"]],inputs:{turno:"turno"},outputs:{cerrarEmitter:"cerrarEmitter"},decls:48,vars:1,consts:[[1,"row","justify-content-around",2,"column-gap","25px","row-gap","25px"],[1,"col-12","col-md-6","row","bg-light","rounded","text-center"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"col-md-12"],["formControlName","altura","type","number",1,"form-"],["formControlName","peso","type","number"],["formControlName","temperatura","type","number"],["formControlName","presion","type","number"],["formControlName","datoUnoNom","type","text"],["formControlName","datoUno","type","number"],["formControlName","datoDosNom","type","text"],["formControlName","datoDos","type","number"],["formControlName","datoTresNom","type","text"],["formControlName","datoTres","type","number"],["type","submit",1,"btn","btn-success"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1"),c._uU(3,"Historia cl\xednica"),c.qZA(),c.TgZ(4,"form",2),c.NdJ("ngSubmit",function(){return H.EnviarHistorial()}),c.TgZ(5,"div",3),c.TgZ(6,"div",4),c.TgZ(7,"label"),c._uU(8,"Altura (en cm)"),c.qZA(),c._UZ(9,"input",5),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"label"),c._uU(12,"Peso"),c.qZA(),c._UZ(13,"input",6),c.qZA(),c.TgZ(14,"div",4),c.TgZ(15,"label"),c._uU(16,"Temperatura"),c.qZA(),c._UZ(17,"input",7),c.qZA(),c.TgZ(18,"div",4),c.TgZ(19,"label"),c._uU(20,"Presion"),c.qZA(),c._UZ(21,"input",8),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"label"),c._uU(24,"Dato personalizado 1"),c.qZA(),c._UZ(25,"input",9),c.qZA(),c.TgZ(26,"div",4),c.TgZ(27,"label"),c._uU(28,"Cantidad"),c.qZA(),c._UZ(29,"input",10),c.qZA(),c.TgZ(30,"div",4),c.TgZ(31,"label"),c._uU(32,"Dato personalizado 2"),c.qZA(),c._UZ(33,"input",11),c.qZA(),c.TgZ(34,"div",4),c.TgZ(35,"label"),c._uU(36,"Cantidad"),c.qZA(),c._UZ(37,"input",12),c.qZA(),c.TgZ(38,"div",4),c.TgZ(39,"label"),c._uU(40,"Dato personalizado 3"),c.qZA(),c._UZ(41,"input",13),c.qZA(),c.TgZ(42,"div",4),c.TgZ(43,"label"),c._uU(44,"Cantidad"),c.qZA(),c._UZ(45,"input",14),c.qZA(),c.TgZ(46,"button",15),c._uU(47,"Enviar historia cl\xednica"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(4),c.Q6J("formGroup",H.controles))},directives:[mt._Y,mt.JL,mt.sg,mt.Fj,mt.wV,mt.JJ,mt.u],styles:[""]}),k})();function Ys(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).ModificarTurno(oe,"cancelado")}),c._uU(1,"Cancelar turno"),c.qZA()}}function bi(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).VerComentarioDelEspecialista(oe)}),c._uU(1,"Ver rese\xf1a"),c.qZA()}}const Io=function(){return["/encuesta"]};function _s(k,K){1&k&&(c.TgZ(0,"button",19),c._uU(1,"Completar encuesta"),c.qZA()),2&k&&c.Q6J("routerLink",c.DdM(1,Io))}function Ei(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).MostrarCalificar(oe)}),c._uU(1,"Calificar atenci\xf3n"),c.qZA()}}function Zi(k,K){if(1&k&&(c.TgZ(0,"div",11),c.TgZ(1,"div",12),c.TgZ(2,"h6"),c._uU(3),c.qZA(),c.TgZ(4,"h6"),c._uU(5),c.qZA(),c.TgZ(6,"h6"),c._uU(7),c.qZA(),c.TgZ(8,"span",13),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",12),c.YNc(11,Ys,2,0,"button",14),c.YNc(12,bi,2,0,"button",15),c.YNc(13,_s,2,2,"button",16),c.YNc(14,Ei,2,0,"button",15),c.qZA(),c.qZA()),2&k){const b=K.$implicit;c.Q6J("appHabilitarDeshabilitar",b.estado),c.xp6(3),c.Oqu(b.nombre),c.xp6(2),c.Oqu(b.horario),c.xp6(2),c.Oqu(b.especialidad),c.xp6(1),c.Q6J("appEstados",b.estado),c.xp6(1),c.Oqu(b.estado),c.xp6(2),c.Q6J("ngIf","pendiente"==b.estado),c.xp6(1),c.Q6J("ngIf",null!=b.comentarioEspecialista),c.xp6(1),c.Q6J("ngIf","finalizado"==b.estado&&null!=b.comentarioEspecialista),c.xp6(1),c.Q6J("ngIf","finalizado"==b.estado)}}function Hi(k,K){if(1&k&&(c.TgZ(0,"div",9),c.YNc(1,Zi,15,10,"div",10),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.Q6J("ngForOf",b.turnosFiltrados)}}function Vs(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).ModificarTurno(oe,"cancelado")}),c._uU(1,"Cancelar turno"),c.qZA()}}function Yi(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).ModificarTurno(oe,"rechazado")}),c._uU(1,"Rechazar turno"),c.qZA()}}function vs(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",24),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).ModificarTurno(oe,"aceptado")}),c._uU(1,"Aceptar turno"),c.qZA()}}function Qs(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw(2).ModificarTurno(oe,"finalizado")}),c._uU(1,"Finalizar turno"),c.qZA()}}function as(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",11),c.TgZ(1,"div",12),c.TgZ(2,"h6"),c._uU(3),c.qZA(),c.TgZ(4,"h6"),c._uU(5),c.qZA(),c.TgZ(6,"h6"),c._uU(7),c.qZA(),c.TgZ(8,"span",13),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",12),c.YNc(11,Vs,2,0,"button",14),c._UZ(12,"br"),c.YNc(13,Yi,2,0,"button",14),c._UZ(14,"br"),c.YNc(15,vs,2,0,"button",21),c._UZ(16,"br"),c.YNc(17,Qs,2,0,"button",22),c.TgZ(18,"button",23),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw(2).VerComentarioDelPaciente(Ne)}),c._uU(19,"Ver rese\xf1a"),c.qZA(),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.Q6J("appHabilitarDeshabilitar",b.estado),c.xp6(3),c.Oqu(b.nombre),c.xp6(2),c.Oqu(b.horario),c.xp6(2),c.Oqu(b.especialidad),c.xp6(1),c.Q6J("appEstados",b.estado),c.xp6(1),c.Oqu(b.estado),c.xp6(2),c.Q6J("ngIf","pendiente"==b.estado),c.xp6(2),c.Q6J("ngIf","pendiente"==b.estado),c.xp6(2),c.Q6J("ngIf","pendiente"==b.estado),c.xp6(2),c.Q6J("ngIf","aceptado"==b.estado)}}function Lo(k,K){if(1&k&&(c.TgZ(0,"div",20),c.TgZ(1,"h1",1),c._uU(2," Turnos del especialista"),c.qZA(),c.YNc(3,as,20,10,"div",10),c.qZA()),2&k){const b=c.oxw();c.xp6(3),c.Q6J("ngForOf",b.turnosFiltrados)}}function qr(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",26),c.TgZ(1,"label",27),c._uU(2,"\xbfC\xf3mo fue la atenci\xf3n?"),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"button",28),c.NdJ("click",function(){return c.CHM(b),c.oxw().CalificarAtencion("excelente")}),c._uU(5,"Excelente"),c.qZA(),c.TgZ(6,"button",29),c.NdJ("click",function(){return c.CHM(b),c.oxw().CalificarAtencion("normal")}),c._uU(7,"Normal"),c.qZA(),c.TgZ(8,"button",30),c.NdJ("click",function(){return c.CHM(b),c.oxw().CalificarAtencion("pesima")}),c._uU(9,"P\xe9sima"),c.qZA(),c.qZA()}}function Yr(k,K){if(1&k&&(c.TgZ(0,"div",31),c.TgZ(1,"div",32),c.TgZ(2,"div",33),c.TgZ(3,"h2",34),c._uU(4,"Rese\xf1a/comentario"),c.qZA(),c.TgZ(5,"textarea",35),c._uU(6),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&k){const b=c.oxw();c.xp6(6),c.Oqu(b.comentario)}}function fi(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"app-historial-medico",36),c.NdJ("cerrarEmitter",function(oe){return c.CHM(b),c.oxw().RecibirOutput(oe)}),c.qZA(),c.qZA()}if(2&k){const b=c.oxw();c.xp6(1),c.Q6J("turno",b.turnoHistorial)}}let Qi=(()=>{class k{constructor(b,H){this.userService=b,this.router=H,this.turnosPaciente=[],this.turnosEspecialista=[],this.mostrarCalificar=!1,this.mostrarHistorial=!1,this.turnosFiltrados=[],"paciente"==this.userService.usuarioActual.tipo?(this.turnosPaciente=this.userService.todosLosTurnos.filter(oe=>{if(oe.paciente==this.userService.usuarioActual.dni)return oe}),this.turnosFiltrados=this.turnosPaciente.sort((oe,Ne)=>Ne.tiempo-oe.tiempo)):(this.turnosEspecialista=this.userService.todosLosTurnos.filter(oe=>{if(oe.especialista==this.userService.usuarioActual.dni)return oe}),this.turnosFiltrados=this.turnosEspecialista.sort((oe,Ne)=>Ne.tiempo-oe.tiempo)),console.log(this.turnosPaciente)}ngOnInit(){}ModificarTurno(b,H){var oe=this;this.userService.ModificarTurno(b,H).then((0,uo.Z)(function*(){if("finalizado"==H||"cancelado"==H){const{value:Ne}=yield Rr().fire({input:"textarea",title:"Rese\xf1a/Comentario",inputPlaceholder:"Deje su rese\xf1a acerca del turno",inputAttributes:{"aria-label":"Escriba su rese\xf1a o comentario aqu\xed..."}});"paciente"==oe.userService.usuarioActual.tipo?oe.userService.ComentarioPaciente(b,Ne):"especialista"==oe.userService.usuarioActual.tipo?oe.userService.ComentarioEspecialista(b,Ne).then(()=>{oe.turnoHistorial=b,oe.mostrarHistorial=!0}):oe.userService.ComentarioAdministrador(b,Ne)}Rr().fire({title:"Exito",text:"Turno modificado con \xe9xito",icon:"success",timer:2e3,timerProgressBar:!0}).then(()=>{oe.RefrescarArrays()})}))}RefrescarArrays(){"paciente"==this.userService.usuarioActual.tipo?(this.turnosPaciente=this.userService.todosLosTurnos.filter(b=>{if(b.paciente==this.userService.usuarioActual.dni)return b}),this.turnosFiltrados=this.turnosPaciente.sort((b,H)=>H.tiempo-b.tiempo)):(this.turnosEspecialista=this.userService.todosLosTurnos.filter(b=>{if(b.especialista==this.userService.usuarioActual.dni)return b}),this.turnosFiltrados=this.turnosEspecialista.sort((b,H)=>H.tiempo-b.tiempo))}MostrarEncuesta(){this.mostrarEncuesta=!0}VerComentarioDelEspecialista(b){this.comentario=b.comentarioEspecialista}VerComentarioDelPaciente(b){null!=b.comentarioPaciente&&""!=b.comentarioPaciente?this.comentario=b.comentarioPaciente:Rr().fire({icon:"warning",text:"No hay comentarios del paciente en este turno",title:"Atenci\xf3n",timer:2e3})}CerrarEncuesta(b){this.mostrarEncuesta=b}MostrarCalificar(b){this.mostrarCalificar=!0,this.turnoACalificar=b}CalificarAtencion(b){this.userService.Calificar(this.turnoACalificar,b).then(()=>{Rr().fire({icon:"success",text:"Exito al calificar",title:"Atenci\xf3n",timer:2e3,timerProgressBar:!0}).then(()=>{this.mostrarCalificar=!1})})}RecibirOutput(b){this.mostrarHistorial=b}Filtrar(){this.turnosFiltrados=[],this.turnosFiltrados="paciente"==this.userService.usuarioActual.tipo?this.turnosPaciente.filter(b=>{if(this.Verificar(b,this.filtro))return b}):this.turnosEspecialista.filter(b=>{if(this.Verificar(b,this.filtro))return b}),console.log("filtrados: ",this.turnosFiltrados)}Verificar(b,H){let oe=!1;return(null==b?void 0:b.comentarioEspecialista)&&b.comentarioEspecialista.includes(H)&&(oe=!0),(null==b?void 0:b.comentarioPaciente)&&b.comentarioPaciente.toLowerCase().includes(H)&&(oe=!0),(null==b?void 0:b.especialidad.toLowerCase().includes(H))&&(oe=!0),(null==b?void 0:b.especialista.toString().toLowerCase().includes(H))&&(oe=!0),(null==b?void 0:b.horario.toLowerCase().includes(H))&&(oe=!0),(null==b?void 0:b.paciente.toString().toLowerCase().includes(H))&&(oe=!0),(null==b?void 0:b.estado.toLowerCase().includes(H))&&(oe=!0),(null==b?void 0:b.historialMedico)&&Object.entries(null==b?void 0:b.historialMedico).forEach(Ne=>{for(let Dt of Ne)if(Dt.toString().toLowerCase().includes(H)){oe=!0;break}}),oe}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K),c.Y36(Hn.F0))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-mis-turnos"]],decls:13,vars:6,consts:[[1,"container","bounce-top",2,"font-family","OldSansBlack"],[1,"text-center"],["type","text",3,"ngModel","ngModelChange"],["class","row justify-content-around","style","column-gap: 5px; row-gap: 10px;",4,"ngIf"],["class","row justify-content-around bounce-top","style","column-gap: 5px; row-gap: 10px;",4,"ngIf"],[1,"container","text-center","jello-horizontal"],["class","col-sm-12",4,"ngIf"],["class","container text-center jello-horizontal","id","featured-3",4,"ngIf"],["class","container text-center jello-horizontal",4,"ngIf"],[1,"row","justify-content-around",2,"column-gap","5px","row-gap","10px"],["class","col-12 col-md-4 row rounded",3,"appHabilitarDeshabilitar",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","row","rounded",3,"appHabilitarDeshabilitar"],[1,"col-6"],[2,"margin-top","5px","color","white",3,"appEstados"],["type","button","class","btn btn-danger my-1",3,"click",4,"ngIf"],["type","button","class","btn btn-info my-1",3,"click",4,"ngIf"],["type","button","class","btn btn-info my-1",3,"routerLink",4,"ngIf"],["type","button",1,"btn","btn-danger","my-1",3,"click"],["type","button",1,"btn","btn-info","my-1",3,"click"],["type","button",1,"btn","btn-info","my-1",3,"routerLink"],[1,"row","justify-content-around","bounce-top",2,"column-gap","5px","row-gap","10px"],["type","button","class","btn btn-success my-1",3,"click",4,"ngIf"],["type","button","class","btn btn-warning my-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","my-1",3,"click"],["type","button",1,"btn","btn-success","my-1",3,"click"],["type","button",1,"btn","btn-warning","my-1",3,"click"],[1,"col-sm-12"],[1,"form-label"],["type","button","value","excelente",1,"btn","btn-success","mx-1",3,"click"],["type","button","value","normal",1,"btn","btn-warning","mx-1",3,"click"],["type","button","value","pesima",1,"btn","btn-danger","mx-1",3,"click"],["id","featured-3",1,"container","text-center","jello-horizontal"],[1,"card"],[1,"card-body"],[1,"card-title"],["readonly","",1,"card-text",2,"resize","none"],[3,"turno","cerrarEmitter"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"h1",1),c._uU(2,"Mis turnos"),c.qZA(),c.TgZ(3,"div"),c.TgZ(4,"label"),c._uU(5," Filtrar "),c.qZA(),c.TgZ(6,"input",2),c.NdJ("ngModelChange",function(Ne){return H.filtro=Ne})("ngModelChange",function(){return H.Filtrar()}),c.qZA(),c.qZA(),c.YNc(7,Hi,2,1,"div",3),c.YNc(8,Lo,4,1,"div",4),c.TgZ(9,"div",5),c.YNc(10,qr,10,0,"div",6),c.qZA(),c.YNc(11,Yr,7,1,"div",7),c.YNc(12,fi,2,1,"div",8),c.qZA()),2&b&&(c.xp6(6),c.Q6J("ngModel",H.filtro),c.xp6(1),c.Q6J("ngIf","paciente"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","especialista"==H.userService.usuarioActual.tipo),c.xp6(2),c.Q6J("ngIf",H.mostrarCalificar),c.xp6(1),c.Q6J("ngIf",""!=H.comentario&&null!=H.comentario),c.xp6(1),c.Q6J("ngIf",H.mostrarHistorial))},directives:[mt.Fj,mt.JJ,mt.On,_.O5,_.sg,os,Kr,Hn.rH,Ks],styles:[".jello-horizontal[_ngcontent-%COMP%]{animation:jello-horizontal .9s both}@keyframes jello-horizontal{0%{transform:scale(1)}30%{transform:scale(1.25,.75)}40%{transform:scale(.75,1.25)}50%{transform:scale(1.15,.85)}65%{transform:scale(.95,1.05)}75%{transform:scale(1.05,.95)}to{transform:scale(1)}}.bounce-top[_ngcontent-%COMP%]{animation:bounce-top .9s both}@keyframes bounce-top{0%{transform:translateY(-45px);animation-timing-function:ease-in;opacity:1}24%{opacity:1}40%{transform:translateY(-24px);animation-timing-function:ease-in}65%{transform:translateY(-12px);animation-timing-function:ease-in}82%{transform:translateY(-6px);animation-timing-function:ease-in}93%{transform:translateY(-4px);animation-timing-function:ease-in}25%,55%,75%,87%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out;opacity:1}}"]}),k})();const Qr=function(){return["/admin/usuarios"]};function Oi(k,K){1&k&&(c.TgZ(0,"div",9),c.TgZ(1,"div",3),c.TgZ(2,"div",4),c.TgZ(3,"h2",5),c._uU(4,"Secci\xf3n Usuarios"),c.qZA(),c.TgZ(5,"p",6),c._uU(6," Administre los usuarios como administrador. "),c.qZA(),c.TgZ(7,"button",7),c._uU(8," Usuarios "),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&k&&(c.xp6(7),c.Q6J("routerLink",c.DdM(1,Qr)))}const Jr=function(){return["/turnos"]};function us(k,K){1&k&&(c.TgZ(0,"div",9),c.TgZ(1,"div",3),c.TgZ(2,"div",4),c.TgZ(3,"h2",5),c._uU(4,"Turnos"),c.qZA(),c.TgZ(5,"p",6),c._uU(6," Administre los turnos existentes como administrador. "),c.qZA(),c.TgZ(7,"button",10),c._uU(8," Turnos"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&k&&(c.xp6(7),c.Q6J("routerLink",c.DdM(1,Jr)))}function Ni(k,K){1&k&&(c.TgZ(0,"small",12),c._uU(1,"No posee turnos"),c.qZA())}const cs=function(){return["/mis-turnos"]},ls=function(){return[]};function Fr(k,K){if(1&k&&(c.TgZ(0,"div",3),c.TgZ(1,"div",4),c.TgZ(2,"h2",5),c._uU(3,"Mis turnos"),c.qZA(),c.TgZ(4,"p",6),c._uU(5,"Vea sus turnos"),c.qZA(),c.TgZ(6,"button",7),c._uU(7," Mis turnos"),c.qZA(),c.YNc(8,Ni,2,0,"small",11),c.qZA(),c.qZA()),2&k){const b=c.oxw();c.xp6(6),c.Q6J("routerLink",c.DdM(2,cs)),c.xp6(2),c.Q6J("ngIf",b.userService.usuarioActual.horarios==c.DdM(3,ls))}}const Ri=function(){return["/solicitar-turno"]};function F(k,K){1&k&&(c.TgZ(0,"div",3),c.TgZ(1,"div",4),c.TgZ(2,"h2",5),c._uU(3,"Solicitar turno"),c.qZA(),c.TgZ(4,"p",6),c._uU(5,"Solicite turno dependiendo de su necesidad, eligiendo hasta al especialista que desea."),c.qZA(),c.TgZ(6,"button",10),c._uU(7," Solicitar turno"),c.qZA(),c.qZA(),c.qZA()),2&k&&(c.xp6(6),c.Q6J("routerLink",c.DdM(1,Ri)))}const z=function(){return["/especialista/mis-pacientes"]};function L(k,K){1&k&&(c.TgZ(0,"div",3),c.TgZ(1,"div",4),c.TgZ(2,"h2",5),c._uU(3,"Pacientes"),c.qZA(),c.TgZ(4,"p",6),c._uU(5,"Vea a los pacientes que atendi\xf3 y sus historiales m\xe9dicos"),c.qZA(),c.TgZ(6,"button",10),c._uU(7,"Ver mis pacientes"),c.qZA(),c.qZA(),c.qZA()),2&k&&(c.xp6(6),c.Q6J("routerLink",c.DdM(1,z)))}const J=function(){return["/mi-perfil"]};let we=(()=>{class k{constructor(b){this.userService=b,console.log(this.userService.usuarioActual)}ngOnInit(){}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-principal"]],decls:15,vars:7,consts:[["id","featured-3",1,"container","px-4","py-5","scale-in-center",2,"font-family","OldSansBlack"],[1,"row","g-4","py-5","row-cols-1","row-cols-lg-3",2,"max-height","5cm"],["class","col-sm",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button",1,"btn","btn-success",3,"routerLink"],["class","card",4,"ngIf"],[1,"col-sm"],[1,"btn","btn-success",3,"routerLink"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,Oi,9,2,"div",2),c.YNc(3,us,9,2,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"h2",5),c._uU(7,"Mi perfil"),c.qZA(),c.TgZ(8,"p",6),c._uU(9,"Vea sus datos"),c.qZA(),c.TgZ(10,"button",7),c._uU(11," Mi perfil"),c.qZA(),c.qZA(),c.qZA(),c.YNc(12,Fr,9,4,"div",8),c.YNc(13,F,8,2,"div",8),c.YNc(14,L,8,2,"div",8),c.qZA(),c.qZA()),2&b&&(c.xp6(2),c.Q6J("ngIf","administrador"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","administrador"==H.userService.usuarioActual.tipo),c.xp6(7),c.Q6J("routerLink",c.DdM(6,J)),c.xp6(2),c.Q6J("ngIf","administrador"!=H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","especialista"!=H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf","especialista"==H.userService.usuarioActual.tipo))},directives:[_.O5,Hn.rH],styles:[".scale-in-center[_ngcontent-%COMP%]{animation:scale-in-center .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes scale-in-center{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:1}}"]}),k})(),ze=(()=>{class k{transform(b,H){let oe=[];console.log(H.includes("lunes"));for(let Ne of b)Ne.includes("Mon,")&&this.Incluye(H,"lunes")?oe.push(Ne.replace("Mon","Lunes")):Ne.includes("Tue,")&&this.Incluye(H,"martes")?oe.push(Ne.replace("Tue","Martes")):Ne.includes("Wed,")&&this.Incluye(H,"miercoles")?oe.push(Ne.replace("Wed","Miercoles")):Ne.includes("Thu,")&&this.Incluye(H,"jueves")?oe.push(Ne.replace("Thu","Jueves")):Ne.includes("Fri,")&&this.Incluye(H,"viernes")?oe.push(Ne.replace("Fri","Viernes")):Ne.includes("Sat,")&&this.Incluye(H,"sabado")?oe.push(Ne.replace("Sat","Sabado")):Ne.includes("Sun,")&&this.Incluye(H,"domingo")&&oe.push(Ne.replace("Sun","Domingo"));return oe=this.Traducir(oe),oe=this.AgregarHorario(oe,H),oe}Incluye(b,H){for(let oe of b)if(oe.includes(H))return!0;return!1}AgregarHorario(b,H){let oe=[];for(let Ne of b)for(let Dt of H)(Dt.includes("lunes")&&Ne.includes("Lunes")||Dt.includes("martes")&&Ne.includes("Martes")||Dt.includes("miercoles")&&Ne.includes("Miercoles")||Dt.includes("jueves")&&Ne.includes("Jueves")||Dt.includes("viernes")&&Ne.includes("Viernes")||Dt.includes("sabado")&&Ne.includes("Sabado")||Dt.includes("domingo")&&Ne.includes("Domingo"))&&oe.push(Ne+" "+Dt.split(" ")[1]);return oe}Traducir(b){let H=[];for(let oe of b)oe.includes("Jan")?H.push(oe.replace("Jan","Enero")):oe.includes("Feb")?H.push(oe.replace("Feb","Febrero")):oe.includes("Mar")?H.push(oe.replace("Mar","Marzo")):oe.includes("Ap")?H.push(oe.replace("Apr","Abril")):oe.includes("May")?H.push(oe.replace("May","Mayo")):oe.includes("Jun")?H.push(oe.replace("Jun","Junio")):oe.includes("Jul")?H.push(oe.replace("Jul","Julio")):oe.includes("Aug")?H.push(oe.replace("Aug","Agosto")):oe.includes("Sep")?H.push(oe.replace("Sep","Septiembre")):oe.includes("Oct")?H.push(oe.replace("Oct","Octubre")):oe.includes("Nov")?H.push(oe.replace("Nov","Noviembre")):oe.includes("Dec")&&H.push(oe.replace("Dec","Diciembre"));return H}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275pipe=c.Yjl({name:"fechaEsp",type:k,pure:!0}),k})();function ht(k,K){if(1&k&&(c.TgZ(0,"div",5),c._UZ(1,"img",6),c.qZA()),2&k){const b=K.$implicit;c.xp6(1),c.Q6J("src",b,c.LSH)}}const N=function(k){return{"bg-success":k}};function M(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().SeleccionarPaciente(Ne)}),c.YNc(1,ht,2,1,"div",3),c.TgZ(2,"div",4),c.TgZ(3,"h6"),c._uU(4),c.ALo(5,"titlecase"),c.qZA(),c.TgZ(6,"h6"),c._uU(7),c.ALo(8,"titlecase"),c.qZA(),c.TgZ(9,"h6"),c._uU(10),c.qZA(),c.TgZ(11,"p"),c._uU(12),c.qZA(),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit,H=c.oxw();c.Q6J("ngClass",c.VKq(10,N,1==H.cambiarColor)),c.xp6(1),c.Q6J("ngForOf",b.fotos),c.xp6(3),c.Oqu(c.lcZ(5,6,b.nombre)),c.xp6(3),c.Oqu(c.lcZ(8,8,b.apellid)),c.xp6(3),c.Oqu(b.dni),c.xp6(2),c.Oqu(b.email)}}let T=(()=>{class k{constructor(b){this.user=b,this.pacienteClickeadoEmitter=new c.vpe,this.cambiarColor=!1}ngOnInit(){}SeleccionarPaciente(b){this.pacienteClickeadoEmitter.emit(b),this.cambiarColor=!0}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-listado-pacientes"]],outputs:{pacienteClickeadoEmitter:"pacienteClickeadoEmitter"},decls:4,vars:1,consts:[[1,"row","justify-content-around",2,"column-gap","25px","row-gap","25px"],["class","col-12 col-md-4 row bg-light rounded",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","row","bg-light","rounded",3,"ngClass","click"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-6"],[1,"col-3"],["width","100%",3,"src"]],template:function(b,H){1&b&&(c.TgZ(0,"h1"),c._uU(1,"Pacientes"),c.qZA(),c.TgZ(2,"div",0),c.YNc(3,M,13,12,"div",1),c.qZA()),2&b&&(c.xp6(3),c.Q6J("ngForOf",H.user.todosLosPacientes))},directives:[_.sg,_.mk],pipes:[_.rS],styles:[""]}),k})();function G(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",2),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().SeleccionarEspecialidad(Ne.nombre)}),c._UZ(1,"img",3),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Q6J("src",b.foto,c.LSH)}}let Fe=(()=>{class k{constructor(b,H){this.userService=b,this.formBuilder=H,this.especialidadSeleccionadaEmitter=new c.vpe,this.especialidades=[],this.userService.especialidades.subscribe(oe=>{this.especialidades=oe})}ngOnInit(){}SeleccionarEspecialidad(b){this.especialidadSeleccionadaEmitter.emit(b)}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K),c.Y36(mt.qu))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-listado-especialidades-sin-func"]],outputs:{especialidadSeleccionadaEmitter:"especialidadSeleccionadaEmitter"},decls:2,vars:1,consts:[[1,"float-cont"],["class","float-button",3,"click",4,"ngFor","ngForOf"],[1,"float-button",3,"click"],["height","100%","width","120%",3,"src"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.YNc(1,G,2,1,"button",1),c.qZA()),2&b&&(c.xp6(1),c.Q6J("ngForOf",H.especialidades))},directives:[_.sg],styles:[".float-cont[_ngcontent-%COMP%]{display:flex;grid-gap:15px;gap:15px;bottom:40px}.float-button[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;box-shadow:2px 4px 3px #999;border-radius:50px;overflow:hidden}img[_ngcontent-%COMP%]{border-radius:50%}"]}),k})();function wt(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().SeleccionarEspecialista(Ne)}),c.TgZ(1,"div",3),c._UZ(2,"img",4),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"h6"),c._uU(5),c.qZA(),c.TgZ(6,"h6"),c._uU(7),c.qZA(),c.TgZ(8,"h6"),c._uU(9),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(2),c.Q6J("src",b.foto,c.LSH),c.xp6(3),c.Oqu(b.nombre),c.xp6(2),c.Oqu(b.apellido),c.xp6(2),c.Oqu(b.dni),c.xp6(2),c.Oqu(b.email)}}let Zt=(()=>{class k{constructor(b){this.userService=b,this.especialistaSeleccionadoEmitter=new c.vpe,console.log(this.especialidadAMostrar)}set especialidadAMostrar(b){console.log(b),this.arrayFiltrado=this.userService.todosLosEspecialistas.filter(H=>{for(let oe of H.especialidad)if(b==oe)return oe})}ngOnInit(){}SeleccionarEspecialista(b){this.especialistaSeleccionadoEmitter.emit(b)}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-listado-especialistas-func"]],inputs:{especialidadAMostrar:"especialidadAMostrar"},outputs:{especialistaSeleccionadoEmitter:"especialistaSeleccionadoEmitter"},decls:4,vars:1,consts:[[1,"row","justify-content-around",2,"column-gap","25px","row-gap","25px"],["class","col-12 col-md-4 row bg-light rounded",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","row","bg-light","rounded",3,"click"],[1,"col-6"],["width","100%",3,"src"]],template:function(b,H){1&b&&(c.TgZ(0,"h1"),c._uU(1,"Especialistas"),c.qZA(),c.TgZ(2,"div",0),c.YNc(3,wt,12,5,"div",1),c.qZA()),2&b&&(c.xp6(3),c.Q6J("ngForOf",H.arrayFiltrado))},directives:[_.sg],styles:["img[_ngcontent-%COMP%]{border-radius:50%}"]}),k})();function cr(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"h1"),c._uU(2,"Seleccione un paciente"),c.qZA(),c.TgZ(3,"app-listado-pacientes",4),c.NdJ("pacienteClickeadoEmitter",function(oe){return c.CHM(b),c.oxw().PacienteSeleccionado(oe)}),c.qZA(),c.qZA()}}function Br(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"app-listado-especialistas-func",14),c.NdJ("especialistaSeleccionadoEmitter",function(oe){return c.CHM(b),c.oxw(3).MostrarEspecialistaSeleccionado(oe)}),c.qZA()}if(2&k){const b=c.oxw(3);c.Q6J("especialidadAMostrar",b.especialidadClickeada)}}function Mr(k,K){if(1&k&&(c.TgZ(0,"div",12),c.YNc(1,Br,1,1,"app-listado-especialistas-func",13),c.qZA()),2&k){const b=c.oxw(2);c.xp6(1),c.Q6J("ngIf",b.mostrarListaEspecialistas)}}function dr(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"div",6),c.TgZ(2,"div",7),c.TgZ(3,"app-listado-especialidades-sin-func",8),c.NdJ("especialidadSeleccionadaEmitter",function(oe){return c.CHM(b),c.oxw().MostrarSeleccionado(oe)}),c.qZA(),c.TgZ(4,"h5",9),c._uU(5),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",10),c.YNc(7,Mr,2,1,"div",11),c.qZA(),c.qZA()}if(2&k){const b=c.oxw();c.xp6(5),c.hij("Especialidad seleccionada: ",b.especialidadClickeada,""),c.xp6(2),c.Q6J("ngIf",null!=b.especialidadClickeada)}}function pi(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"button",18),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw(2).PedirTurno(Ne)}),c._uU(2),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(2),c.hij(" ",b," ")}}function Pi(k,K){if(1&k&&(c.TgZ(0,"div",15),c.TgZ(1,"div",16),c.TgZ(2,"h2"),c._uU(3,"Horarios disponibles"),c.qZA(),c.TgZ(4,"h5"),c._uU(5),c.qZA(),c.TgZ(6,"div"),c.YNc(7,pi,3,1,"div",17),c.qZA(),c.qZA(),c.qZA()),2&k){const b=c.oxw();c.xp6(5),c.AsE("",b.especialistaClickeado.nombre," , ",b.especialistaClickeado.apellido,""),c.xp6(2),c.Q6J("ngForOf",b.fechasEspAMostrar)}}let Ji=(()=>{class k{constructor(b,H,oe,Ne){this.pipe=b,this.fb=H,this.userService=oe,this.router=Ne,this.mostrarListaEspecialistas=!1,this.horariosMostrar=[],this.fechasAMostrar=[],this.posiblesTurnos=[],this.fechasEspAMostrar=[],this.fecha=new Date,this.diasAMostrar=[],this.controles=this.fb.group({horario:[""]})}ngOnInit(){}MostrarSeleccionado(b){this.especialidadClickeada=b,this.mostrarListaEspecialistas=!0}MostrarEspecialistaSeleccionado(b){this.especialistaClickeado=b,this.horariosMostrar=b.horarios;let H=new Date,oe=new Date;15==this.fechasAMostrar.length&&(this.fechasAMostrar=[],H.setDate(oe.getDate()));for(let Ne=0;Ne<15;Ne++)this.fecha.setDate(H.getDate()+1),H.setDate(H.getDate()+1),this.fechasAMostrar.push(this.fecha.toUTCString().split(" ")[0]+this.fecha.toUTCString().split(" ")[1]+" "+this.fecha.toUTCString().split(" ")[2]);this.fechasEspAMostrar=this.pipe.transform(this.fechasAMostrar,b.horarios),console.log(this.fechasEspAMostrar)}PedirTurno(b){let H;H="paciente"==this.userService.usuarioActual.tipo?{horario:b,paciente:this.userService.usuarioActual.dni,especialista:this.especialistaClickeado.dni,especialidad:this.especialidadClickeada,estado:"pendiente",tiempo:Date.now()}:{horario:b,paciente:this.pacienteSeleccionado.dni,especialista:this.especialistaClickeado.dni,especialidad:this.especialidadClickeada,estado:"pendiente",tiempo:Date.now()},console.log(H),this.userService.SetearTurno(H).then(()=>{Rr().fire({icon:"success",title:"Turno solicitado",timer:2e3}).then(()=>{this.router.navigateByUrl("/principal")})}).catch(oe=>{Rr().fire({icon:"error",title:"Error",text:"Error al solicitar el turno",confirmButtonText:"Aceptar"})})}PacienteSeleccionado(b){this.pacienteSeleccionado=b,console.log("paciente selecconado en caso de que sea administrador ",b)}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(ze),c.Y36(mt.qu),c.Y36(or.K),c.Y36(Hn.F0))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-solicitar-turno"]],decls:4,vars:3,consts:[[1,"container","bounce-top"],[4,"ngIf"],["class","row align-items-md-stretch bounce-top",4,"ngIf"],["class","p-5 mb-4 bg-light rounded-3 text-center jello-horizontal",4,"ngIf"],[3,"pacienteClickeadoEmitter"],[1,"row","align-items-md-stretch","bounce-top"],[1,"col-md-3"],[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[3,"especialidadSeleccionadaEmitter"],[2,"margin-top","2cm"],[1,"col-md-9"],["class","h-100 p-5 bg-light border rounded-3 bounce-top",4,"ngIf"],[1,"h-100","p-5","bg-light","border","rounded-3","bounce-top"],[3,"especialidadAMostrar","especialistaSeleccionadoEmitter",4,"ngIf"],[3,"especialidadAMostrar","especialistaSeleccionadoEmitter"],[1,"p-5","mb-4","bg-light","rounded-3","text-center","jello-horizontal"],[2,"background-color","rgba(255, 255, 255, 0)"],[4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.YNc(1,cr,4,0,"div",1),c.YNc(2,dr,8,2,"div",2),c.YNc(3,Pi,8,3,"div",3),c.qZA()),2&b&&(c.xp6(1),c.Q6J("ngIf","administrador"==H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf",null!=H.pacienteSeleccionado||"administrador"!=H.userService.usuarioActual.tipo),c.xp6(1),c.Q6J("ngIf",null!=H.especialistaClickeado))},directives:[_.O5,T,Fe,Zt,_.sg],styles:[".jello-horizontal[_ngcontent-%COMP%]{animation:jello-horizontal .9s both}@keyframes jello-horizontal{0%{transform:scale(1)}30%{transform:scale(1.25,.75)}40%{transform:scale(.75,1.25)}50%{transform:scale(1.15,.85)}65%{transform:scale(.95,1.05)}75%{transform:scale(1.05,.95)}to{transform:scale(1)}}.bounce-top[_ngcontent-%COMP%]{animation:bounce-top .9s both}@keyframes bounce-top{0%{transform:translateY(-45px);animation-timing-function:ease-in;opacity:1}24%{opacity:1}40%{transform:translateY(-24px);animation-timing-function:ease-in}65%{transform:translateY(-12px);animation-timing-function:ease-in}82%{transform:translateY(-6px);animation-timing-function:ease-in}93%{transform:translateY(-4px);animation-timing-function:ease-in}25%,55%,75%,87%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out;opacity:1}}"]}),k})();function jr(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){c.CHM(b);const oe=c.oxw().$implicit;return c.oxw().ModificarTurno(oe,"cancelado")}),c._uU(1,"Cancelar turno"),c.qZA()}}function Js(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw().SeleccionarTurno(Ne.nombre)}),c.TgZ(1,"div",3),c.TgZ(2,"h6"),c._uU(3),c.qZA(),c.TgZ(4,"h6"),c._uU(5),c.qZA(),c.TgZ(6,"h6"),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"div",3),c.TgZ(9,"span",4),c._uU(10),c.qZA(),c.YNc(11,jr,2,0,"button",5),c.qZA(),c.qZA()}if(2&k){const b=K.$implicit;c.Q6J("appHabilitarDeshabilitar",b.estado),c.xp6(3),c.Oqu(b.horario),c.xp6(2),c.Oqu(b.especialista),c.xp6(2),c.Oqu(b.paciente),c.xp6(2),c.Q6J("appEstados",b.estado),c.xp6(1),c.Oqu(b.estado),c.xp6(1),c.Q6J("ngIf","pendiente"==b.estado)}}let Vo=(()=>{class k{constructor(b){this.userService=b,this.turnoClickeadoEmitter=new c.vpe,this.turnos=[],this.userService.turnos.subscribe(H=>{this.turnos=H})}set filtro(b){if(this.turnos=[],"especialidad"==b.tipo)for(let H of this.userService.todosLosTurnos)H.especialidad==b.item&&this.turnos.push(H);else for(let H of this.userService.todosLosTurnos)H.especialista==b.item&&this.turnos.push(H)}ngOnInit(){}SeleccionarTurno(b){this.turnoClickeadoEmitter.emit(b)}ModificarTurno(b,H){var oe=this;this.userService.ModificarTurno(b,H).then((0,uo.Z)(function*(){if("finalizado"==H||"cancelado"==H){const{value:Ne}=yield Rr().fire({input:"textarea",title:"Rese\xf1a/Comentario",inputPlaceholder:"Deje su rese\xf1a acerca del turno",inputAttributes:{"aria-label":"Escriba su rese\xf1a o comentario aqu\xed..."}});"paciente"==oe.userService.usuarioActual.tipo?oe.userService.ComentarioPaciente(b,Ne):"especialista"==oe.userService.usuarioActual.tipo?oe.userService.ComentarioEspecialista(b,Ne):oe.userService.ComentarioAdministrador(b,Ne)}}))}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-lista-turnos"]],inputs:{filtro:"filtro"},outputs:{turnoClickeadoEmitter:"turnoClickeadoEmitter"},decls:4,vars:1,consts:[[1,"row","justify-content-around",2,"column-gap","25px","row-gap","25px"],["class","col-12 col-md-4 row bg-light rounded",3,"appHabilitarDeshabilitar","click",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","row","bg-light","rounded",3,"appHabilitarDeshabilitar","click"],[1,"col-6"],[2,"margin-top","5px","color","white",3,"appEstados"],["style","margin-top: 5px;","type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",2,"margin-top","5px",3,"click"]],template:function(b,H){1&b&&(c.TgZ(0,"h1"),c._uU(1,"Turnos"),c.qZA(),c.TgZ(2,"div",0),c.YNc(3,Js,12,7,"div",1),c.qZA()),2&b&&(c.xp6(3),c.Q6J("ngForOf",H.turnos))},directives:[_.sg,os,Kr,_.O5],styles:[""]}),k})();function rn(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(){const Ne=c.CHM(b).$implicit;return c.oxw(2).ClickearEspecialista(Ne)}),c._uU(1),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Oqu(b.nombre)}}function To(k,K){if(1&k&&(c.TgZ(0,"div"),c.YNc(1,rn,2,1,"button",5),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.Q6J("ngForOf",b.userService.todosLosEspecialistas)}}function Uo(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"button",6),c.NdJ("click",function(oe){return c.CHM(b),c.oxw(2).ClickearEspecialidad(oe)}),c._uU(1),c.qZA()}if(2&k){const b=K.$implicit;c.xp6(1),c.Oqu(b.nombre)}}function Qo(k,K){if(1&k&&(c.TgZ(0,"div"),c.YNc(1,Uo,2,1,"button",5),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.Q6J("ngForOf",b.userService.todasLasEspecialidades)}}const Sa=[{path:"bienvenida",component:rs},{path:"login",component:Pn},{path:"registro",loadChildren:()=>Promise.all([Z.e(879),Z.e(340)]).then(Z.bind(Z,1340)).then(k=>k.RegistroModule)},{path:"principal",component:we,canActivate:[yr]},{path:"admin",loadChildren:()=>Promise.all([Z.e(879),Z.e(31)]).then(Z.bind(Z,4031)).then(k=>k.AdminModule),canActivate:[Pr]},{path:"mi-perfil",component:Ls,canActivate:[yr]},{path:"especialista",loadChildren:()=>Z.e(838).then(Z.bind(Z,3838)).then(k=>k.EspecialistaModule)},{path:"solicitar-turno",component:Ji,canActivate:[wi]},{path:"turnos",component:(()=>{class k{constructor(b){this.userService=b,this.mostrarFiltroEspecialidad=!1,this.mostrarFiltroEspecialista=!1}ngOnInit(){}SeleccionarTurno(b){this.turnoSeleccionado=b}FiltroEspecialidad(){this.mostrarFiltroEspecialidad=!0,this.mostrarFiltroEspecialista=!1}FiltroEspecialista(){this.mostrarFiltroEspecialista=!0,this.mostrarFiltroEspecialidad=!1}ClickearEspecialidad(b){this.especialidadFiltro={item:b.target.innerText,tipo:"especialidad"},console.log(this.especialidadFiltro)}ClickearEspecialista(b){this.especialidadFiltro={item:b.dni,tipo:"especialista"},console.log(this.especialidadFiltro)}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-turnos"]],decls:10,vars:3,consts:[[1,"container",2,"font-family","OldSansBlack"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[4,"ngIf"],[3,"filtro","turnoClickeadoEmitter"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(b,H){1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"label"),c._uU(2,"Filtrar por:"),c.qZA(),c.TgZ(3,"button",1),c.NdJ("click",function(){return H.FiltroEspecialidad()}),c._uU(4,"Especialidad"),c.qZA(),c.TgZ(5,"button",2),c.NdJ("click",function(){return H.FiltroEspecialista()}),c._uU(6,"Especialista"),c.qZA(),c.YNc(7,To,2,1,"div",3),c.YNc(8,Qo,2,1,"div",3),c.TgZ(9,"app-lista-turnos",4),c.NdJ("turnoClickeadoEmitter",function(Ne){return H.SeleccionarTurno(Ne)}),c.qZA(),c.qZA()),2&b&&(c.xp6(7),c.Q6J("ngIf",H.mostrarFiltroEspecialista),c.xp6(1),c.Q6J("ngIf",H.mostrarFiltroEspecialidad),c.xp6(1),c.Q6J("filtro",H.especialidadFiltro))},directives:[_.O5,Vo,_.sg],styles:[""]}),k})(),canActivate:[Pr]},{path:"mis-turnos",component:Qi,canActivate:[Wr]},{path:"encuesta",component:hi,canActivate:[Wr]},{path:"",redirectTo:"bienvenida",pathMatch:"full"},{path:"**",component:$e}];let lo=(()=>{class k{}return k.\u0275fac=function(b){return new(b||k)},k.\u0275mod=c.oAB({type:k}),k.\u0275inj=c.cJS({imports:[[Hn.Bz.forRoot(Sa)],Hn.Bz]}),k})();function Bo(k,K){if(1&k&&(c.TgZ(0,"h1",2),c._uU(1),c.qZA()),2&k){const b=c.oxw();c.xp6(1),c.Oqu(null==b.userService||null==b.userService.usuarioActual?null:b.userService.usuarioActual.nombre)}}const dt=function(){return["/principal"]};function Wn(k,K){1&k&&(c.TgZ(0,"li",8),c.TgZ(1,"a",9),c._uU(2,"P\xe1gina principal"),c.qZA(),c.qZA()),2&k&&(c.xp6(1),c.Q6J("routerLink",c.DdM(1,dt)))}function Do(k,K){if(1&k){const b=c.EpF();c.TgZ(0,"li",8),c.TgZ(1,"a",11),c.NdJ("click",function(){return c.CHM(b),c.oxw().CerrarSesion()}),c._uU(2,"Cerrar sesi\xf3n"),c.qZA(),c.qZA()}}const Lr=function(){return["/bienvenida"]};let Xs=(()=>{class k{constructor(b){this.userService=b,console.log("logueado",this.userService.logged)}ngOnInit(){}CerrarSesion(){this.userService.Logout()}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(or.K))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-nav-bar"]],decls:14,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","mb-4"],[1,"container-fluid"],[1,"navbar-brand"],["class","navbar-brand",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"routerLink"],["class","nav-item",4,"ngIf"],["aria-current","page",1,"nav-link","active",3,"click"]],template:function(b,H){1&b&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"h1",2),c._uU(3,"Clinica OnLine"),c.qZA(),c.YNc(4,Bo,2,1,"h1",3),c.TgZ(5,"button",4),c._UZ(6,"span",5),c.qZA(),c.TgZ(7,"div",6),c.TgZ(8,"ul",7),c.TgZ(9,"li",8),c.TgZ(10,"a",9),c._uU(11,"Bienvenida"),c.qZA(),c.qZA(),c.YNc(12,Wn,3,2,"li",10),c.YNc(13,Do,3,0,"li",10),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b&&(c.xp6(4),c.Q6J("ngIf",null!=H.userService.usuarioActual),c.xp6(6),c.Q6J("routerLink",c.DdM(4,Lr)),c.xp6(2),c.Q6J("ngIf",null!=H.userService.usuarioActual),c.xp6(1),c.Q6J("ngIf",null!=H.userService.usuarioActual))},directives:[_.O5,Hn.yS],styles:[""]}),k})(),Ao=(()=>{class k{constructor(){this.title="ClinicaOnlineAgustinGaitan"}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-root"]],decls:2,vars:0,template:function(b,H){1&b&&(c._UZ(0,"app-nav-bar"),c._UZ(1,"router-outlet"))},directives:[Xs,Hn.lC],styles:[""]}),k})();const ds_firebaseConfig={apiKey:"AIzaSyCXSl06P3BWiD7H918J47HW_eBzox4dm0U",authDomain:"clinica-online-c3c2c.firebaseapp.com",projectId:"clinica-online-c3c2c",storageBucket:"clinica-online-c3c2c.appspot.com",messagingSenderId:"502237029093",appId:"1:502237029093:web:50691096dd09f56242aa0c"};var ws=Z(166),Us=Z(8939);Z(4762),Z(9765),Z(5345);const ar=new c.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),Fi=new c.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),ho=new c.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let fo=(()=>{class k{constructor(b){this.swalProvider=b}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const b="function"==typeof(Ne=this.swalProvider)&&void 0===Ne.version?this.swalProvider():Promise.resolve(this.swalProvider);var Ne;this.swalPromiseCache=b.then(Ne=>function(Ne){return"function"==typeof Ne}(Ne)?Ne:Ne.default)}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(ar))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac}),k})();function no(){return Promise.resolve().then(Z.t.bind(Z,8259,23))}let la=(()=>{class k{static forRoot(b={}){return{ngModule:k,providers:[fo,{provide:ar,useValue:b.provideSwal||no},{provide:Fi,useValue:b.fireOnInit||!1},{provide:ho,useValue:b.dismissOnDestroy||!0}]}}static forChild(b={}){return{ngModule:k,providers:[...b.provideSwal?[fo,{provide:ar,useValue:b.provideSwal}]:[],...void 0!==b.fireOnInit?[{provide:Fi,useValue:b.fireOnInit}]:[],...void 0!==b.dismissOnDestroy?[{provide:ho,useValue:b.dismissOnDestroy}]:[]]}}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275mod=c.oAB({type:k}),k.\u0275inj=c.cJS({imports:[[_.ez]]}),k})(),hs=(()=>{class k{}return k.\u0275fac=function(b){return new(b||k)},k.\u0275mod=c.oAB({type:k,bootstrap:[Ao]}),k.\u0275inj=c.cJS({providers:[ze],imports:[[ln,lo,_.ez,mt.UX,mt.u5,Us.hO.initializeApp(ds_firebaseConfig),ws.yb,la.forRoot()]]}),k})();(0,c.G48)(),Or().bootstrapModule(hs).catch(k=>console.error(k))},4762:(Pt,Ke,Z)=>{"use strict";function se(je,He){var he={};for(var ke in je)Object.prototype.hasOwnProperty.call(je,ke)&&He.indexOf(ke)<0&&(he[ke]=je[ke]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ke=Object.getOwnPropertySymbols(je);Ze<ke.length;Ze++)He.indexOf(ke[Ze])<0&&Object.prototype.propertyIsEnumerable.call(je,ke[Ze])&&(he[ke[Ze]]=je[ke[Ze]])}return he}function Ie(je,He,he,ke){return new(he||(he=Promise))(function(Ye,It){function gn(zt){try{an(ke.next(zt))}catch($t){It($t)}}function Kn(zt){try{an(ke.throw(zt))}catch($t){It($t)}}function an(zt){zt.done?Ye(zt.value):function(Ye){return Ye instanceof he?Ye:new he(function(It){It(Ye)})}(zt.value).then(gn,Kn)}an((ke=ke.apply(je,He||[])).next())})}function ue(je,He){var ke,Ze,Ye,It,he={label:0,sent:function(){if(1&Ye[0])throw Ye[1];return Ye[1]},trys:[],ops:[]};return It={next:gn(0),throw:gn(1),return:gn(2)},"function"==typeof Symbol&&(It[Symbol.iterator]=function(){return this}),It;function gn(an){return function(zt){return function(an){if(ke)throw new TypeError("Generator is already executing.");for(;he;)try{if(ke=1,Ze&&(Ye=2&an[0]?Ze.return:an[0]?Ze.throw||((Ye=Ze.return)&&Ye.call(Ze),0):Ze.next)&&!(Ye=Ye.call(Ze,an[1])).done)return Ye;switch(Ze=0,Ye&&(an=[2&an[0],Ye.value]),an[0]){case 0:case 1:Ye=an;break;case 4:return he.label++,{value:an[1],done:!1};case 5:he.label++,Ze=an[1],an=[0];continue;case 7:an=he.ops.pop(),he.trys.pop();continue;default:if(!(Ye=(Ye=he.trys).length>0&&Ye[Ye.length-1])&&(6===an[0]||2===an[0])){he=0;continue}if(3===an[0]&&(!Ye||an[1]>Ye[0]&&an[1]<Ye[3])){he.label=an[1];break}if(6===an[0]&&he.label<Ye[1]){he.label=Ye[1],Ye=an;break}if(Ye&&he.label<Ye[2]){he.label=Ye[2],he.ops.push(an);break}Ye[2]&&he.ops.pop(),he.trys.pop();continue}an=He.call(je,he)}catch(zt){an=[6,zt],Ze=0}finally{ke=Ye=0}if(5&an[0])throw an[1];return{value:an[0]?an[1]:void 0,done:!0}}([an,zt])}}}function pe(je){var He="function"==typeof Symbol&&Symbol.iterator,he=He&&je[He],ke=0;if(he)return he.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&ke>=je.length&&(je=void 0),{value:je&&je[ke++],done:!je}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(je,He){var he="function"==typeof Symbol&&je[Symbol.iterator];if(!he)return je;var Ze,It,ke=he.call(je),Ye=[];try{for(;(void 0===He||He-- >0)&&!(Ze=ke.next()).done;)Ye.push(Ze.value)}catch(gn){It={error:gn}}finally{try{Ze&&!Ze.done&&(he=ke.return)&&he.call(ke)}finally{if(It)throw It.error}}return Ye}function Be(je,He,he){if(he||2===arguments.length)for(var Ye,ke=0,Ze=He.length;ke<Ze;ke++)(Ye||!(ke in He))&&(Ye||(Ye=Array.prototype.slice.call(He,0,ke)),Ye[ke]=He[ke]);return je.concat(Ye||Array.prototype.slice.call(He))}Z.d(Ke,{_T:()=>se,mG:()=>Ie,Jh:()=>ue,XA:()=>pe,CR:()=>de,ev:()=>Be})},8239:(Pt,Ke,Z)=>{"use strict";function _(X,se,Te,me,Ue,Ie,ue){try{var ne=X[Ie](ue),W=ne.value}catch(pe){return void Te(pe)}ne.done?se(W):Promise.resolve(W).then(me,Ue)}function c(X){return function(){var se=this,Te=arguments;return new Promise(function(me,Ue){var Ie=X.apply(se,Te);function ue(W){_(Ie,me,Ue,ue,ne,"next",W)}function ne(W){_(Ie,me,Ue,ue,ne,"throw",W)}ue(void 0)})}}Z.d(Ke,{Z:()=>c})}},Pt=>{Pt(Pt.s=1645)}]);